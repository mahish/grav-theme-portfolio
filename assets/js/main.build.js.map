{"version":3,"file":"main.build.js","sources":["../../node_modules/jump.js/dist/jump.module.js","../../src/js/localPageNavigation.js","../../node_modules/zooming/src/utils.js","../../node_modules/zooming/src/options.js","../../node_modules/zooming/src/modules/handler.js","../../node_modules/zooming/src/modules/overlay.js","../../node_modules/zooming/src/modules/target.js","../../node_modules/zooming/src/modules/zooming.js","../../node_modules/zooming/src/index.js","../../src/js/lightbox.js","../../src/js/main.js","../../src/js/dom-load.js","../../src/js/utilities.js","../../src/js/window-load.js"],"sourcesContent":["// Robert Penner's easeInOutQuad\n\n// find the rest of his easing functions here: http://robertpenner.com/easing/\n// find them exported for ES6 consumption here: https://github.com/jaxgeller/ez.js\n\nvar easeInOutQuad = function easeInOutQuad(t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar jumper = function jumper() {\n  // private variable cache\n  // no variables are created during a jump, preventing memory leaks\n\n  var element = void 0; // element to scroll to                   (node)\n\n  var start = void 0; // where scroll starts                    (px)\n  var stop = void 0; // where scroll stops                     (px)\n\n  var offset = void 0; // adjustment from the stop position      (px)\n  var easing = void 0; // easing function                        (function)\n  var a11y = void 0; // accessibility support flag             (boolean)\n\n  var distance = void 0; // distance of scroll                     (px)\n  var duration = void 0; // scroll duration                        (ms)\n\n  var timeStart = void 0; // time scroll started                    (ms)\n  var timeElapsed = void 0; // time spent scrolling thus far          (ms)\n\n  var next = void 0; // next scroll position                   (px)\n\n  var callback = void 0; // to call when done scrolling            (function)\n\n  // scroll position helper\n\n  function location() {\n    return window.scrollY || window.pageYOffset;\n  }\n\n  // element offset helper\n\n  function top(element) {\n    return element.getBoundingClientRect().top + start;\n  }\n\n  // rAF loop helper\n\n  function loop(timeCurrent) {\n    // store time scroll started, if not started already\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    // determine time spent scrolling so far\n    timeElapsed = timeCurrent - timeStart;\n\n    // calculate next scroll position\n    next = easing(timeElapsed, start, distance, duration);\n\n    // scroll to it\n    window.scrollTo(0, next);\n\n    // check progress\n    timeElapsed < duration ? window.requestAnimationFrame(loop) // continue scroll loop\n    : done(); // scrolling is done\n  }\n\n  // scroll finished helper\n\n  function done() {\n    // account for rAF time rounding inaccuracies\n    window.scrollTo(0, start + distance);\n\n    // if scrolling to an element, and accessibility is enabled\n    if (element && a11y) {\n      // add tabindex indicating programmatic focus\n      element.setAttribute('tabindex', '-1');\n\n      // focus the element\n      element.focus();\n    }\n\n    // if it exists, fire the callback\n    if (typeof callback === 'function') {\n      callback();\n    }\n\n    // reset time for next jump\n    timeStart = false;\n  }\n\n  // API\n\n  function jump(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // resolve options, or use defaults\n    duration = options.duration || 1000;\n    offset = options.offset || 0;\n    callback = options.callback; // \"undefined\" is a suitable default, and won't be called\n    easing = options.easing || easeInOutQuad;\n    a11y = options.a11y || false;\n\n    // cache starting position\n    start = location();\n\n    // resolve target\n    switch (typeof target === 'undefined' ? 'undefined' : _typeof(target)) {\n      // scroll from current position\n      case 'number':\n        element = undefined; // no element to scroll to\n        a11y = false; // make sure accessibility is off\n        stop = start + target;\n        break;\n\n      // scroll to element (node)\n      // bounding rect is relative to the viewport\n      case 'object':\n        element = target;\n        stop = top(element);\n        break;\n\n      // scroll to element (selector)\n      // bounding rect is relative to the viewport\n      case 'string':\n        element = document.querySelector(target);\n        stop = top(element);\n        break;\n    }\n\n    // resolve scroll distance, accounting for offset\n    distance = stop - start + offset;\n\n    // resolve duration\n    switch (_typeof(options.duration)) {\n      // number in ms\n      case 'number':\n        duration = options.duration;\n        break;\n\n      // function passed the distance of the scroll\n      case 'function':\n        duration = options.duration(distance);\n        break;\n    }\n\n    // start the loop\n    window.requestAnimationFrame(loop);\n  }\n\n  // expose only the jump method\n  return jump;\n};\n\n// export singleton\n\nvar singleton = jumper();\n\nexport default singleton;\n","import jump from 'jump.js';\n\nexport default class LocalPageNavigation {\n  constructor(element) {\n    this.anchor = element;\n    this.targetID = this.anchor.getAttribute('href');\n\n    this.anchor.addEventListener('click', () => {\n      jump(this.targetID, {\n        // duration: distance => Math.abs(distance) / 2,\n        duration: 1000,\n        // offset: document.querySelector('[data-creepy-marquee]').offsetHeight * -1,\n        callback: undefined,\n        // easing: ez.easeInOutQuad,\n        a11y: false,\n      });\n    }, false);\n  }\n}\n","export const webkitPrefix = 'WebkitAppearance' in document.documentElement.style\n  ? '-webkit-'\n  : ''\n\nexport const cursor = {\n  default: 'auto',\n  zoomIn: `${webkitPrefix}zoom-in`,\n  zoomOut: `${webkitPrefix}zoom-out`,\n  grab: `${webkitPrefix}grab`,\n  move: 'move'\n}\n\nexport function listen (el, event, handler, add = true) {\n  const options = { passive: false }\n\n  if (add) {\n    el.addEventListener(event, handler, options)\n  } else {\n    el.removeEventListener(event, handler, options)\n  }\n}\n\nexport function loadImage (src, cb) {\n  if (src) {\n    const img = new Image()\n\n    img.onload = function onImageLoad () {\n      if (cb) cb(img)\n    }\n\n    img.src = src\n  }\n}\n\nexport function getOriginalSource (el) {\n  if (el.dataset.original) {\n    return el.dataset.original\n  } else if (el.parentNode.tagName === 'A') {\n    return el.parentNode.getAttribute('href')\n  } else {\n    return null\n  }\n}\n\nexport function setStyle (el, styles, remember) {\n  checkTrans(styles)\n\n  let s = el.style\n  let original = {}\n\n  for (let key in styles) {\n    if (remember) {\n      original[key] = s[key] || ''\n    }\n\n    s[key] = styles[key]\n  }\n\n  return original\n}\n\nexport function bindAll (_this, that) {\n  const methods = Object.getOwnPropertyNames(Object.getPrototypeOf(_this))\n  methods.forEach(function bindOne (method) {\n    _this[method] = _this[method].bind(that)\n  })\n}\n\nconst trans = sniffTransition(document.createElement('div'))\nexport const transformCssProp = trans.transformCssProp\nexport const transEndEvent = trans.transEndEvent\n\nfunction checkTrans (styles) {\n  const { transitionProp, transformProp } = trans\n\n  if (styles.transition) {\n    const value = styles.transition\n    delete styles.transition\n    styles[transitionProp] = value\n  }\n\n  if (styles.transform) {\n    const value = styles.transform\n    delete styles.transform\n    styles[transformProp] = value\n  }\n}\n\nfunction sniffTransition (el) {\n  let res = {}\n  const trans = ['webkitTransition', 'transition', 'mozTransition']\n  const tform = ['webkitTransform', 'transform', 'mozTransform']\n  const end = {\n    transition: 'transitionend',\n    mozTransition: 'transitionend',\n    webkitTransition: 'webkitTransitionEnd'\n  }\n\n  trans.some(function hasTransition (prop) {\n    if (el.style[prop] !== undefined) {\n      res.transitionProp = prop\n      res.transEndEvent = end[prop]\n      return true\n    }\n  })\n\n  tform.some(function hasTransform (prop) {\n    if (el.style[prop] !== undefined) {\n      res.transformProp = prop\n      res.transformCssProp = prop.replace(/(.*)Transform/, '-$1-transform')\n      return true\n    }\n  })\n\n  return res\n}\n","export default {\n  /**\n   * Zoomable elements by default. It can be a css selector or an element.\n   * @type {string|Element}\n   */\n  defaultZoomable: 'img[data-action=\"zoom\"]',\n\n  /**\n   * To be able to grab and drag the image for extra zoom-in.\n   * @type {boolean}\n   */\n  enableGrab: true,\n\n  /**\n   * Preload zoomable images.\n   * @type {boolean}\n   */\n  preloadImage: false,\n\n  /**\n   * Close the zoomed image when browser window is resized.\n   * @type {boolean}\n   */\n  closeOnWindowResize: true,\n\n  /**\n   * Transition duration in seconds.\n   * @type {number}\n   */\n  transitionDuration: 0.4,\n\n  /**\n   * Transition timing function.\n   * @type {string}\n   */\n  transitionTimingFunction: 'cubic-bezier(0.4, 0, 0, 1)',\n\n  /**\n   * Overlay background color.\n   * @type {string}\n   */\n  bgColor: 'rgb(255, 255, 255)',\n\n  /**\n   * Overlay background opacity.\n   * @type {number}\n   */\n  bgOpacity: 1,\n\n  /**\n   * The base scale factor for zooming. By default scale to fit the window.\n   * @type {number}\n   */\n  scaleBase: 1.0,\n\n  /**\n   * The additional scale factor when grabbing the image.\n   * @type {number}\n   */\n  scaleExtra: 0.5,\n\n  /**\n   * How much scrolling it takes before closing out.\n   * @type {number}\n   */\n  scrollThreshold: 40,\n\n  /**\n   * The z-index that the overlay will be added with.\n   * @type {number}\n   */\n  zIndex: 998,\n\n  /**\n   * Scale (zoom in) to given width and height. Ignore scaleBase if set.\n   * @type {Object}\n   * @example\n   * customSize: { width: 800, height: 400 }\n   */\n  customSize: null,\n\n  /**\n   * A callback function that will be called when a target is opened and\n   * transition has ended. It will get the target element as the argument.\n   * @type {Function}\n   */\n  onOpen: null,\n\n  /**\n   * Same as above, except fired when closed.\n   * @type {Function}\n   */\n  onClose: null,\n\n  /**\n    * Same as above, except fired when grabbed.\n    * @type {Function}\n    */\n  onGrab: null,\n\n  /**\n    * Same as above, except fired when moved.\n    * @type {Function}\n    */\n  onMove: null,\n\n  /**\n   * Same as above, except fired when released.\n   * @type {Function}\n   */\n  onRelease: null,\n\n  /**\n   * A callback function that will be called before open.\n   * @type {Function}\n   */\n  onBeforeOpen: null,\n\n  /**\n   * A callback function that will be called before close.\n   * @type {Function}\n   */\n  onBeforeClose: null,\n\n  /**\n   * A callback function that will be called before grab.\n   * @type {Function}\n   */\n  onBeforeGrab: null,\n\n  /**\n   * A callback function that will be called before release.\n   * @type {Function}\n   */\n  onBeforeRelease: null\n}\n","import { bindAll } from '../utils'\n\nconst PRESS_DELAY = 200\n\nexport default {\n  init(instance) {\n    bindAll(this, instance)\n  },\n\n  click(e) {\n    e.preventDefault()\n\n    if (isPressingMetaKey(e)) {\n      return window.open(\n        this.target.srcOriginal || e.currentTarget.src,\n        '_blank'\n      )\n    } else {\n      if (this.shown) {\n        if (this.released) {\n          this.close()\n        } else {\n          this.release()\n        }\n      } else {\n        this.open(e.currentTarget)\n      }\n    }\n  },\n\n  scroll() {\n    const el =\n      document.documentElement || document.body.parentNode || document.body\n    const scrollLeft = window.pageXOffset || el.scrollLeft\n    const scrollTop = window.pageYOffset || el.scrollTop\n\n    if (this.lastScrollPosition === null) {\n      this.lastScrollPosition = {\n        x: scrollLeft,\n        y: scrollTop\n      }\n    }\n\n    const deltaX = this.lastScrollPosition.x - scrollLeft\n    const deltaY = this.lastScrollPosition.y - scrollTop\n    const threshold = this.options.scrollThreshold\n\n    if (Math.abs(deltaY) >= threshold || Math.abs(deltaX) >= threshold) {\n      this.lastScrollPosition = null\n      this.close()\n    }\n  },\n\n  keydown(e) {\n    if (isEscape(e)) {\n      if (this.released) {\n        this.close()\n      } else {\n        this.release(this.close)\n      }\n    }\n  },\n\n  mousedown(e) {\n    if (!isLeftButton(e) || isPressingMetaKey(e)) return\n    e.preventDefault()\n    const { clientX, clientY } = e\n\n    this.pressTimer = setTimeout(\n      function grabOnMouseDown() {\n        this.grab(clientX, clientY)\n      }.bind(this),\n      PRESS_DELAY\n    )\n  },\n\n  mousemove(e) {\n    if (this.released) return\n    this.move(e.clientX, e.clientY)\n  },\n\n  mouseup(e) {\n    if (!isLeftButton(e) || isPressingMetaKey(e)) return\n    clearTimeout(this.pressTimer)\n\n    if (this.released) {\n      this.close()\n    } else {\n      this.release()\n    }\n  },\n\n  touchstart(e) {\n    e.preventDefault()\n    const { clientX, clientY } = e.touches[0]\n\n    this.pressTimer = setTimeout(\n      function grabOnTouchStart() {\n        this.grab(clientX, clientY)\n      }.bind(this),\n      PRESS_DELAY\n    )\n  },\n\n  touchmove(e) {\n    if (this.released) return\n\n    const { clientX, clientY } = e.touches[0]\n    this.move(clientX, clientY)\n  },\n\n  touchend(e) {\n    if (isTouching(e)) return\n    clearTimeout(this.pressTimer)\n\n    if (this.released) {\n      this.close()\n    } else {\n      this.release()\n    }\n  },\n\n  clickOverlay() {\n    this.close()\n  },\n\n  resizeWindow() {\n    this.close()\n  }\n}\n\nfunction isLeftButton(e) {\n  return e.button === 0\n}\n\nfunction isPressingMetaKey(e) {\n  return e.metaKey || e.ctrlKey\n}\n\nfunction isTouching(e) {\n  e.targetTouches.length > 0\n}\n\nfunction isEscape(e) {\n  const code = e.key || e.code\n  return code === 'Escape' || e.keyCode === 27\n}\n","import { listen, setStyle } from '../utils'\n\nexport default {\n  init(instance) {\n    this.el = document.createElement('div')\n    this.instance = instance\n    this.parent = document.body\n\n    setStyle(this.el, {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      opacity: 0\n    })\n\n    this.updateStyle(instance.options)\n    listen(this.el, 'click', instance.handler.clickOverlay.bind(instance))\n  },\n\n  updateStyle(options) {\n    setStyle(this.el, {\n      zIndex: options.zIndex,\n      backgroundColor: options.bgColor,\n      transition: `opacity\n        ${options.transitionDuration}s\n        ${options.transitionTimingFunction}`\n    })\n  },\n\n  insert() {\n    this.parent.appendChild(this.el)\n  },\n\n  remove() {\n    this.parent.removeChild(this.el)\n  },\n\n  fadeIn() {\n    this.el.offsetWidth\n    this.el.style.opacity = this.instance.options.bgOpacity\n  },\n\n  fadeOut() {\n    this.el.style.opacity = 0\n  }\n}\n","import { cursor, setStyle, getOriginalSource, transformCssProp } from '../utils'\n\n// Translate z-axis to fix CSS grid display issue in Chrome:\n// https://github.com/kingdido999/zooming/issues/42\nconst TRANSLATE_Z = 0\n\nexport default {\n  init (el, instance) {\n    this.el = el\n    this.instance = instance\n    this.srcThumbnail = this.el.getAttribute('src')\n    this.srcOriginal = getOriginalSource(this.el)\n    this.rect = this.el.getBoundingClientRect()\n    this.translate = null\n    this.scale = null\n    this.styleOpen = null\n    this.styleClose = null\n  },\n\n  zoomIn () {\n    const {\n      zIndex,\n      enableGrab,\n      transitionDuration,\n      transitionTimingFunction\n    } = this.instance.options\n    this.translate = this.calculateTranslate()\n    this.scale = this.calculateScale()\n\n    this.styleOpen = {\n      position: 'relative',\n      zIndex: zIndex + 1,\n      cursor: enableGrab ? cursor.grab : cursor.zoomOut,\n      transition: `${transformCssProp}\n        ${transitionDuration}s\n        ${transitionTimingFunction}`,\n      transform: `translate3d(${this.translate.x}px, ${this.translate.y}px, ${TRANSLATE_Z}px)\n        scale(${this.scale.x},${this.scale.y})`,\n      height: `${this.rect.height}px`,\n      width: `${this.rect.width}px`\n    }\n\n    // Force layout update\n    this.el.offsetWidth\n\n    // Trigger transition\n    this.styleClose = setStyle(this.el, this.styleOpen, true)\n  },\n\n  zoomOut () {\n    // Force layout update\n    this.el.offsetWidth\n\n    setStyle(this.el, { transform: 'none' })\n  },\n\n  grab (x, y, scaleExtra) {\n    const windowCenter = getWindowCenter()\n    const [dx, dy] = [windowCenter.x - x, windowCenter.y - y]\n\n    setStyle(this.el, {\n      cursor: cursor.move,\n      transform: `translate3d(\n        ${this.translate.x + dx}px, ${this.translate.y + dy}px, ${TRANSLATE_Z}px)\n        scale(${this.scale.x + scaleExtra},${this.scale.y + scaleExtra})`\n    })\n  },\n\n  move (x, y, scaleExtra) {\n    const windowCenter = getWindowCenter()\n    const [dx, dy] = [windowCenter.x - x, windowCenter.y - y]\n\n    setStyle(this.el, {\n      transition: transformCssProp,\n      transform: `translate3d(\n        ${this.translate.x + dx}px, ${this.translate.y + dy}px, ${TRANSLATE_Z}px)\n        scale(${this.scale.x + scaleExtra},${this.scale.y + scaleExtra})`\n    })\n  },\n\n  restoreCloseStyle () {\n    setStyle(this.el, this.styleClose)\n  },\n\n  restoreOpenStyle () {\n    setStyle(this.el, this.styleOpen)\n  },\n\n  upgradeSource () {\n    if (this.srcOriginal) {\n      const parentNode = this.el.parentNode\n      const temp = this.el.cloneNode(false)\n\n      // Force compute the hi-res image in DOM to prevent\n      // image flickering while updating src\n      temp.setAttribute('src', this.srcOriginal)\n      temp.style.position = 'fixed'\n      temp.style.visibility = 'hidden'\n      parentNode.appendChild(temp)\n\n      // Add delay to prevent Firefox from flickering\n      setTimeout(\n        function updateSrc () {\n          this.el.setAttribute('src', this.srcOriginal)\n          parentNode.removeChild(temp)\n        }.bind(this),\n        50\n      )\n    }\n  },\n\n  downgradeSource () {\n    if (this.srcOriginal) {\n      this.el.setAttribute('src', this.srcThumbnail)\n    }\n  },\n\n  calculateTranslate () {\n    const windowCenter = getWindowCenter()\n    const targetCenter = {\n      x: this.rect.left + this.rect.width / 2,\n      y: this.rect.top + this.rect.height / 2\n    }\n\n    // The vector to translate image to the window center\n    return {\n      x: windowCenter.x - targetCenter.x,\n      y: windowCenter.y - targetCenter.y\n    }\n  },\n\n  calculateScale () {\n    const { zoomingHeight, zoomingWidth } = this.el.dataset\n    const { customSize, scaleBase } = this.instance.options\n\n    if (zoomingHeight && zoomingWidth) {\n      return {\n        x: zoomingWidth / this.rect.width,\n        y: zoomingHeight / this.rect.height\n      }\n    } else if (customSize) {\n      return {\n        x: customSize.width / this.rect.width,\n        y: customSize.height / this.rect.height\n      }\n    } else {\n      const targetHalfWidth = this.rect.width / 2\n      const targetHalfHeight = this.rect.height / 2\n      const windowCenter = getWindowCenter()\n\n      // The distance between target edge and window edge\n      const targetEdgeToWindowEdge = {\n        x: windowCenter.x - targetHalfWidth,\n        y: windowCenter.y - targetHalfHeight\n      }\n\n      const scaleHorizontally = targetEdgeToWindowEdge.x / targetHalfWidth\n      const scaleVertically = targetEdgeToWindowEdge.y / targetHalfHeight\n\n      // The additional scale is based on the smaller value of\n      // scaling horizontally and scaling vertically\n      const scale = scaleBase + Math.min(scaleHorizontally, scaleVertically)\n\n      return {\n        x: scale,\n        y: scale\n      }\n    }\n  }\n}\n\nfunction getWindowCenter () {\n  const docEl = document.documentElement\n  const windowWidth = Math.min(docEl.clientWidth, window.innerWidth)\n  const windowHeight = Math.min(docEl.clientHeight, window.innerHeight)\n\n  return {\n    x: windowWidth / 2,\n    y: windowHeight / 2\n  }\n}\n","import {\n  cursor,\n  listen,\n  loadImage,\n  transEndEvent,\n  getOriginalSource\n} from '../utils'\nimport DEFAULT_OPTIONS from '../options'\n\nimport handler from './handler'\nimport overlay from './overlay'\nimport target from './target'\n\n/**\n * Zooming instance.\n */\nexport default class Zooming {\n  /**\n   * @param {Object} [options] Update default options if provided.\n   */\n  constructor(options) {\n    this.target = Object.create(target)\n    this.overlay = Object.create(overlay)\n    this.handler = Object.create(handler)\n    this.body = document.body\n\n    this.shown = false\n    this.lock = false\n    this.released = true\n    this.lastScrollPosition = null\n    this.pressTimer = null\n\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options)\n    this.overlay.init(this)\n    this.handler.init(this)\n    this.listen(this.options.defaultZoomable)\n  }\n\n  /**\n   * Make element(s) zoomable.\n   * @param  {string|Element} el A css selector or an Element.\n   * @return {this}\n   */\n  listen(el) {\n    if (typeof el === 'string') {\n      const els = document.querySelectorAll(el)\n      let i = els.length\n\n      while (i--) {\n        this.listen(els[i])\n      }\n    } else if (el.tagName === 'IMG') {\n      el.style.cursor = cursor.zoomIn\n      listen(el, 'click', this.handler.click)\n\n      if (this.options.preloadImage) {\n        loadImage(getOriginalSource(el))\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Update options or return current options if no argument is provided.\n   * @param  {Object} options An Object that contains this.options.\n   * @return {this|this.options}\n   */\n  config(options) {\n    if (options) {\n      Object.assign(this.options, options)\n      this.overlay.updateStyle(this.options)\n      return this\n    } else {\n      return this.options\n    }\n  }\n\n  /**\n   * Open (zoom in) the Element.\n   * @param  {Element} el The Element to open.\n   * @param  {Function} [cb=this.options.onOpen] A callback function that will\n   * be called when a target is opened and transition has ended. It will get\n   * the target element as the argument.\n   * @return {this}\n   */\n  open(el, cb = this.options.onOpen) {\n    if (this.shown || this.lock) return\n\n    const target = typeof el === 'string' ? document.querySelector(el) : el\n\n    if (target.tagName !== 'IMG') return\n\n    if (this.options.onBeforeOpen) {\n      this.options.onBeforeOpen(target)\n    }\n\n    this.target.init(target, this)\n\n    if (!this.options.preloadImage) {\n      loadImage(this.target.srcOriginal)\n    }\n\n    this.shown = true\n    this.lock = true\n\n    this.target.zoomIn()\n    this.overlay.insert()\n    this.overlay.fadeIn()\n\n    listen(document, 'scroll', this.handler.scroll)\n    listen(document, 'keydown', this.handler.keydown)\n\n    if (this.options.closeOnWindowResize) {\n      listen(window, 'resize', this.handler.resizeWindow)\n    }\n\n    const onOpenEnd = () => {\n      listen(target, transEndEvent, onOpenEnd, false)\n      this.lock = false\n      this.target.upgradeSource()\n\n      if (this.options.enableGrab) {\n        toggleGrabListeners(document, this.handler, true)\n      }\n\n      if (cb) cb(target)\n    }\n\n    listen(target, transEndEvent, onOpenEnd)\n\n    return this\n  }\n\n  /**\n   * Close (zoom out) the Element currently opened.\n   * @param  {Function} [cb=this.options.onClose] A callback function that will\n   * be called when a target is closed and transition has ended. It will get\n   * the target element as the argument.\n   * @return {this}\n   */\n  close(cb = this.options.onClose) {\n    if (!this.shown || this.lock) return\n\n    const target = this.target.el\n\n    if (this.options.onBeforeClose) {\n      this.options.onBeforeClose(target)\n    }\n\n    this.lock = true\n    this.body.style.cursor = cursor.default\n    this.overlay.fadeOut()\n    this.target.zoomOut()\n\n    listen(document, 'scroll', this.handler.scroll, false)\n    listen(document, 'keydown', this.handler.keydown, false)\n\n    if (this.options.closeOnWindowResize) {\n      listen(window, 'resize', this.handler.resizeWindow, false)\n    }\n\n    const onCloseEnd = () => {\n      listen(target, transEndEvent, onCloseEnd, false)\n\n      this.shown = false\n      this.lock = false\n\n      this.target.downgradeSource()\n\n      if (this.options.enableGrab) {\n        toggleGrabListeners(document, this.handler, false)\n      }\n\n      this.target.restoreCloseStyle()\n      this.overlay.remove()\n\n      if (cb) cb(target)\n    }\n\n    listen(target, transEndEvent, onCloseEnd)\n\n    return this\n  }\n\n  /**\n   * Grab the Element currently opened given a position and apply extra zoom-in.\n   * @param  {number}   x The X-axis of where the press happened.\n   * @param  {number}   y The Y-axis of where the press happened.\n   * @param  {number}   scaleExtra Extra zoom-in to apply.\n   * @param  {Function} [cb=this.options.onGrab] A callback function that\n   * will be called when a target is grabbed and transition has ended. It\n   * will get the target element as the argument.\n   * @return {this}\n   */\n  grab(x, y, scaleExtra = this.options.scaleExtra, cb = this.options.onGrab) {\n    if (!this.shown || this.lock) return\n\n    const target = this.target.el\n\n    if (this.options.onBeforeGrab) {\n      this.options.onBeforeGrab(target)\n    }\n\n    this.released = false\n    this.target.grab(x, y, scaleExtra)\n\n    const onGrabEnd = () => {\n      listen(target, transEndEvent, onGrabEnd, false)\n      if (cb) cb(target)\n    }\n\n    listen(target, transEndEvent, onGrabEnd)\n\n    return this\n  }\n\n  /**\n   * Move the Element currently grabbed given a position and apply extra zoom-in.\n   * @param  {number}   x The X-axis of where the press happened.\n   * @param  {number}   y The Y-axis of where the press happened.\n   * @param  {number}   scaleExtra Extra zoom-in to apply.\n   * @param  {Function} [cb=this.options.onMove] A callback function that\n   * will be called when a target is moved and transition has ended. It will\n   * get the target element as the argument.\n   * @return {this}\n   */\n  move(x, y, scaleExtra = this.options.scaleExtra, cb = this.options.onMove) {\n    if (!this.shown || this.lock) return\n\n    this.released = false\n    this.body.style.cursor = cursor.move\n    this.target.move(x, y, scaleExtra)\n\n    const target = this.target.el\n\n    const onMoveEnd = () => {\n      listen(target, transEndEvent, onMoveEnd, false)\n      if (cb) cb(target)\n    }\n\n    listen(target, transEndEvent, onMoveEnd)\n\n    return this\n  }\n\n  /**\n   * Release the Element currently grabbed.\n   * @param  {Function} [cb=this.options.onRelease] A callback function that\n   * will be called when a target is released and transition has ended. It\n   * will get the target element as the argument.\n   * @return {this}\n   */\n  release(cb = this.options.onRelease) {\n    if (!this.shown || this.lock) return\n\n    const target = this.target.el\n\n    if (this.options.onBeforeRelease) {\n      this.options.onBeforeRelease(target)\n    }\n\n    this.lock = true\n    this.body.style.cursor = cursor.default\n    this.target.restoreOpenStyle()\n\n    const onReleaseEnd = () => {\n      listen(target, transEndEvent, onReleaseEnd, false)\n      this.lock = false\n      this.released = true\n\n      if (cb) cb(target)\n    }\n\n    listen(target, transEndEvent, onReleaseEnd)\n\n    return this\n  }\n}\n\nfunction toggleGrabListeners(el, handler, add) {\n  const types = [\n    'mousedown',\n    'mousemove',\n    'mouseup',\n    'touchstart',\n    'touchmove',\n    'touchend'\n  ]\n\n  types.forEach(function toggleListener(type) {\n    listen(el, type, handler[type], add)\n  })\n}\n","import { listen } from './utils'\nimport Zooming from './modules/zooming'\n\nlisten(document, 'DOMContentLoaded', function initZooming() {\n  new Zooming()\n})\n\nexport default Zooming\n","import Zooming from 'zooming';\n\nconst lightbox = new Zooming({\n  defaultZoomable: '.lightbox',\n  enableGrab: false,\n  preloadImage: false,\n  bgColor: 'rgb(0, 0, 0)',\n  bgOpacity: 0.9,\n  // scaleBase: 1.01,\n  scrollThreshold: 20,\n  zIndex: 999999,\n});\n\nexport default lightbox;\n","import domLoad from './dom-load';\nimport windowLoad from './window-load';\n\n// The DOMContentLoaded event fires when parsing of the current page is complete. DOMContentLoaded is a great event to use to hookup UI functionality to complex web pages.\ndocument.addEventListener('DOMContentLoaded', domLoad, false);\n\n// The load event fires when all files have finished loading from all resources, including ads and images.\nwindow.addEventListener('load', windowLoad, false);\n","import { _toggleState } from './utilities';\nimport LocalPageNavigation from './localPageNavigation';\nimport lightbox from './lightbox';\n\n\nconst domLoad = () => {\n  // const windowWidth = window.outerWidth;\n  const $header = document.querySelector('#header');\n  const $menu = $header.querySelector('.main-menu');\n  const $mobileMenuToggle = $header.querySelector('#mobile-menu-toggle');\n\n  // Mobile menu\n  $mobileMenuToggle.addEventListener('click', (event) => {\n    event.preventDefault();\n    _toggleState($menu, 'closed', 'open');\n  }, false);\n\n  // jump.js — Animated on page scroll\n  const $localPageAnchors = document.querySelectorAll('a[href^=\"#\"]');\n  $localPageAnchors.forEach((element) => {\n    const localPageAnchor = new LocalPageNavigation(element);\n  });\n\n  // lightbox (zooming)\n  lightbox();\n};\n\nexport default domLoad;\n\n","export function _toggleState($element, stateOne, stateTwo) {\n  $element.setAttribute('data-state', $element.getAttribute('data-state') === stateOne ? stateTwo : stateOne);\n}\n","const windowLoad = () => {\n\n  document.querySelector('.loading').classList.remove('loading');\n};\n\nexport default windowLoad;\n"],"names":["easeInOutQuad","t","b","c","d","_typeof","Symbol","iterator","obj","constructor","prototype","singleton","element","start","stop","offset","easing","a11y","distance","duration","timeStart","timeElapsed","next","callback","top","getBoundingClientRect","loop","timeCurrent","window","scrollTo","requestAnimationFrame","setAttribute","focus","target","options","arguments","length","undefined","scrollY","pageYOffset","document","querySelector","jumper","LocalPageNavigation","anchor","targetID","this","getAttribute","addEventListener","_this","webkitPrefix","documentElement","style","cursor","default","zoomIn","zoomOut","grab","move","listen","el","event","handler","add","passive","removeEventListener","loadImage","src","cb","img","Image","onload","getOriginalSource","dataset","original","parentNode","tagName","setStyle","styles","remember","transitionProp","transformProp","trans","transition","value","transform","checkTrans","s","key","res","end","mozTransition","webkitTransition","some","prop","transEndEvent","transformCssProp","replace","sniffTransition","createElement","defaultZoomable","enableGrab","preloadImage","closeOnWindowResize","transitionDuration","transitionTimingFunction","bgColor","bgOpacity","scaleBase","scaleExtra","scrollThreshold","zIndex","customSize","onOpen","onClose","onGrab","onMove","onRelease","onBeforeOpen","onBeforeClose","onBeforeGrab","onBeforeRelease","[object Object]","instance","that","Object","getOwnPropertyNames","getPrototypeOf","forEach","method","bind","e","preventDefault","isPressingMetaKey","open","srcOriginal","currentTarget","shown","released","close","release","body","scrollLeft","pageXOffset","scrollTop","lastScrollPosition","x","y","deltaX","deltaY","threshold","Math","abs","code","keyCode","isEscape","isLeftButton","clientX","clientY","pressTimer","setTimeout","clearTimeout","touches","targetTouches","isTouching","button","metaKey","ctrlKey","parent","position","left","right","bottom","opacity","updateStyle","clickOverlay","backgroundColor","appendChild","removeChild","offsetWidth","srcThumbnail","rect","translate","scale","styleOpen","styleClose","calculateTranslate","calculateScale","height","width","windowCenter","getWindowCenter","dx","dy","temp","cloneNode","visibility","targetCenter","zoomingHeight","zoomingWidth","targetHalfWidth","targetHalfHeight","targetEdgeToWindowEdge","scaleHorizontally","scaleVertically","min","docEl","clientWidth","innerWidth","clientHeight","innerHeight","Zooming","create","overlay","lock","assign","DEFAULT_OPTIONS","init","els","querySelectorAll","i","click","insert","fadeIn","scroll","keydown","resizeWindow","onOpenEnd","upgradeSource","toggleGrabListeners","fadeOut","onCloseEnd","downgradeSource","restoreCloseStyle","remove","onGrabEnd","onMoveEnd","restoreOpenStyle","onReleaseEnd","type","lightbox","$header","$menu","$element","stateOne","stateTwo","classList"],"mappings":"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"}