{"version":3,"file":"main.build.js","sources":["../../node_modules/vanilla-lazyload/dist/lazyload.esm.js","../../node_modules/jump.js/dist/jump.module.js","../../src/js/localPageNavigation.js","../../node_modules/merge/merge.js","../../node_modules/justified-layout/lib/row.js","../../node_modules/justified-layout/lib/index.js","../../src/js/justified-layout.js","../../src/js/lightbox-presentation.js","../../src/js/main.js","../../src/js/dom-load.js","../../src/js/utilities.js","../../src/js/distribute-on-circle.js","../../src/js/idle-timer.js","../../src/js/window-load.js","../../src/js/footer.js"],"sourcesContent":["const runningOnBrowser = typeof window !== \"undefined\";\r\n\r\nconst isBot =\r\n    (runningOnBrowser && !(\"onscroll\" in window)) ||\r\n    (typeof navigator !== \"undefined\" && /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent));\r\n\r\nconst supportsIntersectionObserver = runningOnBrowser && \"IntersectionObserver\" in window;\r\n\r\nconst supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\r\n\r\nconst isHiDpi = runningOnBrowser && window.devicePixelRatio > 1;\r\n\r\nconst defaultSettings = {\r\n    elements_selector: \".lazy\",\r\n    container: isBot || runningOnBrowser ? document : null,\r\n    threshold: 300,\r\n    thresholds: null,\r\n    data_src: \"src\",\r\n    data_srcset: \"srcset\",\r\n    data_sizes: \"sizes\",\r\n    data_bg: \"bg\",\r\n    data_bg_hidpi: \"bg-hidpi\",\r\n    data_bg_multi: \"bg-multi\",\r\n    data_bg_multi_hidpi: \"bg-multi-hidpi\",\r\n    data_poster: \"poster\",\r\n    class_applied: \"applied\",\r\n    class_loading: \"loading\",\r\n    class_loaded: \"loaded\",\r\n    class_error: \"error\",\r\n    unobserve_completed: true,\r\n    unobserve_entered: false,\r\n    cancel_on_exit: true,\r\n    callback_enter: null,\r\n    callback_exit: null,\r\n    callback_applied: null,\r\n    callback_loading: null,\r\n    callback_loaded: null,\r\n    callback_error: null,\r\n    callback_finish: null,\r\n    callback_cancel: null,\r\n    use_native: false\r\n};\r\n\r\nconst getExtendedSettings = (customSettings) => {\r\n    return Object.assign({}, defaultSettings, customSettings);\r\n};\r\n\r\n/* Creates instance and notifies it through the window element */\r\nconst createInstance = function(classObj, options) {\r\n    var event;\r\n    let eventString = \"LazyLoad::Initialized\";\r\n    let instance = new classObj(options);\r\n    try {\r\n        // Works in modern browsers\r\n        event = new CustomEvent(eventString, { detail: { instance } });\r\n    } catch (err) {\r\n        // Works in Internet Explorer (all versions)\r\n        event = document.createEvent(\"CustomEvent\");\r\n        event.initCustomEvent(eventString, false, false, { instance });\r\n    }\r\n    window.dispatchEvent(event);\r\n};\r\n\r\n/* Auto initialization of one or more instances of lazyload, depending on the \r\n    options passed in (plain object or an array) */\r\nconst autoInitialize = (classObj, options) => {\r\n    if (!options) {\r\n        return;\r\n    }\r\n    if (!options.length) {\r\n        // Plain object\r\n        createInstance(classObj, options);\r\n    } else {\r\n        // Array of objects\r\n        for (let i = 0, optionsItem; (optionsItem = options[i]); i += 1) {\r\n            createInstance(classObj, optionsItem);\r\n        }\r\n    }\r\n};\r\n\r\nconst statusLoading = \"loading\";\r\nconst statusLoaded = \"loaded\";\r\nconst statusApplied = \"applied\";\r\nconst statusEntered = \"entered\";\r\nconst statusError = \"error\";\r\nconst statusNative = \"native\";\r\n\r\nconst dataPrefix = \"data-\";\r\nconst statusDataName = \"ll-status\";\r\n\r\nconst getData = (element, attribute) => {\r\n    return element.getAttribute(dataPrefix + attribute);\r\n};\r\n\r\nconst setData = (element, attribute, value) => {\r\n    var attrName = dataPrefix + attribute;\r\n    if (value === null) {\r\n        element.removeAttribute(attrName);\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst getStatus = (element) => getData(element, statusDataName);\r\nconst setStatus = (element, status) => setData(element, statusDataName, status);\r\nconst resetStatus = (element) => setStatus(element, null);\r\n\r\nconst hasEmptyStatus = (element) => getStatus(element) === null;\r\nconst hasStatusLoading = (element) => getStatus(element) === statusLoading;\r\nconst hasStatusError = (element) => getStatus(element) === statusError;\r\nconst hasStatusNative = (element) => getStatus(element) === statusNative;\r\n\r\nconst statusesAfterLoading = [statusLoading, statusLoaded, statusApplied, statusError];\r\nconst hadStartedLoading = (element) => (statusesAfterLoading.indexOf(getStatus(element)) >= 0);\r\n\r\nconst safeCallback = (callback, arg1, arg2, arg3) => {\r\n\tif (!callback) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (arg3 !== undefined) {\r\n\t\tcallback(arg1, arg2, arg3);\r\n\t\treturn;\r\n\t}\r\n\tif (arg2 !== undefined) {\r\n\t\tcallback(arg1, arg2);\r\n\t\treturn;\r\n\t}\r\n\tcallback(arg1);\r\n};\r\n\r\nconst addClass = (element, className) => {\r\n\tif (supportsClassList) {\r\n\t\telement.classList.add(className);\r\n\t\treturn;\r\n\t}\r\n\telement.className += (element.className ? \" \" : \"\") + className;\r\n};\r\n\r\nconst removeClass = (element, className) => {\r\n\tif (supportsClassList) {\r\n\t\telement.classList.remove(className);\r\n\t\treturn;\r\n\t}\r\n\telement.className = element.className.\r\n\t\treplace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").\r\n\t\treplace(/^\\s+/, \"\").\r\n\t\treplace(/\\s+$/, \"\");\r\n};\r\n\r\nconst addTempImage = (element) => {\r\n    element.llTempImage = document.createElement(\"IMG\");\r\n};\r\n\r\nconst deleteTempImage = (element) => {\r\n    delete element.llTempImage;\r\n};\r\n\r\nconst getTempImage = (element) => element.llTempImage;\r\n\r\nconst unobserve = (element, instance) => {\r\n    if (!instance) return;\r\n    const observer = instance._observer;\r\n    if (!observer) return;\r\n    observer.unobserve(element);\r\n};\r\n\r\nconst resetObserver = (observer) => {\r\n    observer.disconnect();\r\n};\r\n\r\nconst unobserveEntered = (element, settings, instance) => {\r\n    if (settings.unobserve_entered) unobserve(element, instance);\r\n};\r\n\r\nconst updateLoadingCount = (instance, delta) => {\r\n    if (!instance) return;\r\n    instance.loadingCount += delta;\r\n};\r\n\r\nconst decreaseToLoadCount = (instance) => {\r\n    if (!instance) return;\r\n    instance.toLoadCount -= 1;\r\n};\r\n\r\nconst setToLoadCount = (instance, value) => {\r\n    if (!instance) return;\r\n    instance.toLoadCount = value;\r\n};\r\n\r\nconst isSomethingLoading = (instance) => instance.loadingCount > 0;\r\n\r\nconst haveElementsToLoad = (instance) => instance.toLoadCount > 0;\r\n\r\nconst getSourceTags = (parentTag) => {\r\n    let sourceTags = [];\r\n    for (let i = 0, childTag; (childTag = parentTag.children[i]); i += 1) {\r\n        if (childTag.tagName === \"SOURCE\") {\r\n            sourceTags.push(childTag);\r\n        }\r\n    }\r\n    return sourceTags;\r\n};\r\n\r\nconst setAttributeIfValue = (element, attrName, value) => {\r\n    if (!value) {\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst resetAttribute = (element, attrName) => {\r\n    element.removeAttribute(attrName);\r\n};\r\n\r\nconst hasOriginalAttributes = (element) => {\r\n    return !!element.llOriginalAttrs;\r\n};\r\n\r\nconst saveOriginalImageAttributes = (element) => {\r\n    if (hasOriginalAttributes(element)) {\r\n        return;\r\n    }\r\n    const originalAttributes = {};\r\n    originalAttributes[\"src\"] = element.getAttribute(\"src\");\r\n    originalAttributes[\"srcset\"] = element.getAttribute(\"srcset\");\r\n    originalAttributes[\"sizes\"] = element.getAttribute(\"sizes\");\r\n    element.llOriginalAttrs = originalAttributes;\r\n};\r\n\r\nconst restoreOriginalImageAttributes = (element) => {\r\n    if (!hasOriginalAttributes(element)) {\r\n        return;\r\n    }\r\n    const originalAttributes = element.llOriginalAttrs;\r\n    setAttributeIfValue(element, \"src\", originalAttributes[\"src\"]);\r\n    setAttributeIfValue(element, \"srcset\", originalAttributes[\"srcset\"]);\r\n    setAttributeIfValue(element, \"sizes\", originalAttributes[\"sizes\"]);\r\n};\r\n\r\nconst setImageAttributes = (element, settings) => {\r\n    setAttributeIfValue(element, \"sizes\", getData(element, settings.data_sizes));\r\n    setAttributeIfValue(element, \"srcset\", getData(element, settings.data_srcset));\r\n    setAttributeIfValue(element, \"src\", getData(element, settings.data_src));\r\n};\r\n\r\nconst resetImageAttributes = (element) => {\r\n    resetAttribute(element, \"src\");\r\n    resetAttribute(element, \"srcset\");\r\n    resetAttribute(element, \"sizes\");\r\n};\r\n\r\nconst forEachPictureSource = (element, fn) => {\r\n    const parent = element.parentNode;\r\n    if (!parent || parent.tagName !== \"PICTURE\") {\r\n        return;\r\n    }\r\n    let sourceTags = getSourceTags(parent);\r\n    sourceTags.forEach(fn);\r\n};\r\n\r\nconst forEachVideoSource = (element, fn) => {\r\n    let sourceTags = getSourceTags(element);\r\n    sourceTags.forEach(fn);\r\n};\r\n\r\nconst restoreOriginalAttributesImg = (element) => {\r\n    forEachPictureSource(element, (sourceTag) => {\r\n        restoreOriginalImageAttributes(sourceTag);\r\n    });\r\n    restoreOriginalImageAttributes(element);\r\n};\r\n\r\nconst setSourcesImg = (element, settings) => {\r\n    forEachPictureSource(element, (sourceTag) => {\r\n        saveOriginalImageAttributes(sourceTag);\r\n        setImageAttributes(sourceTag, settings);\r\n    });\r\n    saveOriginalImageAttributes(element);\r\n    setImageAttributes(element, settings);\r\n};\r\n\r\nconst resetSourcesImg = (element) => {\r\n    forEachPictureSource(element, (sourceTag) => {\r\n        resetImageAttributes(sourceTag);\r\n    });\r\n    resetImageAttributes(element);\r\n};\r\n\r\nconst setSourcesIframe = (element, settings) => {\r\n    setAttributeIfValue(element, \"src\", getData(element, settings.data_src));\r\n};\r\n\r\nconst setSourcesVideo = (element, settings) => {\r\n    forEachVideoSource(element, (sourceTag) => {\r\n        setAttributeIfValue(sourceTag, \"src\", getData(sourceTag, settings.data_src));\r\n    });\r\n    setAttributeIfValue(element, \"poster\", getData(element, settings.data_poster));\r\n    setAttributeIfValue(element, \"src\", getData(element, settings.data_src));\r\n    element.load();\r\n};\r\n\r\nconst setSourcesFunctions = {\r\n    IMG: setSourcesImg,\r\n    IFRAME: setSourcesIframe,\r\n    VIDEO: setSourcesVideo\r\n};\r\n\r\nconst setBackground = (element, settings, instance) => {\r\n    const bg1xValue = getData(element, settings.data_bg);\r\n    const bgHiDpiValue = getData(element, settings.data_bg_hidpi);\r\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\r\n    if (!bgDataValue) return;\r\n    element.style.backgroundImage = `url(\"${bgDataValue}\")`;\r\n    getTempImage(element).setAttribute(\"src\", bgDataValue);\r\n    manageLoading(element, settings, instance);\r\n};\r\n\r\n// NOTE: THE TEMP IMAGE TRICK CANNOT BE DONE WITH data-multi-bg\r\n// BECAUSE INSIDE ITS VALUES MUST BE WRAPPED WITH URL() AND ONE OF THEM\r\n// COULD BE A GRADIENT BACKGROUND IMAGE\r\nconst setMultiBackground = (element, settings, instance) => {\r\n    const bg1xValue = getData(element, settings.data_bg_multi);\r\n    const bgHiDpiValue = getData(element, settings.data_bg_multi_hidpi);\r\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\r\n    if (!bgDataValue) {\r\n        return;\r\n    }\r\n    element.style.backgroundImage = bgDataValue;\r\n    manageApplied(element, settings, instance);\r\n};\r\n\r\nconst setSources = (element, settings) => {\r\n    const setSourcesFunction = setSourcesFunctions[element.tagName];\r\n    if (!setSourcesFunction) {\r\n        return;\r\n    }\r\n    setSourcesFunction(element, settings);\r\n};\r\n\r\nconst manageApplied = (element, settings, instance) => {\r\n    addClass(element, settings.class_applied);\r\n    setStatus(element, statusApplied);\r\n    removeDataMultiBackground(element, settings);\r\n    if (settings.unobserve_completed) {\r\n        // Unobserve now because we can't do it on load\r\n        unobserve(element, settings);\r\n    }\r\n    safeCallback(settings.callback_applied, element, instance);\r\n};\r\n\r\nconst manageLoading = (element, settings, instance) => {\r\n    updateLoadingCount(instance, +1);\r\n    addClass(element, settings.class_loading);\r\n    setStatus(element, statusLoading);\r\n    safeCallback(settings.callback_loading, element, instance);\r\n};\r\n\r\n// REMOVE DATA ATTRIBUTES --------------\r\n\r\nconst removeDataImg = (element, settings) => {\r\n    setData(element, settings.data_src, null);\r\n    setData(element, settings.data_srcset, null);\r\n    setData(element, settings.data_sizes, null);\r\n    forEachPictureSource(element, (sourceTag) => {\r\n        setData(sourceTag, settings.data_srcset, null);\r\n        setData(sourceTag, settings.data_sizes, null);\r\n    });\r\n};\r\n\r\nconst removeDataIframe = (element, settings) => {\r\n    setData(element, settings.data_src, null);\r\n};\r\n\r\nconst removeDataVideo = (element, settings) => {\r\n    setData(element, settings.data_src, null);\r\n    setData(element, settings.data_poster, null);\r\n    forEachVideoSource(element, (sourceTag) => {\r\n        setData(sourceTag, settings.data_src, null);\r\n    });\r\n};\r\n\r\nconst removeDataFunctions = {\r\n    IMG: removeDataImg,\r\n    IFRAME: removeDataIframe,\r\n    VIDEO: removeDataVideo\r\n};\r\n\r\nconst removeDataBackground = (element, settings) => {\r\n    setData(element, settings.data_bg, null);\r\n    setData(element, settings.data_bg_hidpi, null);\r\n};\r\n\r\nconst removeDataMultiBackground = (element, settings) => {\r\n    setData(element, settings.data_bg_multi, null);\r\n    setData(element, settings.data_bg_multi_hidpi, null);\r\n};\r\n\r\nconst removeDataAttributes = (element, settings) => {\r\n    const removeDataFunction = removeDataFunctions[element.tagName];\r\n    if (removeDataFunction) {\r\n        removeDataFunction(element, settings);\r\n        return;\r\n    }\r\n    removeDataBackground(element, settings);\r\n};\r\n\r\nconst elementsWithLoadEvent = [\"IMG\", \"IFRAME\", \"VIDEO\"];\r\nconst hasLoadEvent = (element) => elementsWithLoadEvent.indexOf(element.tagName) > -1;\r\n\r\nconst checkFinish = (settings, instance) => {\r\n    if (instance && !isSomethingLoading(instance) && !haveElementsToLoad(instance)) {\r\n        safeCallback(settings.callback_finish, instance);\r\n    }\r\n};\r\n\r\nconst addEventListener = (element, eventName, handler) => {\r\n    element.addEventListener(eventName, handler);\r\n    element.llEvLisnrs[eventName] = handler;\r\n};\r\n\r\nconst removeEventListener = (element, eventName, handler) => {\r\n    element.removeEventListener(eventName, handler);\r\n};\r\n\r\nconst hasEventListeners = (element) => {\r\n    return !!element.llEvLisnrs;\r\n};\r\n\r\nconst addEventListeners = (element, loadHandler, errorHandler) => {\r\n    if (!hasEventListeners(element)) element.llEvLisnrs = {};\r\n    const loadEventName = element.tagName === \"VIDEO\" ? \"loadeddata\" : \"load\";\r\n    addEventListener(element, loadEventName, loadHandler);\r\n    addEventListener(element, \"error\", errorHandler);\r\n};\r\n\r\nconst removeEventListeners = (element) => {\r\n    if (!hasEventListeners(element)) {\r\n        return;\r\n    }\r\n    const eventListeners = element.llEvLisnrs;\r\n    for (let eventName in eventListeners) {\r\n        const handler = eventListeners[eventName];\r\n        removeEventListener(element, eventName, handler);\r\n    }\r\n    delete element.llEvLisnrs;\r\n};\r\n\r\nconst doneHandler = (element, settings, instance) => {\r\n    deleteTempImage(element);\r\n    updateLoadingCount(instance, -1);\r\n    decreaseToLoadCount(instance);\r\n    removeClass(element, settings.class_loading);\r\n    if (settings.unobserve_completed) {\r\n        unobserve(element, instance);\r\n    }\r\n};\r\n\r\nconst loadHandler = (event, element, settings, instance) => {\r\n    const goingNative = hasStatusNative(element);\r\n    doneHandler(element, settings, instance);\r\n    addClass(element, settings.class_loaded);\r\n    setStatus(element, statusLoaded);\r\n    removeDataAttributes(element, settings);\r\n    safeCallback(settings.callback_loaded, element, instance);\r\n    if (!goingNative) checkFinish(settings, instance);\r\n};\r\n\r\nconst errorHandler = (event, element, settings, instance) => {\r\n    const goingNative = hasStatusNative(element);\r\n    doneHandler(element, settings, instance);\r\n    addClass(element, settings.class_error);\r\n    setStatus(element, statusError);\r\n    safeCallback(settings.callback_error, element, instance);\r\n    if (!goingNative) checkFinish(settings, instance);\r\n};\r\n\r\nconst addOneShotEventListeners = (element, settings, instance) => {\r\n    const elementToListenTo = getTempImage(element) || element;\r\n    if (hasEventListeners(elementToListenTo)) {\r\n        // This happens when loading is retried twice\r\n        return;\r\n    }\r\n    const _loadHandler = (event) => {\r\n        loadHandler(event, element, settings, instance);\r\n        removeEventListeners(elementToListenTo);\r\n    };\r\n    const _errorHandler = (event) => {\r\n        errorHandler(event, element, settings, instance);\r\n        removeEventListeners(elementToListenTo);\r\n    };\r\n    addEventListeners(elementToListenTo, _loadHandler, _errorHandler);\r\n};\r\n\r\nconst loadBackground = (element, settings, instance) => {\r\n    addTempImage(element);\r\n    addOneShotEventListeners(element, settings, instance);\r\n    setBackground(element, settings, instance);\r\n    setMultiBackground(element, settings, instance);\r\n};\r\n\r\nconst loadRegular = (element, settings, instance) => {\r\n    addOneShotEventListeners(element, settings, instance);\r\n    setSources(element, settings);\r\n    manageLoading(element, settings, instance);\r\n};\r\n\r\nconst load = (element, settings, instance) => {\r\n    if (hasLoadEvent(element)) {\r\n        loadRegular(element, settings, instance);\r\n    } else {\r\n        loadBackground(element, settings, instance);\r\n    }\r\n};\r\n\r\nconst loadNative = (element, settings, instance) => {\r\n    addOneShotEventListeners(element, settings, instance);\r\n    setSources(element, settings);\r\n    removeDataAttributes(element, settings);\r\n    setStatus(element, statusNative);\r\n};\r\n\r\nconst cancelLoading = (element, entry, settings, instance) => {\r\n    if (!settings.cancel_on_exit) return;\r\n    if (!hasStatusLoading(element)) return;\r\n    if (element.tagName !== \"IMG\") return; //Works only on images\r\n    removeEventListeners(element);\r\n    resetSourcesImg(element);\r\n    restoreOriginalAttributesImg(element);\r\n    removeClass(element, settings.class_loading);\r\n    updateLoadingCount(instance, -1);\r\n    resetStatus(element);\r\n    safeCallback(settings.callback_cancel, element, entry, instance);\r\n};\r\n\r\nconst onEnter = (element, entry, settings, instance) => {\r\n    setStatus(element, statusEntered);\r\n    unobserveEntered(element, settings, instance);\r\n    safeCallback(settings.callback_enter, element, entry, instance);\r\n    if (hadStartedLoading(element)) return; //Prevent loading it again\r\n    load(element, settings, instance);\r\n};\r\n\r\nconst onExit = (element, entry, settings, instance) => {\r\n    if (hasEmptyStatus(element)) return; //Ignore the first pass, at landing\r\n    cancelLoading(element, entry, settings, instance);\r\n    safeCallback(settings.callback_exit, element, entry, instance);\r\n};\r\n\r\nconst tagsWithNativeLazy = [\"IMG\", \"IFRAME\"];\r\n\r\nconst shouldUseNative = (settings) =>\r\n    settings.use_native && \"loading\" in HTMLImageElement.prototype;\r\n\r\nconst loadAllNative = (elements, settings, instance) => {\r\n    elements.forEach((element) => {\r\n        if (tagsWithNativeLazy.indexOf(element.tagName) === -1) {\r\n            return;\r\n        }\r\n        element.setAttribute(\"loading\", \"lazy\"); //TODO: Move inside the loadNative method\r\n        loadNative(element, settings, instance);\r\n    });\r\n    setToLoadCount(instance, 0);\r\n};\r\n\r\nconst isIntersecting = (entry) => entry.isIntersecting || entry.intersectionRatio > 0;\r\n\r\nconst getObserverSettings = (settings) => ({\r\n    root: settings.container === document ? null : settings.container,\r\n    rootMargin: settings.thresholds || settings.threshold + \"px\"\r\n});\r\n\r\nconst intersectionHandler = (entries, settings, instance) => {\r\n    entries.forEach((entry) =>\r\n        isIntersecting(entry)\r\n            ? onEnter(entry.target, entry, settings, instance)\r\n            : onExit(entry.target, entry, settings, instance)\r\n    );\r\n};\r\n\r\nconst observeElements = (observer, elements) => {\r\n    elements.forEach((element) => {\r\n        observer.observe(element);\r\n    });\r\n};\r\n\r\nconst updateObserver = (observer, elementsToObserve) => {\r\n    resetObserver(observer);\r\n    observeElements(observer, elementsToObserve);\r\n};\r\n\r\nconst setObserver = (settings, instance) => {\r\n    if (!supportsIntersectionObserver || shouldUseNative(settings)) {\r\n        return;\r\n    }\r\n    instance._observer = new IntersectionObserver((entries) => {\r\n        intersectionHandler(entries, settings, instance);\r\n    }, getObserverSettings(settings));\r\n};\r\n\r\nconst toArray = (nodeSet) => Array.prototype.slice.call(nodeSet);\r\n\r\nconst queryElements = (settings) =>\r\n    settings.container.querySelectorAll(settings.elements_selector);\r\n\r\nconst excludeManagedElements = (elements) => toArray(elements).filter(hasEmptyStatus);\r\n\r\nconst hasError = (element) => hasStatusError(element);\r\nconst filterErrorElements = (elements) => toArray(elements).filter(hasError);\r\n\r\nconst getElementsToLoad = (elements, settings) =>\r\n    excludeManagedElements(elements || queryElements(settings));\r\n\r\nconst retryLazyLoad = (settings, instance) => {\r\n    const errorElements = filterErrorElements(queryElements(settings));\r\n    errorElements.forEach(element => {\r\n        removeClass(element, settings.class_error);\r\n        resetStatus(element);\r\n    });\r\n    instance.update();\r\n};\r\n\r\nconst setOnlineCheck = (settings, instance) => {\r\n    if (!runningOnBrowser) {\r\n        return;\r\n    }\r\n    window.addEventListener(\"online\", () => {\r\n        retryLazyLoad(settings, instance);\r\n    });\r\n};\r\n\r\nconst LazyLoad = function (customSettings, elements) {\r\n    const settings = getExtendedSettings(customSettings);\r\n    this._settings = settings;\r\n    this.loadingCount = 0;\r\n    setObserver(settings, this);\r\n    setOnlineCheck(settings, this);\r\n    this.update(elements);\r\n};\r\n\r\nLazyLoad.prototype = {\r\n    update: function (givenNodeset) {\r\n        const settings = this._settings;\r\n        const elementsToLoad = getElementsToLoad(givenNodeset, settings);\r\n        setToLoadCount(this, elementsToLoad.length);\r\n\r\n        if (isBot || !supportsIntersectionObserver) {\r\n            this.loadAll(elementsToLoad);\r\n            return;\r\n        }\r\n        if (shouldUseNative(settings)) {\r\n            loadAllNative(elementsToLoad, settings, this);\r\n            return;\r\n        }\r\n\r\n        updateObserver(this._observer, elementsToLoad);\r\n    },\r\n\r\n    destroy: function () {\r\n        // Observer\r\n        if (this._observer) {\r\n            this._observer.disconnect();\r\n        }\r\n        // Clean custom attributes on elements\r\n        queryElements(this._settings).forEach((element) => {\r\n            delete element.llOriginalAttrs;\r\n        });\r\n        // Delete all internal props\r\n        delete this._observer;\r\n        delete this._settings;\r\n        delete this.loadingCount;\r\n        delete this.toLoadCount;\r\n    },\r\n\r\n    loadAll: function (elements) {\r\n        const settings = this._settings;\r\n        const elementsToLoad = getElementsToLoad(elements, settings);\r\n        elementsToLoad.forEach((element) => {\r\n            unobserve(element, this);\r\n            load(element, settings, this);\r\n        });\r\n    }\r\n};\r\n\r\nLazyLoad.load = (element, customSettings) => {\r\n    const settings = getExtendedSettings(customSettings);\r\n    load(element, settings);\r\n};\r\n\r\nLazyLoad.resetStatus = (element) => {\r\n    resetStatus(element);\r\n};\r\n\r\n// Automatic instances creation if required (useful for async script loading)\r\nif (runningOnBrowser) {\r\n    autoInitialize(LazyLoad, window.lazyLoadOptions);\r\n}\r\n\r\nexport default LazyLoad;\r\n","// Robert Penner's easeInOutQuad\n\n// find the rest of his easing functions here: http://robertpenner.com/easing/\n// find them exported for ES6 consumption here: https://github.com/jaxgeller/ez.js\n\nvar easeInOutQuad = function easeInOutQuad(t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar jumper = function jumper() {\n  // private variable cache\n  // no variables are created during a jump, preventing memory leaks\n\n  var element = void 0; // element to scroll to                   (node)\n\n  var start = void 0; // where scroll starts                    (px)\n  var stop = void 0; // where scroll stops                     (px)\n\n  var offset = void 0; // adjustment from the stop position      (px)\n  var easing = void 0; // easing function                        (function)\n  var a11y = void 0; // accessibility support flag             (boolean)\n\n  var distance = void 0; // distance of scroll                     (px)\n  var duration = void 0; // scroll duration                        (ms)\n\n  var timeStart = void 0; // time scroll started                    (ms)\n  var timeElapsed = void 0; // time spent scrolling thus far          (ms)\n\n  var next = void 0; // next scroll position                   (px)\n\n  var callback = void 0; // to call when done scrolling            (function)\n\n  // scroll position helper\n\n  function location() {\n    return window.scrollY || window.pageYOffset;\n  }\n\n  // element offset helper\n\n  function top(element) {\n    return element.getBoundingClientRect().top + start;\n  }\n\n  // rAF loop helper\n\n  function loop(timeCurrent) {\n    // store time scroll started, if not started already\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    // determine time spent scrolling so far\n    timeElapsed = timeCurrent - timeStart;\n\n    // calculate next scroll position\n    next = easing(timeElapsed, start, distance, duration);\n\n    // scroll to it\n    window.scrollTo(0, next);\n\n    // check progress\n    timeElapsed < duration ? window.requestAnimationFrame(loop) // continue scroll loop\n    : done(); // scrolling is done\n  }\n\n  // scroll finished helper\n\n  function done() {\n    // account for rAF time rounding inaccuracies\n    window.scrollTo(0, start + distance);\n\n    // if scrolling to an element, and accessibility is enabled\n    if (element && a11y) {\n      // add tabindex indicating programmatic focus\n      element.setAttribute('tabindex', '-1');\n\n      // focus the element\n      element.focus();\n    }\n\n    // if it exists, fire the callback\n    if (typeof callback === 'function') {\n      callback();\n    }\n\n    // reset time for next jump\n    timeStart = false;\n  }\n\n  // API\n\n  function jump(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // resolve options, or use defaults\n    duration = options.duration || 1000;\n    offset = options.offset || 0;\n    callback = options.callback; // \"undefined\" is a suitable default, and won't be called\n    easing = options.easing || easeInOutQuad;\n    a11y = options.a11y || false;\n\n    // cache starting position\n    start = location();\n\n    // resolve target\n    switch (typeof target === 'undefined' ? 'undefined' : _typeof(target)) {\n      // scroll from current position\n      case 'number':\n        element = undefined; // no element to scroll to\n        a11y = false; // make sure accessibility is off\n        stop = start + target;\n        break;\n\n      // scroll to element (node)\n      // bounding rect is relative to the viewport\n      case 'object':\n        element = target;\n        stop = top(element);\n        break;\n\n      // scroll to element (selector)\n      // bounding rect is relative to the viewport\n      case 'string':\n        element = document.querySelector(target);\n        stop = top(element);\n        break;\n    }\n\n    // resolve scroll distance, accounting for offset\n    distance = stop - start + offset;\n\n    // resolve duration\n    switch (_typeof(options.duration)) {\n      // number in ms\n      case 'number':\n        duration = options.duration;\n        break;\n\n      // function passed the distance of the scroll\n      case 'function':\n        duration = options.duration(distance);\n        break;\n    }\n\n    // start the loop\n    window.requestAnimationFrame(loop);\n  }\n\n  // expose only the jump method\n  return jump;\n};\n\n// export singleton\n\nvar singleton = jumper();\n\nexport default singleton;\n","import jump from 'jump.js';\n\nexport default class LocalPageNavigation {\n  constructor(element) {\n    this.anchor = element;\n    this.targetID = this.anchor.getAttribute('href');\n\n    this.anchor.addEventListener('click', () => {\n      jump(this.targetID, {\n        // duration: distance => Math.abs(distance) / 2,\n        duration: 1000,\n        // offset: document.querySelector('[data-creepy-marquee]').offsetHeight * -1,\n        callback: undefined,\n        // easing: ez.easeInOutQuad,\n        a11y: false,\n      });\n    }, false);\n  }\n}\n","/*!\r\n * @name JavaScript/NodeJS Merge v1.2.1\r\n * @author yeikos\r\n * @repository https://github.com/yeikos/js.merge\r\n\r\n * Copyright 2014 yeikos - MIT license\r\n * https://raw.github.com/yeikos/js.merge/master/LICENSE\r\n */\r\n\r\n;(function(isNode) {\r\n\r\n\t/**\r\n\t * Merge one or more objects \r\n\t * @param bool? clone\r\n\t * @param mixed,... arguments\r\n\t * @return object\r\n\t */\r\n\r\n\tvar Public = function(clone) {\r\n\r\n\t\treturn merge(clone === true, false, arguments);\r\n\r\n\t}, publicName = 'merge';\r\n\r\n\t/**\r\n\t * Merge two or more objects recursively \r\n\t * @param bool? clone\r\n\t * @param mixed,... arguments\r\n\t * @return object\r\n\t */\r\n\r\n\tPublic.recursive = function(clone) {\r\n\r\n\t\treturn merge(clone === true, true, arguments);\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Clone the input removing any reference\r\n\t * @param mixed input\r\n\t * @return mixed\r\n\t */\r\n\r\n\tPublic.clone = function(input) {\r\n\r\n\t\tvar output = input,\r\n\t\t\ttype = typeOf(input),\r\n\t\t\tindex, size;\r\n\r\n\t\tif (type === 'array') {\r\n\r\n\t\t\toutput = [];\r\n\t\t\tsize = input.length;\r\n\r\n\t\t\tfor (index=0;index<size;++index)\r\n\r\n\t\t\t\toutput[index] = Public.clone(input[index]);\r\n\r\n\t\t} else if (type === 'object') {\r\n\r\n\t\t\toutput = {};\r\n\r\n\t\t\tfor (index in input)\r\n\r\n\t\t\t\toutput[index] = Public.clone(input[index]);\r\n\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Merge two objects recursively\r\n\t * @param mixed input\r\n\t * @param mixed extend\r\n\t * @return mixed\r\n\t */\r\n\r\n\tfunction merge_recursive(base, extend) {\r\n\r\n\t\tif (typeOf(base) !== 'object')\r\n\r\n\t\t\treturn extend;\r\n\r\n\t\tfor (var key in extend) {\r\n\r\n\t\t\tif (typeOf(base[key]) === 'object' && typeOf(extend[key]) === 'object') {\r\n\r\n\t\t\t\tbase[key] = merge_recursive(base[key], extend[key]);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbase[key] = extend[key];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn base;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Merge two or more objects\r\n\t * @param bool clone\r\n\t * @param bool recursive\r\n\t * @param array argv\r\n\t * @return object\r\n\t */\r\n\r\n\tfunction merge(clone, recursive, argv) {\r\n\r\n\t\tvar result = argv[0],\r\n\t\t\tsize = argv.length;\r\n\r\n\t\tif (clone || typeOf(result) !== 'object')\r\n\r\n\t\t\tresult = {};\r\n\r\n\t\tfor (var index=0;index<size;++index) {\r\n\r\n\t\t\tvar item = argv[index],\r\n\r\n\t\t\t\ttype = typeOf(item);\r\n\r\n\t\t\tif (type !== 'object') continue;\r\n\r\n\t\t\tfor (var key in item) {\r\n\r\n\t\t\t\tif (key === '__proto__') continue;\r\n\r\n\t\t\t\tvar sitem = clone ? Public.clone(item[key]) : item[key];\r\n\r\n\t\t\t\tif (recursive) {\r\n\r\n\t\t\t\t\tresult[key] = merge_recursive(result[key], sitem);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult[key] = sitem;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Get type of variable\r\n\t * @param mixed input\r\n\t * @return string\r\n\t *\r\n\t * @see http://jsperf.com/typeofvar\r\n\t */\r\n\r\n\tfunction typeOf(input) {\r\n\r\n\t\treturn ({}).toString.call(input).slice(8, -1).toLowerCase();\r\n\r\n\t}\r\n\r\n\tif (isNode) {\r\n\r\n\t\tmodule.exports = Public;\r\n\r\n\t} else {\r\n\r\n\t\twindow[publicName] = Public;\r\n\r\n\t}\r\n\r\n})(typeof module === 'object' && module && typeof module.exports === 'object' && module.exports);","/*!\n * Copyright 2019 SmugMug, Inc.\n * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.\n * @license\n */\n\nvar merge = require('merge');\n\n/**\n * Row\n * Wrapper for each row in a justified layout.\n * Stores relevant values and provides methods for calculating layout of individual rows.\n *\n * @param {Object} layoutConfig - The same as that passed\n * @param {Object} Initialization parameters. The following are all required:\n * @param params.top {Number} Top of row, relative to container\n * @param params.left {Number} Left side of row relative to container (equal to container left padding)\n * @param params.width {Number} Width of row, not including container padding\n * @param params.spacing {Number} Horizontal spacing between items\n * @param params.targetRowHeight {Number} Layout algorithm will aim for this row height\n * @param params.targetRowHeightTolerance {Number} Row heights may vary +/- (`targetRowHeight` x `targetRowHeightTolerance`)\n * @param params.edgeCaseMinRowHeight {Number} Absolute minimum row height for edge cases that cannot be resolved within tolerance.\n * @param params.edgeCaseMaxRowHeight {Number} Absolute maximum row height for edge cases that cannot be resolved within tolerance.\n * @param params.isBreakoutRow {Boolean} Is this row in particular one of those breakout rows? Always false if it's not that kind of photo list\n * @param params.widowLayoutStyle {String} If widows are visible, how should they be laid out?\n * @constructor\n */\n\nvar Row = module.exports = function (params) {\n\n\t// Top of row, relative to container\n\tthis.top = params.top;\n\n\t// Left side of row relative to container (equal to container left padding)\n\tthis.left = params.left;\n\n\t// Width of row, not including container padding\n\tthis.width = params.width;\n\n\t// Horizontal spacing between items\n\tthis.spacing = params.spacing;\n\n\t// Row height calculation values\n\tthis.targetRowHeight = params.targetRowHeight;\n\tthis.targetRowHeightTolerance = params.targetRowHeightTolerance;\n\tthis.minAspectRatio = this.width / params.targetRowHeight * (1 - params.targetRowHeightTolerance);\n\tthis.maxAspectRatio = this.width / params.targetRowHeight * (1 + params.targetRowHeightTolerance);\n\n\t// Edge case row height minimum/maximum\n\tthis.edgeCaseMinRowHeight = params.edgeCaseMinRowHeight;\n\tthis.edgeCaseMaxRowHeight = params.edgeCaseMaxRowHeight;\n\n\t// Widow layout direction\n\tthis.widowLayoutStyle = params.widowLayoutStyle;\n\n\t// Full width breakout rows\n\tthis.isBreakoutRow = params.isBreakoutRow;\n\n\t// Store layout data for each item in row\n\tthis.items = [];\n\n\t// Height remains at 0 until it's been calculated\n\tthis.height = 0;\n\n};\n\nRow.prototype = {\n\n\t/**\n\t * Attempt to add a single item to the row.\n\t * This is the heart of the justified algorithm.\n\t * This method is direction-agnostic; it deals only with sizes, not positions.\n\t *\n\t * If the item fits in the row, without pushing row height beyond min/max tolerance,\n\t * the item is added and the method returns true.\n\t *\n\t * If the item leaves row height too high, there may be room to scale it down and add another item.\n\t * In this case, the item is added and the method returns true, but the row is incomplete.\n\t *\n\t * If the item leaves row height too short, there are too many items to fit within tolerance.\n\t * The method will either accept or reject the new item, favoring the resulting row height closest to within tolerance.\n\t * If the item is rejected, left/right padding will be required to fit the row height within tolerance;\n\t * if the item is accepted, top/bottom cropping will be required to fit the row height within tolerance.\n\t *\n\t * @method addItem\n\t * @param itemData {Object} Item layout data, containing item aspect ratio.\n\t * @return {Boolean} True if successfully added; false if rejected.\n\t */\n\n\taddItem: function (itemData) {\n\n\t\tvar newItems = this.items.concat(itemData),\n\t\t\t// Calculate aspect ratios for items only; exclude spacing\n\t\t\trowWidthWithoutSpacing = this.width - (newItems.length - 1) * this.spacing,\n\t\t\tnewAspectRatio = newItems.reduce(function (sum, item) {\n\t\t\t\treturn sum + item.aspectRatio;\n\t\t\t}, 0),\n\t\t\ttargetAspectRatio = rowWidthWithoutSpacing / this.targetRowHeight,\n\t\t\tpreviousRowWidthWithoutSpacing,\n\t\t\tpreviousAspectRatio,\n\t\t\tpreviousTargetAspectRatio;\n\n\t\t// Handle big full-width breakout photos if we're doing them\n\t\tif (this.isBreakoutRow) {\n\t\t\t// Only do it if there's no other items in this row\n\t\t\tif (this.items.length === 0) {\n\t\t\t\t// Only go full width if this photo is a square or landscape\n\t\t\t\tif (itemData.aspectRatio >= 1) {\n\t\t\t\t\t// Close out the row with a full width photo\n\t\t\t\t\tthis.items.push(itemData);\n\t\t\t\t\tthis.completeLayout(rowWidthWithoutSpacing / itemData.aspectRatio, 'justify');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (newAspectRatio < this.minAspectRatio) {\n\n\t\t\t// New aspect ratio is too narrow / scaled row height is too tall.\n\t\t\t// Accept this item and leave row open for more items.\n\n\t\t\tthis.items.push(merge(itemData));\n\t\t\treturn true;\n\n\t\t} else if (newAspectRatio > this.maxAspectRatio) {\n\n\t\t\t// New aspect ratio is too wide / scaled row height will be too short.\n\t\t\t// Accept item if the resulting aspect ratio is closer to target than it would be without the item.\n\t\t\t// NOTE: Any row that falls into this block will require cropping/padding on individual items.\n\n\t\t\tif (this.items.length === 0) {\n\n\t\t\t\t// When there are no existing items, force acceptance of the new item and complete the layout.\n\t\t\t\t// This is the pano special case.\n\t\t\t\tthis.items.push(merge(itemData));\n\t\t\t\tthis.completeLayout(rowWidthWithoutSpacing / newAspectRatio, 'justify');\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\t// Calculate width/aspect ratio for row before adding new item\n\t\t\tpreviousRowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing;\n\t\t\tpreviousAspectRatio = this.items.reduce(function (sum, item) {\n\t\t\t\treturn sum + item.aspectRatio;\n\t\t\t}, 0);\n\t\t\tpreviousTargetAspectRatio = previousRowWidthWithoutSpacing / this.targetRowHeight;\n\n\t\t\tif (Math.abs(newAspectRatio - targetAspectRatio) > Math.abs(previousAspectRatio - previousTargetAspectRatio)) {\n\n\t\t\t\t// Row with new item is us farther away from target than row without; complete layout and reject item.\n\t\t\t\tthis.completeLayout(previousRowWidthWithoutSpacing / previousAspectRatio, 'justify');\n\t\t\t\treturn false;\n\n\t\t\t} else {\n\n\t\t\t\t// Row with new item is us closer to target than row without;\n\t\t\t\t// accept the new item and complete the row layout.\n\t\t\t\tthis.items.push(merge(itemData));\n\t\t\t\tthis.completeLayout(rowWidthWithoutSpacing / newAspectRatio, 'justify');\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// New aspect ratio / scaled row height is within tolerance;\n\t\t\t// accept the new item and complete the row layout.\n\t\t\tthis.items.push(merge(itemData));\n\t\t\tthis.completeLayout(rowWidthWithoutSpacing / newAspectRatio, 'justify');\n\t\t\treturn true;\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Check if a row has completed its layout.\n\t *\n\t * @method isLayoutComplete\n\t * @return {Boolean} True if complete; false if not.\n\t */\n\n\tisLayoutComplete: function () {\n\t\treturn this.height > 0;\n\t},\n\n\t/**\n\t * Set row height and compute item geometry from that height.\n\t * Will justify items within the row unless instructed not to.\n\t *\n\t * @method completeLayout\n\t * @param newHeight {Number} Set row height to this value.\n\t * @param widowLayoutStyle {String} How should widows display? Supported: left | justify | center\n\t */\n\n\tcompleteLayout: function (newHeight, widowLayoutStyle) {\n\n\t\tvar itemWidthSum = this.left,\n\t\t\trowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing,\n\t\t\tclampedToNativeRatio,\n\t\t\tclampedHeight,\n\t\t\terrorWidthPerItem,\n\t\t\troundedCumulativeErrors,\n\t\t\tsingleItemGeometry,\n\t\t\tcenterOffset;\n\n\t\t// Justify unless explicitly specified otherwise.\n\t\tif (typeof widowLayoutStyle === 'undefined' || ['justify', 'center', 'left'].indexOf(widowLayoutStyle) < 0) {\n\t\t\twidowLayoutStyle = 'left';\n\t\t}\n\n\t\t// Clamp row height to edge case minimum/maximum.\n\t\tclampedHeight = Math.max(this.edgeCaseMinRowHeight, Math.min(newHeight, this.edgeCaseMaxRowHeight));\n\n\t\tif (newHeight !== clampedHeight) {\n\n\t\t\t// If row height was clamped, the resulting row/item aspect ratio will be off,\n\t\t\t// so force it to fit the width (recalculate aspectRatio to match clamped height).\n\t\t\t// NOTE: this will result in cropping/padding commensurate to the amount of clamping.\n\t\t\tthis.height = clampedHeight;\n\t\t\tclampedToNativeRatio = (rowWidthWithoutSpacing / clampedHeight) / (rowWidthWithoutSpacing / newHeight);\n\n\t\t} else {\n\n\t\t\t// If not clamped, leave ratio at 1.0.\n\t\t\tthis.height = newHeight;\n\t\t\tclampedToNativeRatio = 1.0;\n\n\t\t}\n\n\t\t// Compute item geometry based on newHeight.\n\t\tthis.items.forEach(function (item) {\n\n\t\t\titem.top = this.top;\n\t\t\titem.width = item.aspectRatio * this.height * clampedToNativeRatio;\n\t\t\titem.height = this.height;\n\n\t\t\t// Left-to-right.\n\t\t\t// TODO right to left\n\t\t\t// item.left = this.width - itemWidthSum - item.width;\n\t\t\titem.left = itemWidthSum;\n\n\t\t\t// Increment width.\n\t\t\titemWidthSum += item.width + this.spacing;\n\n\t\t}, this);\n\n\t\t// If specified, ensure items fill row and distribute error\n\t\t// caused by rounding width and height across all items.\n\t\tif (widowLayoutStyle === 'justify') {\n\n\t\t\titemWidthSum -= (this.spacing + this.left);\n\n\t\t\terrorWidthPerItem = (itemWidthSum - this.width) / this.items.length;\n\t\t\troundedCumulativeErrors = this.items.map(function (item, i) {\n\t\t\t\treturn Math.round((i + 1) * errorWidthPerItem);\n\t\t\t});\n\n\n\t\t\tif (this.items.length === 1) {\n\n\t\t\t\t// For rows with only one item, adjust item width to fill row.\n\t\t\t\tsingleItemGeometry = this.items[0];\n\t\t\t\tsingleItemGeometry.width -= Math.round(errorWidthPerItem);\n\n\t\t\t} else {\n\n\t\t\t\t// For rows with multiple items, adjust item width and shift items to fill the row,\n\t\t\t\t// while maintaining equal spacing between items in the row.\n\t\t\t\tthis.items.forEach(function (item, i) {\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\titem.left -= roundedCumulativeErrors[i - 1];\n\t\t\t\t\t\titem.width -= (roundedCumulativeErrors[i] - roundedCumulativeErrors[i - 1]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.width -= roundedCumulativeErrors[i];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t} else if (widowLayoutStyle === 'center') {\n\n\t\t\t// Center widows\n\t\t\tcenterOffset = (this.width - itemWidthSum) / 2;\n\n\t\t\tthis.items.forEach(function (item) {\n\t\t\t\titem.left += centerOffset + this.spacing;\n\t\t\t}, this);\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Force completion of row layout with current items.\n\t *\n\t * @method forceComplete\n\t * @param fitToWidth {Boolean} Stretch current items to fill the row width.\n\t *                             This will likely result in padding.\n\t * @param fitToWidth {Number}\n\t */\n\n\tforceComplete: function (fitToWidth, rowHeight) {\n\n\t\t// TODO Handle fitting to width\n\t\t// var rowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing,\n\t\t// \tcurrentAspectRatio = this.items.reduce(function (sum, item) {\n\t\t// \t\treturn sum + item.aspectRatio;\n\t\t// \t}, 0);\n\n\t\tif (typeof rowHeight === 'number') {\n\n\t\t\tthis.completeLayout(rowHeight, this.widowLayoutStyle);\n\n\t\t} else {\n\n\t\t\t// Complete using target row height.\n\t\t\tthis.completeLayout(this.targetRowHeight, this.widowLayoutStyle);\n\t\t}\n\n\t},\n\n\t/**\n\t * Return layout data for items within row.\n\t * Note: returns actual list, not a copy.\n\t *\n\t * @method getItems\n\t * @return Layout data for items within row.\n\t */\n\n\tgetItems: function () {\n\t\treturn this.items;\n\t}\n\n};\n","/*!\n * Copyright 2019 SmugMug, Inc.\n * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.\n * @license\n */\n\n'use strict';\n\nvar merge = require('merge'),\n\tRow = require('./row');\n\n/**\n * Create a new, empty row.\n *\n * @method createNewRow\n * @param layoutConfig {Object} The layout configuration\n * @param layoutData {Object} The current state of the layout\n * @return A new, empty row of the type specified by this layout.\n */\n\nfunction createNewRow(layoutConfig, layoutData) {\n\n\tvar isBreakoutRow;\n\n\t// Work out if this is a full width breakout row\n\tif (layoutConfig.fullWidthBreakoutRowCadence !== false) {\n\t\tif (((layoutData._rows.length + 1) % layoutConfig.fullWidthBreakoutRowCadence) === 0) {\n\t\t\tisBreakoutRow = true;\n\t\t}\n\t}\n\n\treturn new Row({\n\t\ttop: layoutData._containerHeight,\n\t\tleft: layoutConfig.containerPadding.left,\n\t\twidth: layoutConfig.containerWidth - layoutConfig.containerPadding.left - layoutConfig.containerPadding.right,\n\t\tspacing: layoutConfig.boxSpacing.horizontal,\n\t\ttargetRowHeight: layoutConfig.targetRowHeight,\n\t\ttargetRowHeightTolerance: layoutConfig.targetRowHeightTolerance,\n\t\tedgeCaseMinRowHeight: 0.5 * layoutConfig.targetRowHeight,\n\t\tedgeCaseMaxRowHeight: 2 * layoutConfig.targetRowHeight,\n\t\trightToLeft: false,\n\t\tisBreakoutRow: isBreakoutRow,\n\t\twidowLayoutStyle: layoutConfig.widowLayoutStyle\n\t});\n}\n\n/**\n * Add a completed row to the layout.\n * Note: the row must have already been completed.\n *\n * @method addRow\n * @param layoutConfig {Object} The layout configuration\n * @param layoutData {Object} The current state of the layout\n * @param row {Row} The row to add.\n * @return {Array} Each item added to the row.\n */\n\nfunction addRow(layoutConfig, layoutData, row) {\n\n\tlayoutData._rows.push(row);\n\tlayoutData._layoutItems = layoutData._layoutItems.concat(row.getItems());\n\n\t// Increment the container height\n\tlayoutData._containerHeight += row.height + layoutConfig.boxSpacing.vertical;\n\n\treturn row.items;\n}\n\n/**\n * Calculate the current layout for all items in the list that require layout.\n * \"Layout\" means geometry: position within container and size\n *\n * @method computeLayout\n * @param layoutConfig {Object} The layout configuration\n * @param layoutData {Object} The current state of the layout\n * @param itemLayoutData {Array} Array of items to lay out, with data required to lay out each item\n * @return {Object} The newly-calculated layout, containing the new container height, and lists of layout items\n */\n\nfunction computeLayout(layoutConfig, layoutData, itemLayoutData) {\n\n\tvar laidOutItems = [],\n\t\titemAdded,\n\t\tcurrentRow,\n\t\tnextToLastRowHeight;\n\n\t// Apply forced aspect ratio if specified, and set a flag.\n\tif (layoutConfig.forceAspectRatio) {\n\t\titemLayoutData.forEach(function (itemData) {\n\t\t\titemData.forcedAspectRatio = true;\n\t\t\titemData.aspectRatio = layoutConfig.forceAspectRatio;\n\t\t});\n\t}\n\n\t// Loop through the items\n\titemLayoutData.some(function (itemData, i) {\n\n\t\tif (isNaN(itemData.aspectRatio)) {\n\t\t\tthrow new Error(\"Item \" + i + \" has an invalid aspect ratio\");\n\t\t}\n\n\t\t// If not currently building up a row, make a new one.\n\t\tif (!currentRow) {\n\t\t\tcurrentRow = createNewRow(layoutConfig, layoutData);\n\t\t}\n\n\t\t// Attempt to add item to the current row.\n\t\titemAdded = currentRow.addItem(itemData);\n\n\t\tif (currentRow.isLayoutComplete()) {\n\n\t\t\t// Row is filled; add it and start a new one\n\t\t\tlaidOutItems = laidOutItems.concat(addRow(layoutConfig, layoutData, currentRow));\n\n\t\t\tif (layoutData._rows.length >= layoutConfig.maxNumRows) {\n\t\t\t\tcurrentRow = null;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcurrentRow = createNewRow(layoutConfig, layoutData);\n\n\t\t\t// Item was rejected; add it to its own row\n\t\t\tif (!itemAdded) {\n\n\t\t\t\titemAdded = currentRow.addItem(itemData);\n\n\t\t\t\tif (currentRow.isLayoutComplete()) {\n\n\t\t\t\t\t// If the rejected item fills a row on its own, add the row and start another new one\n\t\t\t\t\tlaidOutItems = laidOutItems.concat(addRow(layoutConfig, layoutData, currentRow));\n\t\t\t\t\tif (layoutData._rows.length >= layoutConfig.maxNumRows) {\n\t\t\t\t\t\tcurrentRow = null;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentRow = createNewRow(layoutConfig, layoutData);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n\t// Handle any leftover content (orphans) depending on where they lie\n\t// in this layout update, and in the total content set.\n\tif (currentRow && currentRow.getItems().length && layoutConfig.showWidows) {\n\n\t\t// Last page of all content or orphan suppression is suppressed; lay out orphans.\n\t\tif (layoutData._rows.length) {\n\n\t\t\t// Only Match previous row's height if it exists and it isn't a breakout row\n\t\t\tif (layoutData._rows[layoutData._rows.length - 1].isBreakoutRow) {\n\t\t\t\tnextToLastRowHeight = layoutData._rows[layoutData._rows.length - 1].targetRowHeight;\n\t\t\t} else {\n\t\t\t\tnextToLastRowHeight = layoutData._rows[layoutData._rows.length - 1].height;\n\t\t\t}\n\n\t\t\tcurrentRow.forceComplete(false, nextToLastRowHeight);\n\n\t\t} else {\n\n\t\t\t// ...else use target height if there is no other row height to reference.\n\t\t\tcurrentRow.forceComplete(false);\n\n\t\t}\n\n\t\tlaidOutItems = laidOutItems.concat(addRow(layoutConfig, layoutData, currentRow));\n\t\tlayoutConfig._widowCount = currentRow.getItems().length;\n\n\t}\n\n\t// We need to clean up the bottom container padding\n\t// First remove the height added for box spacing\n\tlayoutData._containerHeight = layoutData._containerHeight - layoutConfig.boxSpacing.vertical;\n\t// Then add our bottom container padding\n\tlayoutData._containerHeight = layoutData._containerHeight + layoutConfig.containerPadding.bottom;\n\n\treturn {\n\t\tcontainerHeight: layoutData._containerHeight,\n\t\twidowCount: layoutConfig._widowCount,\n\t\tboxes: layoutData._layoutItems\n\t};\n\n}\n\n/**\n * Takes in a bunch of box data and config. Returns\n * geometry to lay them out in a justified view.\n *\n * @method covertSizesToAspectRatios\n * @param sizes {Array} Array of objects with widths and heights\n * @return {Array} A list of aspect ratios\n */\n\nmodule.exports = function (input, config) {\n\tvar layoutConfig = {};\n\tvar layoutData = {};\n\n\t// Defaults\n\tvar defaults = {\n\t\tcontainerWidth: 1060,\n\t\tcontainerPadding: 10,\n\t\tboxSpacing: 10,\n\t\ttargetRowHeight: 320,\n\t\ttargetRowHeightTolerance: 0.25,\n\t\tmaxNumRows: Number.POSITIVE_INFINITY,\n\t\tforceAspectRatio: false,\n\t\tshowWidows: true,\n\t\tfullWidthBreakoutRowCadence: false,\n\t\twidowLayoutStyle: 'left'\n\t};\n\n\tvar containerPadding = {};\n\tvar boxSpacing = {};\n\n\tconfig = config || {};\n\n\t// Merge defaults and config passed in\n\tlayoutConfig = merge(defaults, config);\n\n\t// Sort out padding and spacing values\n\tcontainerPadding.top = (!isNaN(parseFloat(layoutConfig.containerPadding.top))) ? layoutConfig.containerPadding.top : layoutConfig.containerPadding;\n\tcontainerPadding.right = (!isNaN(parseFloat(layoutConfig.containerPadding.right))) ? layoutConfig.containerPadding.right : layoutConfig.containerPadding;\n\tcontainerPadding.bottom = (!isNaN(parseFloat(layoutConfig.containerPadding.bottom))) ? layoutConfig.containerPadding.bottom : layoutConfig.containerPadding;\n\tcontainerPadding.left = (!isNaN(parseFloat(layoutConfig.containerPadding.left))) ? layoutConfig.containerPadding.left : layoutConfig.containerPadding;\n\tboxSpacing.horizontal = (!isNaN(parseFloat(layoutConfig.boxSpacing.horizontal))) ? layoutConfig.boxSpacing.horizontal : layoutConfig.boxSpacing;\n\tboxSpacing.vertical = (!isNaN(parseFloat(layoutConfig.boxSpacing.vertical))) ? layoutConfig.boxSpacing.vertical : layoutConfig.boxSpacing;\n\n\tlayoutConfig.containerPadding = containerPadding;\n\tlayoutConfig.boxSpacing = boxSpacing;\n\n\t// Local\n\tlayoutData._layoutItems = [];\n\tlayoutData._awakeItems = [];\n\tlayoutData._inViewportItems = [];\n\tlayoutData._leadingOrphans = [];\n\tlayoutData._trailingOrphans = [];\n\tlayoutData._containerHeight = layoutConfig.containerPadding.top;\n\tlayoutData._rows = [];\n\tlayoutData._orphans = [];\n\tlayoutConfig._widowCount = 0;\n\n\t// Convert widths and heights to aspect ratios if we need to\n\treturn computeLayout(layoutConfig, layoutData, input.map(function (item) {\n\t\tif (item.width && item.height) {\n\t\t\treturn { aspectRatio: item.width / item.height };\n\t\t} else {\n\t\t\treturn { aspectRatio: item };\n\t\t}\n\t}));\n};\n","import justifiedLayout from 'justified-layout';\n\n// Justified Layout by Flickr\n// http://flickr.github.io/justified-layout/\n\n// const defaults = {\n//   containerWidth: 1060,\n//   containerPadding: 10,\n//   boxSpacing: 10,\n//   targetRowHeight: 320,\n//   targetRowHeightTolerance: 0.25,\n//   maxNumRows: Number.POSITIVE_INFINITY,\n//   forceAspectRatio: false,\n//   showWidows: true,\n//   fullWidthBreakoutRowCadence: false,\n// }\n\nexport default class JustifiedLayout {\n  constructor($container, config = {}) {\n    this.$container = $container;\n    this.$items = this.$container.querySelectorAll('[data-aspect-ratio]');\n    this.config = config;\n\n    this.init();\n  }\n\n  init() {\n    this.aspectRatiosArray = this.getAspectRatiosArray();\n    this.geometry = justifiedLayout(this.aspectRatiosArray, this.config);\n\n    this.generateLayout();\n  }\n\n  getAspectRatiosArray() {\n    return Array.from(this.$items).map($item => Number($item.dataset.aspectRatio));\n  }\n\n  generateLayout() {\n    this.$items.forEach(($item, index) => {\n      if (this.geometry.boxes[index]) {\n        $item.style.width = `${this.geometry.boxes[index].width}px`;\n        $item.style.height = `${this.geometry.boxes[index].height}px`;\n        $item.style.top = `${this.geometry.boxes[index].top}px`;\n        $item.style.left = `${this.geometry.boxes[index].left}px`;\n      } else {\n        $item.style.display = 'none';\n      }\n    });\n\n    this.$container.style.height = `${this.geometry.containerHeight}px`;\n    // this.$container.style.width = config.containerWidth + \"px\";\n  }\n}\n","export default class LightboxPresentation {\n  constructor($toggles) {\n    this.$lightbox = document.querySelector('[data-lightbox=\"lightbox\"]');\n    if (!this.$lightbox) return console.warn('No lightbox to toggle!');\n    this.$image = this.$lightbox.querySelector('[data-lightbox=\"item\"] img');\n    this.$closes = this.$lightbox.querySelectorAll('[data-lightbox=\"close\"]');\n    this.$previous = this.$lightbox.querySelector('[data-lightbox=\"<\"]');\n    this.$next = this.$lightbox.querySelector('[data-lightbox=\">\"]');\n    this.$loading = this.$lightbox.querySelector('[data-lightbox=\"loading\"]')\n\n    this.$body = document.body;\n    this.$toggles = $toggles;\n\n    this.images = [];\n    this.isActive = false;\n    this.currentIndex = 0;\n\n    this.loopToggles();\n    this.addEventListeners();\n  }\n\n  loopToggles() {\n    this.$toggles.forEach(($toggle, index) => {\n      this.addToggleImageToImagesArray($toggle);\n      this.addEventListenerToToggle($toggle, index);\n    });\n  }\n\n  addToggleImageToImagesArray($toggle) {\n    const image = $toggle.querySelector('img');\n\n    this.images.push({\n      src: image.getAttribute('data-src') || image.getAttribute('src'),\n      srcset: image.getAttribute('data-srcset') || image.getAttribute('srcset'),\n    });\n  }\n\n  toggleLoading(img = false) {\n    this.$lightbox.classList.toggle('is-loading', !img);\n  }\n\n  addImageProcess(src) {\n    return new Promise((resolve, reject) => {\n      let img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = reject;\n      img.src = src;\n    })\n  }\n\n  // inspired by https://github.com/fregante/image-promise\n  checkImage(input) {\n    return new Promise((resolve, reject) => {\n      let image;\n\n      if (typeof input === 'string') {\n        image = new Image();\n        // image.onload = () => resolve({src, status: 'ok'});\n        // image.onerror = () => resolve({src, status: 'error'});\n        image.src = input;\n      } else if (input instanceof HTMLImageElement) {\n        image = input;\n      }\n\n        if (image.naturalWidth) {\n          resolve(image);\n\n        } else if (image.complete) {\n          reject(image);\n\n        } else {\n\n          image.onload = () => {\n            if (image.naturalWidth) {\n              resolve(image);\n            } else {\n              reject(image);\n            }\n          };\n\n          image.onerror = () => {\n            if (image.naturalWidth) {\n              resolve(image);\n            } else {\n              reject(image);\n            }\n          };\n        }\n    });\n  }\n\n  getImages() {\n    this.toggleLoading(false);\n\n    const image = {\n      current: this.images[this.currentIndex],\n      previous: this.images[this.currentIndex - 1],\n      next: this.images[this.currentIndex + 1],\n    };\n\n    this.$image.setAttribute('sizes', '100vw');\n    this.$image.setAttribute('srcset', image.current.srcset);\n    this.$image.setAttribute('src', image.current.src);\n\n    this.$previous.style.display = image.previous ? '' : 'none';\n    this.$next.style.display = image.next ? '' : 'none';\n\n    setTimeout(() => {\n      this.checkImage(this.$image)\n        .then(image => this.toggleLoading(image))\n        .catch(image => console.error(image.src, 'Image failed to load :('));\n    }, 10);\n  }\n\n  addEventListenerToToggle($toggle, index){\n    $toggle.addEventListener('click', (event) => {\n      this.currentIndex = index;\n      this.isActive = true;\n\n      // this.$title.innerHTML = this.title;\n\n      // this.$lightbox.style.display = 'block';\n\n      this.getImages();\n\n      // setTimeout(() => {\n      this.$body.classList.toggle('lightbox-is-open');\n      this.$lightbox.classList.toggle('is-active');\n      // this.$lightbox.style.opacity = '1';\n      this.$lightbox.style.pointerEvents = '';\n        // if (this.carousel.disabled) {\n        //   this.carousel.enable();\n        // } else {\n        //   // first time\n        //   this.carousel.mount();\n        // }\n\n      // }, 30);\n\n      event.preventDefault();\n    });\n  }\n\n  closeLightbox() {\n    this.isActive = false;\n    this.$body.classList.remove('lightbox-is-open');\n    this.$lightbox.classList.remove('is-active');\n    // this.$lightbox.style.opacity = '0';\n    this.$lightbox.style.pointerEvents = 'none';\n\n    // clear the last shown image\n    this.$image.setAttribute('srcset', '');\n    this.$image.setAttribute('src', '');\n\n    // this.carousel.disable();\n  }\n\n  addEventListeners() {\n    this.$next.addEventListener('click', event => {\n      this.currentIndex += 1;\n      this.getImages(this.currentIndex);\n      event.preventDefault();\n    });\n    this.$previous.addEventListener('click', event => {\n      this.currentIndex -= 1;\n      this.getImages(this.currentIndex);\n      event.preventDefault();\n    });\n\n    this.$closes.forEach($close => {\n      $close.addEventListener('click', (event) => {\n        // this.$backdrop.addEventListener('transitionend', this.hide, true);\n        this.closeLightbox();\n        event.preventDefault();\n      });\n    });\n\n    document.addEventListener('keydown', (event) => {\n\n      if (this.isActive) {\n        switch (event.key) {\n          case 'Escape':\n            this.closeLightbox();\n            break;\n\n          case 'ArrowLeft':\n            this.currentIndex -= 1;\n            if (this.images[this.currentIndex]) {\n              this.getImages(this.currentIndex);\n            } else {\n              this.currentIndex += 1;\n            }\n            break;\n\n          case 'ArrowRight':\n            this.currentIndex += 1;\n            if (this.images[this.currentIndex]) {\n              this.getImages(this.currentIndex);\n            } else {\n              this.currentIndex -= 1;\n            }\n            break;\n\n          default:\n            break;\n        }\n      }\n\n    });\n  }\n}\n","import domLoad from './dom-load';\nimport windowLoad from './window-load';\n\n// The DOMContentLoaded event fires when parsing of the current page is complete. DOMContentLoaded is a great event to use to hookup UI functionality to complex web pages.\ndocument.addEventListener('DOMContentLoaded', domLoad, false);\n\n// The load event fires when all files have finished loading from all resources, including ads and images.\nwindow.addEventListener('load', windowLoad, false);\n","import LazyLoad from 'vanilla-lazyload';\nimport LocalPageNavigation from './localPageNavigation';\nimport JustifiedLayout from './justified-layout';\nimport LightboxPresentation from './lightbox-presentation';\nimport distributeOnCircle from './distribute-on-circle';\nimport idleTimer from './idle-timer';\nimport { _toggleState } from './utilities';\n\n\nconst domLoad = () => {\n  const $body = document.body;\n  // const windowWidth = window.outerWidth;\n  const $header = document.querySelector('#header');\n  const $menu = $header.querySelector('.main-menu');\n  const $mobileMenuToggle = $header.querySelector('#mobile-menu-toggle');\n\n   // https://github.com/verlok/lazyload\n   const lazyLoad = new LazyLoad({\n    elements_selector: '[data-lazy]',\n  });\n\n  // Mobile menu\n  $mobileMenuToggle.addEventListener('click', (event) => {\n    event.preventDefault();\n    _toggleState($menu, 'closed', 'open');\n  }, false);\n\n  // jump.js — Animated on page scroll\n  const $localPageAnchors = document.querySelectorAll('a[href^=\"#\"]');\n  if ($localPageAnchors.length > 0) {\n    $localPageAnchors.forEach($localPageAnchor => {\n      new LocalPageNavigation($localPageAnchor);\n    });\n  }\n\n  const styleLineHeight = parseFloat(\n    window.getComputedStyle($body).getPropertyValue('line-height')\n  );\n\n  // https://stackoverflow.com/a/13382873/2631749\n  function getScrollbarWidth() {\n    // Creating invisible container\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.overflow = 'scroll'; // forcing scrollbar to appear\n    outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n    document.body.appendChild(outer);\n\n    // Creating inner element and placing it in the container\n    const inner = document.createElement('div');\n    outer.appendChild(inner);\n\n    // Calculating difference between container's full width and the child width\n    const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n\n    // Removing temporary elements from the DOM\n    outer.parentNode.removeChild(outer);\n\n    return scrollbarWidth;\n\n  }\n\n  // http://flickr.github.io/justified-layout/\n  const $justifiedLayouts = document.querySelectorAll('[data-justified-layout]');\n  if ($justifiedLayouts.length > 0) {\n    $justifiedLayouts.forEach($justifiedLayout => {\n\n      const config = {\n        boxSpacing: styleLineHeight / 3,\n        containerPadding: styleLineHeight,\n        containerWidth: $justifiedLayout.clientWidth || document.documentElement.clientWidth,\n        targetRowHeight: 400,\n      };\n\n      switch ($justifiedLayout.dataset.justifiedLayout) {\n        case 'archive':\n          config.containerPadding = 0;\n          config.containerWidth = config.containerWidth - getScrollbarWidth();\n          break;\n\n        case 'project':\n          config.targetRowHeight = window.innerWidth / 3;\n          break;\n\n        default:\n          break;\n      }\n\n      new JustifiedLayout($justifiedLayout, config);\n    });\n  }\n\n  const $intros = document.querySelectorAll('[data-intro]');\n  if ($intros.length > 0) {\n\n    $intros.forEach($intro => {\n      const $introItems = $intro.children;\n\n      if ($introItems.length > 0)\n        distributeOnCircle(Array.from($introItems), 19, 1.7);\n    });\n  }\n\n  // const $pswp = document.querySelector('[data-pswp]');\n  // if ($pswp) {\n  //   new LightboxPhotoswipe($pswp);\n  // }\n\n  const $lightboxToggles = document.querySelectorAll('[data-toggle=\"lightbox\"]');\n  if ($lightboxToggles.length) {\n    new LightboxPresentation($lightboxToggles);\n\n    idleTimer({\n      // function to fire after idle\n      callback: () => $body.classList.add('is-idle'),\n      // function to fire when active\n      activeCallback: () => $body.classList.remove('is-idle'),\n      // Amount of time in milliseconds before becoming idle. default 60000\n      idleTime: 2000,\n    });\n  }\n};\n\nexport default domLoad;\n","export function _toggleState($element, stateOne, stateTwo) {\n  $element.setAttribute('data-state', $element.getAttribute('data-state') === stateOne ? stateTwo : stateOne);\n}\n","const distributeOnCircle = ($elements, radius = 19, modifier = 0) => {\n  const angle = (2 * Math.PI) / $elements.length;\n\n  $elements.forEach(($element, index) => {\n    const itemAngle = angle * (index - modifier);\n    const x = Math.cos(itemAngle) * radius;\n    const y = Math.sin(itemAngle) * radius;\n\n    $element.style.transform = `translate(calc(-50% + ${x}vmin), calc(-50% + ${y}vmin))`;\n\n    $element.addEventListener('mouseenter', () => {\n      $element.style.boxShadow = `${-x * .125}vmin ${-y * .125}vmin ${1.625 * 2}vmin rgba(0,0,0,.38)`;\n    });\n\n    $element.addEventListener('mouseleave', () => {\n      $element.style.boxShadow = `0 0 0 rgba(0,0,0,0)`;\n    });\n  });\n}\n\nexport default distributeOnCircle;\n","/* eslint-disable func-names */\n/**\n * idleTimer\n *\n * If user is idle for idleTime fire callback\n *\n * @param {object} options\n *    - {function} callback - fired when user is idle\n *    - {function} activeCallback - fired when user is active\n *    - {Number} idleTime - time in milliseconds\n *\n * https://www.npmjs.com/package/idle-timer\n */\n\nexport default function idleTimer(options) {\n  // eslint-disable-next-line no-param-reassign\n  options = options || {};\n  const callback = options.callback || function () {};\n  const activeCallback = options.activeCallback || function () {};\n  const idleTime = options.idleTime || 60000;\n  let isActive = true;\n  let timer;\n\n  function idle() {\n    if (!isActive) return;\n    isActive = false;\n    callback();\n  }\n  function activate() {\n    if (!isActive) {\n      isActive = true;\n      activeCallback();\n    }\n    clearTimeout(timer);\n    timer = setTimeout(idle, idleTime);\n  }\n\n  function addOrRemoveEvents(addOrRemove) {\n    window[addOrRemove]('load', activate);\n    document[addOrRemove]('mousemove', activate);\n    document[addOrRemove]('scroll', activate);\n    document[addOrRemove]('keypress', activate);\n    document[addOrRemove]('click', activate);\n  }\n\n  function destroy() {\n    clearTimeout(timer);\n    addOrRemoveEvents('removeEventListener');\n  }\n\n  addOrRemoveEvents('addEventListener');\n  activate();\n\n  return {\n    activate,\n    destroy,\n    idle,\n  };\n}\n","import footer from './footer';\n\nconst windowLoad = () => {\n\n  footer();\n\n  document.querySelector('.loading').classList.remove('loading');\n};\n\nexport default windowLoad;\n","const footer = () => {\n  const $footer = document.querySelector('#footer');\n  const footerDisplay = window.getComputedStyle($footer).getPropertyValue('display');\n\n  $footer.style.display = 'none';\n\n  const viewportHeight = document.documentElement.clientHeight;\n  const documentHeight = document.body.clientHeight;\n\n\n  if ((documentHeight - (viewportHeight * 0.25)) > viewportHeight) {\n    $footer.style.display = footerDisplay;\n  }\n\n};\n\nexport default footer;\n"],"names":["runningOnBrowser","window","isBot","navigator","test","userAgent","supportsIntersectionObserver","supportsClassList","document","createElement","isHiDpi","devicePixelRatio","defaultSettings","elements_selector","container","threshold","thresholds","data_src","data_srcset","data_sizes","data_bg","data_bg_hidpi","data_bg_multi","data_bg_multi_hidpi","data_poster","class_applied","class_loading","class_loaded","class_error","unobserve_completed","unobserve_entered","cancel_on_exit","callback_enter","callback_exit","callback_applied","callback_loading","callback_loaded","callback_error","callback_finish","callback_cancel","use_native","getExtendedSettings","customSettings","Object","assign","createInstance","classObj","options","event","instance","CustomEvent","detail","err","createEvent","initCustomEvent","dispatchEvent","getData","element","attribute","getAttribute","setData","value","attrName","setAttribute","removeAttribute","getStatus","setStatus","status","resetStatus","hasEmptyStatus","hasStatusNative","statusesAfterLoading","safeCallback","callback","arg1","arg2","arg3","undefined","addClass","className","classList","add","removeClass","remove","replace","RegExp","getTempImage","llTempImage","unobserve","observer","_observer","updateLoadingCount","delta","loadingCount","setToLoadCount","toLoadCount","getSourceTags","parentTag","sourceTags","childTag","i","children","tagName","push","setAttributeIfValue","resetAttribute","hasOriginalAttributes","llOriginalAttrs","saveOriginalImageAttributes","originalAttributes","restoreOriginalImageAttributes","setImageAttributes","settings","resetImageAttributes","forEachPictureSource","fn","parent","parentNode","forEach","forEachVideoSource","setSourcesFunctions","IMG","sourceTag","IFRAME","VIDEO","load","setSources","setSourcesFunction","manageApplied","removeDataMultiBackground","manageLoading","removeDataFunctions","removeDataAttributes","removeDataFunction","removeDataBackground","elementsWithLoadEvent","checkFinish","isSomethingLoading","haveElementsToLoad","addEventListener","eventName","handler","llEvLisnrs","removeEventListener","hasEventListeners","removeEventListeners","eventListeners","doneHandler","deleteTempImage","decreaseToLoadCount","addOneShotEventListeners","elementToListenTo","loadHandler","errorHandler","loadEventName","addEventListeners","goingNative","loadBackground","addTempImage","bg1xValue","bgHiDpiValue","bgDataValue","style","backgroundImage","setBackground","setMultiBackground","indexOf","hasLoadEvent","loadRegular","cancelLoading","entry","hasStatusLoading","resetSourcesImg","restoreOriginalAttributesImg","onEnter","unobserveEntered","hadStartedLoading","tagsWithNativeLazy","shouldUseNative","HTMLImageElement","prototype","loadAllNative","elements","loadNative","intersectionHandler","entries","isIntersecting","intersectionRatio","target","onExit","setObserver","IntersectionObserver","root","rootMargin","getObserverSettings","toArray","nodeSet","Array","slice","call","queryElements","querySelectorAll","hasError","hasStatusError","getElementsToLoad","filter","excludeManagedElements","retryLazyLoad","update","LazyLoad","_settings","this","setOnlineCheck","givenNodeset","elementsToLoad","elementsToObserve","length","disconnect","resetObserver","observe","observeElements","loadAll","destroy","optionsItem","autoInitialize","lazyLoadOptions","easeInOutQuad","t","b","c","d","_typeof","Symbol","iterator","obj","constructor","singleton","start","stop","offset","easing","a11y","distance","duration","timeStart","timeElapsed","next","location","scrollY","pageYOffset","top","getBoundingClientRect","loop","timeCurrent","scrollTo","requestAnimationFrame","focus","done","arguments","querySelector","jumper","LocalPageNavigation","anchor","targetID","jump","_this","isNode","Public","clone","merge","merge_recursive","base","extend","typeOf","key","recursive","argv","result","size","index","item","sitem","input","toString","toLowerCase","output","type","module","exports","params","left","width","spacing","targetRowHeight","targetRowHeightTolerance","minAspectRatio","maxAspectRatio","edgeCaseMinRowHeight","edgeCaseMaxRowHeight","widowLayoutStyle","isBreakoutRow","items","height","addItem","itemData","previousRowWidthWithoutSpacing","previousAspectRatio","previousTargetAspectRatio","newItems","concat","rowWidthWithoutSpacing","newAspectRatio","reduce","sum","aspectRatio","targetAspectRatio","completeLayout","Math","abs","isLayoutComplete","newHeight","clampedToNativeRatio","clampedHeight","errorWidthPerItem","roundedCumulativeErrors","centerOffset","itemWidthSum","max","min","map","round","forceComplete","fitToWidth","rowHeight","getItems","createNewRow","layoutConfig","layoutData","fullWidthBreakoutRowCadence","_rows","Row","_containerHeight","containerPadding","containerWidth","right","boxSpacing","horizontal","rightToLeft","addRow","row","_layoutItems","vertical","config","defaults","maxNumRows","Number","POSITIVE_INFINITY","forceAspectRatio","showWidows","isNaN","parseFloat","bottom","_awakeItems","_inViewportItems","_leadingOrphans","_trailingOrphans","_orphans","_widowCount","itemLayoutData","itemAdded","currentRow","nextToLastRowHeight","laidOutItems","forcedAspectRatio","some","Error","containerHeight","widowCount","boxes","computeLayout","JustifiedLayout","$container","$items","init","aspectRatiosArray","getAspectRatiosArray","geometry","justifiedLayout","generateLayout","from","$item","dataset","display","LightboxPresentation","$toggles","$lightbox","console","warn","$image","$closes","$previous","$next","$loading","$body","body","images","isActive","currentIndex","loopToggles","$toggle","addToggleImageToImagesArray","addEventListenerToToggle","image","src","srcset","img","toggle","Promise","resolve","reject","Image","onload","onerror","naturalWidth","complete","toggleLoading","current","previous","setTimeout","_this2","checkImage","then","catch","error","_this3","getImages","pointerEvents","preventDefault","_this4","$close","closeLightbox","$header","$menu","$mobileMenuToggle","$element","stateOne","stateTwo","$localPageAnchors","$localPageAnchor","styleLineHeight","getComputedStyle","getPropertyValue","$justifiedLayouts","$justifiedLayout","clientWidth","documentElement","outer","visibility","overflow","msOverflowStyle","appendChild","inner","scrollbarWidth","offsetWidth","removeChild","getScrollbarWidth","innerWidth","$intros","$intro","$introItems","$elements","radius","modifier","angle","PI","itemAngle","x","cos","y","sin","transform","boxShadow","distributeOnCircle","$lightboxToggles","timer","activeCallback","idleTime","idle","activate","clearTimeout","addOrRemoveEvents","addOrRemove","idleTimer","$footer","footerDisplay","viewportHeight","clientHeight","footer"],"mappings":"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"}