{"version":3,"file":"main.build.js","sources":["../../node_modules/vanilla-lazyload/dist/lazyload.esm.js","../../node_modules/jump.js/dist/jump.module.js","../../src/js/localPageNavigation.js","../../node_modules/justified-layout/lib/row.js","../../node_modules/justified-layout/lib/index.js","../../src/js/justified-layout.js","../../src/js/lightbox-presentation.js","../../src/js/main.js","../../src/js/dom-load.js","../../src/js/utilities.js","../../src/js/distribute-on-circle.js","../../src/js/idle-timer.js","../../src/js/window-load.js","../../src/js/footer.js"],"sourcesContent":["const runningOnBrowser = typeof window !== \"undefined\";\r\n\r\nconst isBot =\r\n    (runningOnBrowser && !(\"onscroll\" in window)) ||\r\n    (typeof navigator !== \"undefined\" && /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent));\r\n\r\nconst supportsIntersectionObserver = runningOnBrowser && \"IntersectionObserver\" in window;\r\n\r\nconst supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\r\n\r\nconst isHiDpi = runningOnBrowser && window.devicePixelRatio > 1;\r\n\r\nconst defaultSettings = {\r\n    elements_selector: \".lazy\",\r\n    container: isBot || runningOnBrowser ? document : null,\r\n    threshold: 300,\r\n    thresholds: null,\r\n    data_src: \"src\",\r\n    data_srcset: \"srcset\",\r\n    data_sizes: \"sizes\",\r\n    data_bg: \"bg\",\r\n    data_bg_hidpi: \"bg-hidpi\",\r\n    data_bg_multi: \"bg-multi\",\r\n    data_bg_multi_hidpi: \"bg-multi-hidpi\",\r\n    data_poster: \"poster\",\r\n    class_applied: \"applied\",\r\n    class_loading: \"loading\",\r\n    class_loaded: \"loaded\",\r\n    class_error: \"error\",\r\n    class_entered: \"entered\",\r\n    class_exited: \"exited\",\r\n    unobserve_completed: true,\r\n    unobserve_entered: false,\r\n    cancel_on_exit: true,\r\n    callback_enter: null,\r\n    callback_exit: null,\r\n    callback_applied: null,\r\n    callback_loading: null,\r\n    callback_loaded: null,\r\n    callback_error: null,\r\n    callback_finish: null,\r\n    callback_cancel: null,\r\n    use_native: false\r\n};\r\n\r\nconst getExtendedSettings = (customSettings) => {\r\n    return Object.assign({}, defaultSettings, customSettings);\r\n};\r\n\r\n/* Creates instance and notifies it through the window element */\r\nconst createInstance = function(classObj, options) {\r\n    let event;\r\n    const eventString = \"LazyLoad::Initialized\";\r\n    const instance = new classObj(options);\r\n    try {\r\n        // Works in modern browsers\r\n        event = new CustomEvent(eventString, { detail: { instance } });\r\n    } catch (err) {\r\n        // Works in Internet Explorer (all versions)\r\n        event = document.createEvent(\"CustomEvent\");\r\n        event.initCustomEvent(eventString, false, false, { instance });\r\n    }\r\n    window.dispatchEvent(event);\r\n};\r\n\r\n/* Auto initialization of one or more instances of lazyload, depending on the \r\n    options passed in (plain object or an array) */\r\nconst autoInitialize = (classObj, options) => {\r\n    if (!options) {\r\n        return;\r\n    }\r\n    if (!options.length) {\r\n        // Plain object\r\n        createInstance(classObj, options);\r\n    } else {\r\n        // Array of objects\r\n        for (let i = 0, optionsItem; (optionsItem = options[i]); i += 1) {\r\n            createInstance(classObj, optionsItem);\r\n        }\r\n    }\r\n};\r\n\r\nconst SRC = \"src\";\r\nconst SRCSET = \"srcset\";\r\nconst SIZES = \"sizes\";\r\nconst POSTER = \"poster\";\r\nconst ORIGINALS = \"llOriginalAttrs\";\r\n\r\nconst statusLoading = \"loading\";\r\nconst statusLoaded = \"loaded\";\r\nconst statusApplied = \"applied\";\r\nconst statusEntered = \"entered\";\r\nconst statusError = \"error\";\r\nconst statusNative = \"native\";\r\n\r\nconst dataPrefix = \"data-\";\r\nconst statusDataName = \"ll-status\";\r\n\r\nconst getData = (element, attribute) => {\r\n    return element.getAttribute(dataPrefix + attribute);\r\n};\r\n\r\nconst setData = (element, attribute, value) => {\r\n    var attrName = dataPrefix + attribute;\r\n    if (value === null) {\r\n        element.removeAttribute(attrName);\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst getStatus = (element) => getData(element, statusDataName);\r\nconst setStatus = (element, status) => setData(element, statusDataName, status);\r\nconst resetStatus = (element) => setStatus(element, null);\r\n\r\nconst hasEmptyStatus = (element) => getStatus(element) === null;\r\nconst hasStatusLoading = (element) => getStatus(element) === statusLoading;\r\nconst hasStatusError = (element) => getStatus(element) === statusError;\r\nconst hasStatusNative = (element) => getStatus(element) === statusNative;\r\n\r\nconst statusesAfterLoading = [statusLoading, statusLoaded, statusApplied, statusError];\r\nconst hadStartedLoading = (element) => statusesAfterLoading.indexOf(getStatus(element)) >= 0;\r\n\r\nconst safeCallback = (callback, arg1, arg2, arg3) => {\r\n\tif (!callback) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (arg3 !== undefined) {\r\n\t\tcallback(arg1, arg2, arg3);\r\n\t\treturn;\r\n\t}\r\n\tif (arg2 !== undefined) {\r\n\t\tcallback(arg1, arg2);\r\n\t\treturn;\r\n\t}\r\n\tcallback(arg1);\r\n};\r\n\r\nconst addClass = (element, className) => {\r\n\tif (supportsClassList) {\r\n\t\telement.classList.add(className);\r\n\t\treturn;\r\n\t}\r\n\telement.className += (element.className ? \" \" : \"\") + className;\r\n};\r\n\r\nconst removeClass = (element, className) => {\r\n\tif (supportsClassList) {\r\n\t\telement.classList.remove(className);\r\n\t\treturn;\r\n\t}\r\n\telement.className = element.className.\r\n\t\treplace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").\r\n\t\treplace(/^\\s+/, \"\").\r\n\t\treplace(/\\s+$/, \"\");\r\n};\r\n\r\nconst addTempImage = (element) => {\r\n    element.llTempImage = document.createElement(\"IMG\");\r\n};\r\n\r\nconst deleteTempImage = (element) => {\r\n    delete element.llTempImage;\r\n};\r\n\r\nconst getTempImage = (element) => element.llTempImage;\r\n\r\nconst unobserve = (element, instance) => {\r\n    if (!instance) return;\r\n    const observer = instance._observer;\r\n    if (!observer) return;\r\n    observer.unobserve(element);\r\n};\r\n\r\nconst resetObserver = (observer) => {\r\n    observer.disconnect();\r\n};\r\n\r\nconst unobserveEntered = (element, settings, instance) => {\r\n    if (settings.unobserve_entered) unobserve(element, instance);\r\n};\r\n\r\nconst updateLoadingCount = (instance, delta) => {\r\n    if (!instance) return;\r\n    instance.loadingCount += delta;\r\n};\r\n\r\nconst decreaseToLoadCount = (instance) => {\r\n    if (!instance) return;\r\n    instance.toLoadCount -= 1;\r\n};\r\n\r\nconst setToLoadCount = (instance, value) => {\r\n    if (!instance) return;\r\n    instance.toLoadCount = value;\r\n};\r\n\r\nconst isSomethingLoading = (instance) => instance.loadingCount > 0;\r\n\r\nconst haveElementsToLoad = (instance) => instance.toLoadCount > 0;\r\n\r\nconst getSourceTags = (parentTag) => {\r\n  let sourceTags = [];\r\n  for (let i = 0, childTag; (childTag = parentTag.children[i]); i += 1) {\r\n      if (childTag.tagName === \"SOURCE\") {\r\n          sourceTags.push(childTag);\r\n      }\r\n  }\r\n  return sourceTags;\r\n};\r\n\r\nconst forEachPictureSource = (element, fn) => {\r\n  const parent = element.parentNode;\r\n  if (!parent || parent.tagName !== \"PICTURE\") {\r\n      return;\r\n  }\r\n  let sourceTags = getSourceTags(parent);\r\n  sourceTags.forEach(fn);\r\n};\r\n\r\nconst forEachVideoSource = (element, fn) => {\r\n  let sourceTags = getSourceTags(element);\r\n  sourceTags.forEach(fn);\r\n};\r\n\r\nconst attrsSrc = [SRC];\r\nconst attrsSrcPoster = [SRC, POSTER];\r\nconst attrsSrcSrcsetSizes = [SRC, SRCSET, SIZES];\r\n\r\nconst hasOriginalAttrs = (element) => !!element[ORIGINALS];\r\nconst getOriginalAttrs = (element) => element[ORIGINALS];\r\nconst deleteOriginalAttrs = (element) => delete element[ORIGINALS];\r\n\r\n// ## SAVE ##\r\n\r\nconst setOriginalsObject = (element, attributes) => {\r\n    if (hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    const originals = {};\r\n    attributes.forEach((attribute) => {\r\n        originals[attribute] = element.getAttribute(attribute);\r\n    });\r\n    element[ORIGINALS] = originals;\r\n};\r\n\r\nconst saveOriginalBackgroundStyle = (element) => {\r\n    if (hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    element[ORIGINALS] = { backgroundImage: element.style.backgroundImage };\r\n};\r\n\r\n// ## RESTORE ##\r\n\r\nconst setOrResetAttribute = (element, attrName, value) => {\r\n    if (!value) {\r\n        element.removeAttribute(attrName);\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst restoreOriginalAttrs = (element, attributes) => {\r\n    if (!hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    const originals = getOriginalAttrs(element);\r\n    attributes.forEach((attribute) => {\r\n        setOrResetAttribute(element, attribute, originals[attribute]);\r\n    });\r\n};\r\n\r\nconst restoreOriginalBgImage = (element) => {\r\n    if (!hasOriginalAttrs(element)) {\r\n        return;\r\n    }\r\n    const originals = getOriginalAttrs(element);    \r\n    element.style.backgroundImage = originals.backgroundImage;\r\n};\r\n\r\nconst manageApplied = (element, settings, instance) => {\r\n    addClass(element, settings.class_applied);\r\n    setStatus(element, statusApplied);\r\n    // Instance is not provided when loading is called from static class\r\n    if (!instance) return;\r\n    if (settings.unobserve_completed) {\r\n        // Unobserve now because we can't do it on load\r\n        unobserve(element, settings);\r\n    }\r\n    safeCallback(settings.callback_applied, element, instance);\r\n};\r\n\r\nconst manageLoading = (element, settings, instance) => {\r\n    addClass(element, settings.class_loading);\r\n    setStatus(element, statusLoading);\r\n    // Instance is not provided when loading is called from static class\r\n    if (!instance) return;\r\n    updateLoadingCount(instance, +1);\r\n    safeCallback(settings.callback_loading, element, instance);\r\n};\r\n\r\nconst setAttributeIfValue = (element, attrName, value) => {\r\n    if (!value) {\r\n        return;\r\n    }\r\n    element.setAttribute(attrName, value);\r\n};\r\n\r\nconst setImageAttributes = (element, settings) => {\r\n    setAttributeIfValue(element, SIZES, getData(element, settings.data_sizes));\r\n    setAttributeIfValue(element, SRCSET, getData(element, settings.data_srcset));\r\n    setAttributeIfValue(element, SRC, getData(element, settings.data_src));\r\n};\r\n\r\nconst setSourcesImg = (imgEl, settings) => {\r\n    forEachPictureSource(imgEl, (sourceTag) => {\r\n        setOriginalsObject(sourceTag, attrsSrcSrcsetSizes);\r\n        setImageAttributes(sourceTag, settings);\r\n    });\r\n    setOriginalsObject(imgEl, attrsSrcSrcsetSizes);\r\n    setImageAttributes(imgEl, settings);\r\n};\r\n\r\nconst setSourcesIframe = (iframe, settings) => {\r\n    setOriginalsObject(iframe, attrsSrc);\r\n    setAttributeIfValue(iframe, SRC, getData(iframe, settings.data_src));\r\n};\r\n\r\nconst setSourcesVideo = (videoEl, settings) => {\r\n    forEachVideoSource(videoEl, (sourceEl) => {\r\n        setOriginalsObject(sourceEl, attrsSrc);\r\n        setAttributeIfValue(sourceEl, SRC, getData(sourceEl, settings.data_src));\r\n    });\r\n    setOriginalsObject(videoEl, attrsSrcPoster);\r\n\r\n    setAttributeIfValue(videoEl, POSTER, getData(videoEl, settings.data_poster));\r\n    setAttributeIfValue(videoEl, SRC, getData(videoEl, settings.data_src));\r\n    videoEl.load();\r\n};\r\n\r\nconst setBackground = (element, settings, instance) => {\r\n    const bg1xValue = getData(element, settings.data_bg);\r\n    const bgHiDpiValue = getData(element, settings.data_bg_hidpi);\r\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\r\n    if (!bgDataValue) return;\r\n    element.style.backgroundImage = `url(\"${bgDataValue}\")`;\r\n    getTempImage(element).setAttribute(SRC, bgDataValue);\r\n    manageLoading(element, settings, instance);\r\n};\r\n\r\n// NOTE: THE TEMP IMAGE TRICK CANNOT BE DONE WITH data-multi-bg\r\n// BECAUSE INSIDE ITS VALUES MUST BE WRAPPED WITH URL() AND ONE OF THEM\r\n// COULD BE A GRADIENT BACKGROUND IMAGE\r\nconst setMultiBackground = (element, settings, instance) => {\r\n    const bg1xValue = getData(element, settings.data_bg_multi);\r\n    const bgHiDpiValue = getData(element, settings.data_bg_multi_hidpi);\r\n    const bgDataValue = isHiDpi && bgHiDpiValue ? bgHiDpiValue : bg1xValue;\r\n    if (!bgDataValue) {\r\n        return;\r\n    }\r\n    element.style.backgroundImage = bgDataValue;\r\n    manageApplied(element, settings, instance);\r\n};\r\n\r\nconst setSourcesFunctions = {\r\n    IMG: setSourcesImg,\r\n    IFRAME: setSourcesIframe,\r\n    VIDEO: setSourcesVideo\r\n};\r\n\r\nconst setSourcesNative = (element, settings) => {\r\n    const setSourcesFunction = setSourcesFunctions[element.tagName];\r\n    if (!setSourcesFunction) {\r\n        return;\r\n    }\r\n    setSourcesFunction(element, settings);\r\n};\r\n\r\nconst setSources = (element, settings, instance) => {\r\n    const setSourcesFunction = setSourcesFunctions[element.tagName];\r\n    if (!setSourcesFunction) {\r\n        return;\r\n    }\r\n    setSourcesFunction(element, settings);\r\n    manageLoading(element, settings, instance);\r\n};\r\n\r\nconst elementsWithLoadEvent = [\"IMG\", \"IFRAME\", \"VIDEO\"];\r\nconst hasLoadEvent = (element) => elementsWithLoadEvent.indexOf(element.tagName) > -1;\r\n\r\nconst checkFinish = (settings, instance) => {\r\n    if (instance && !isSomethingLoading(instance) && !haveElementsToLoad(instance)) {\r\n        safeCallback(settings.callback_finish, instance);\r\n    }\r\n};\r\n\r\nconst addEventListener = (element, eventName, handler) => {\r\n    element.addEventListener(eventName, handler);\r\n    element.llEvLisnrs[eventName] = handler;\r\n};\r\n\r\nconst removeEventListener = (element, eventName, handler) => {\r\n    element.removeEventListener(eventName, handler);\r\n};\r\n\r\nconst hasEventListeners = (element) => {\r\n    return !!element.llEvLisnrs;\r\n};\r\n\r\nconst addEventListeners = (element, loadHandler, errorHandler) => {\r\n    if (!hasEventListeners(element)) element.llEvLisnrs = {};\r\n    const loadEventName = element.tagName === \"VIDEO\" ? \"loadeddata\" : \"load\";\r\n    addEventListener(element, loadEventName, loadHandler);\r\n    addEventListener(element, \"error\", errorHandler);\r\n};\r\n\r\nconst removeEventListeners = (element) => {\r\n    if (!hasEventListeners(element)) {\r\n        return;\r\n    }\r\n    const eventListeners = element.llEvLisnrs;\r\n    for (let eventName in eventListeners) {\r\n        const handler = eventListeners[eventName];\r\n        removeEventListener(element, eventName, handler);\r\n    }\r\n    delete element.llEvLisnrs;\r\n};\r\n\r\nconst doneHandler = (element, settings, instance) => {\r\n    deleteTempImage(element);\r\n    updateLoadingCount(instance, -1);\r\n    decreaseToLoadCount(instance);\r\n    removeClass(element, settings.class_loading);\r\n    if (settings.unobserve_completed) {\r\n        unobserve(element, instance);\r\n    }\r\n};\r\n\r\nconst loadHandler = (event, element, settings, instance) => {\r\n    const goingNative = hasStatusNative(element);\r\n    doneHandler(element, settings, instance);\r\n    addClass(element, settings.class_loaded);\r\n    setStatus(element, statusLoaded);\r\n    safeCallback(settings.callback_loaded, element, instance);\r\n    if (!goingNative) checkFinish(settings, instance);\r\n};\r\n\r\nconst errorHandler = (event, element, settings, instance) => {\r\n    const goingNative = hasStatusNative(element);\r\n    doneHandler(element, settings, instance);\r\n    addClass(element, settings.class_error);\r\n    setStatus(element, statusError);\r\n    safeCallback(settings.callback_error, element, instance);\r\n    if (!goingNative) checkFinish(settings, instance);\r\n};\r\n\r\nconst addOneShotEventListeners = (element, settings, instance) => {\r\n    const elementToListenTo = getTempImage(element) || element;\r\n    if (hasEventListeners(elementToListenTo)) {\r\n        // This happens when loading is retried twice\r\n        return;\r\n    }\r\n    const _loadHandler = (event) => {\r\n        loadHandler(event, element, settings, instance);\r\n        removeEventListeners(elementToListenTo);\r\n    };\r\n    const _errorHandler = (event) => {\r\n        errorHandler(event, element, settings, instance);\r\n        removeEventListeners(elementToListenTo);\r\n    };\r\n    addEventListeners(elementToListenTo, _loadHandler, _errorHandler);\r\n};\r\n\r\nconst loadBackground = (element, settings, instance) => {\r\n    addTempImage(element);\r\n    addOneShotEventListeners(element, settings, instance);\r\n    saveOriginalBackgroundStyle(element);\r\n    setBackground(element, settings, instance);\r\n    setMultiBackground(element, settings, instance);\r\n};\r\n\r\nconst loadRegular = (element, settings, instance) => {\r\n    addOneShotEventListeners(element, settings, instance);\r\n    setSources(element, settings, instance);\r\n};\r\n\r\nconst load = (element, settings, instance) => {\r\n    if (hasLoadEvent(element)) {\r\n        loadRegular(element, settings, instance);\r\n    } else {\r\n        loadBackground(element, settings, instance);\r\n    }\r\n};\r\n\r\nconst loadNative = (element, settings, instance) => {\r\n    element.setAttribute(\"loading\", \"lazy\");\r\n    addOneShotEventListeners(element, settings, instance);\r\n    setSourcesNative(element, settings);\r\n    setStatus(element, statusNative);\r\n};\r\n\r\nconst removeImageAttributes = (element) => {\r\n    element.removeAttribute(SRC);\r\n    element.removeAttribute(SRCSET);\r\n    element.removeAttribute(SIZES);\r\n};\r\n\r\nconst resetSourcesImg = (element) => {\r\n    forEachPictureSource(element, (sourceTag) => {\r\n        removeImageAttributes(sourceTag);\r\n    });\r\n    removeImageAttributes(element);\r\n};\r\n\r\nconst restoreImg = (imgEl) => {\r\n    forEachPictureSource(imgEl, (sourceEl) => {\r\n        restoreOriginalAttrs(sourceEl, attrsSrcSrcsetSizes);\r\n    });\r\n    restoreOriginalAttrs(imgEl, attrsSrcSrcsetSizes);\r\n};\r\n\r\nconst restoreVideo = (videoEl) => {\r\n    forEachVideoSource(videoEl, (sourceEl) => {\r\n        restoreOriginalAttrs(sourceEl, attrsSrc);\r\n    });\r\n    restoreOriginalAttrs(videoEl, attrsSrcPoster);\r\n    videoEl.load();\r\n};\r\n\r\nconst restoreIframe = (iframeEl) => {\r\n    restoreOriginalAttrs(iframeEl, attrsSrc);\r\n};\r\n\r\nconst restoreFunctions = {\r\n    IMG: restoreImg,\r\n    IFRAME: restoreIframe,\r\n    VIDEO: restoreVideo\r\n};\r\n\r\nconst restoreAttributes = (element) => {\r\n    const restoreFunction = restoreFunctions[element.tagName];\r\n    if (!restoreFunction) {\r\n        restoreOriginalBgImage(element);\r\n        return;\r\n    }\r\n    restoreFunction(element);\r\n};\r\n\r\nconst resetClasses = (element, settings) => {\r\n    if (hasEmptyStatus(element) || hasStatusNative(element)) {\r\n        return;\r\n    }\r\n    removeClass(element, settings.class_entered);\r\n    removeClass(element, settings.class_exited);\r\n    removeClass(element, settings.class_applied);\r\n    removeClass(element, settings.class_loading);\r\n    removeClass(element, settings.class_loaded);\r\n    removeClass(element, settings.class_error);\r\n};\r\n\r\nconst restore = (element, settings) => {\r\n    restoreAttributes(element);\r\n    resetClasses(element, settings);\r\n    resetStatus(element);\r\n    deleteOriginalAttrs(element);\r\n};\r\n\r\nconst cancelLoading = (element, entry, settings, instance) => {\r\n    if (!settings.cancel_on_exit) return;\r\n    if (!hasStatusLoading(element)) return;\r\n    if (element.tagName !== \"IMG\") return; //Works only on images\r\n    removeEventListeners(element);\r\n    resetSourcesImg(element);\r\n    restoreImg(element);\r\n    removeClass(element, settings.class_loading);\r\n    updateLoadingCount(instance, -1);\r\n    resetStatus(element);\r\n    safeCallback(settings.callback_cancel, element, entry, instance);\r\n};\r\n\r\nconst onEnter = (element, entry, settings, instance) => {\r\n    const dontLoad = hadStartedLoading(element); /* Save status \r\n        before setting it, to prevent loading it again. Fixes #526. */\r\n    setStatus(element, statusEntered);\r\n    addClass(element, settings.class_entered);\r\n    removeClass(element, settings.class_exited);\r\n    unobserveEntered(element, settings, instance);\r\n    safeCallback(settings.callback_enter, element, entry, instance);\r\n    if (dontLoad) return;\r\n    load(element, settings, instance);\r\n};\r\n\r\nconst onExit = (element, entry, settings, instance) => {\r\n    if (hasEmptyStatus(element)) return; //Ignore the first pass, at landing\r\n    addClass(element, settings.class_exited);\r\n    cancelLoading(element, entry, settings, instance);\r\n    safeCallback(settings.callback_exit, element, entry, instance);\r\n};\r\n\r\nconst tagsWithNativeLazy = [\"IMG\", \"IFRAME\", \"VIDEO\"];\r\n\r\nconst shouldUseNative = (settings) =>\r\n    settings.use_native && \"loading\" in HTMLImageElement.prototype;\r\n\r\nconst loadAllNative = (elements, settings, instance) => {\r\n    elements.forEach((element) => {\r\n        if (tagsWithNativeLazy.indexOf(element.tagName) === -1) {\r\n            return;\r\n        }\r\n        loadNative(element, settings, instance);\r\n    });\r\n    setToLoadCount(instance, 0);\r\n};\r\n\r\nconst isIntersecting = (entry) => entry.isIntersecting || entry.intersectionRatio > 0;\r\n\r\nconst getObserverSettings = (settings) => ({\r\n    root: settings.container === document ? null : settings.container,\r\n    rootMargin: settings.thresholds || settings.threshold + \"px\"\r\n});\r\n\r\nconst intersectionHandler = (entries, settings, instance) => {\r\n    entries.forEach((entry) =>\r\n        isIntersecting(entry)\r\n            ? onEnter(entry.target, entry, settings, instance)\r\n            : onExit(entry.target, entry, settings, instance)\r\n    );\r\n};\r\n\r\nconst observeElements = (observer, elements) => {\r\n    elements.forEach((element) => {\r\n        observer.observe(element);\r\n    });\r\n};\r\n\r\nconst updateObserver = (observer, elementsToObserve) => {\r\n    resetObserver(observer);\r\n    observeElements(observer, elementsToObserve);\r\n};\r\n\r\nconst setObserver = (settings, instance) => {\r\n    if (!supportsIntersectionObserver || shouldUseNative(settings)) {\r\n        return;\r\n    }\r\n    instance._observer = new IntersectionObserver((entries) => {\r\n        intersectionHandler(entries, settings, instance);\r\n    }, getObserverSettings(settings));\r\n};\r\n\r\nconst toArray = (nodeSet) => Array.prototype.slice.call(nodeSet);\r\n\r\nconst queryElements = (settings) =>\r\n    settings.container.querySelectorAll(settings.elements_selector);\r\n\r\nconst excludeManagedElements = (elements) => toArray(elements).filter(hasEmptyStatus);\r\n\r\nconst hasError = (element) => hasStatusError(element);\r\nconst filterErrorElements = (elements) => toArray(elements).filter(hasError);\r\n\r\nconst getElementsToLoad = (elements, settings) =>\r\n    excludeManagedElements(elements || queryElements(settings));\r\n\r\nconst retryLazyLoad = (settings, instance) => {\r\n    const errorElements = filterErrorElements(queryElements(settings));\r\n    errorElements.forEach(element => {\r\n        removeClass(element, settings.class_error);\r\n        resetStatus(element);\r\n    });\r\n    instance.update();\r\n};\r\n\r\nconst setOnlineCheck = (settings, instance) => {\r\n    if (!runningOnBrowser) {\r\n        return;\r\n    }\r\n    window.addEventListener(\"online\", () => {\r\n        retryLazyLoad(settings, instance);\r\n    });\r\n};\r\n\r\nconst LazyLoad = function (customSettings, elements) {\r\n    const settings = getExtendedSettings(customSettings);\r\n    this._settings = settings;\r\n    this.loadingCount = 0;\r\n    setObserver(settings, this);\r\n    setOnlineCheck(settings, this);\r\n    this.update(elements);\r\n};\r\n\r\nLazyLoad.prototype = {\r\n    update: function (givenNodeset) {\r\n        const settings = this._settings;\r\n        const elementsToLoad = getElementsToLoad(givenNodeset, settings);\r\n        setToLoadCount(this, elementsToLoad.length);\r\n\r\n        if (isBot || !supportsIntersectionObserver) {\r\n            this.loadAll(elementsToLoad);\r\n            return;\r\n        }\r\n        if (shouldUseNative(settings)) {\r\n            loadAllNative(elementsToLoad, settings, this);\r\n            return;\r\n        }\r\n\r\n        updateObserver(this._observer, elementsToLoad);\r\n    },\r\n\r\n    destroy: function () {\r\n        // Observer\r\n        if (this._observer) {\r\n            this._observer.disconnect();\r\n        }\r\n        // Clean custom attributes on elements\r\n        queryElements(this._settings).forEach((element) => {\r\n            deleteOriginalAttrs(element);\r\n        });\r\n        // Delete all internal props\r\n        delete this._observer;\r\n        delete this._settings;\r\n        delete this.loadingCount;\r\n        delete this.toLoadCount;\r\n    },\r\n\r\n    loadAll: function (elements) {\r\n        const settings = this._settings;\r\n        const elementsToLoad = getElementsToLoad(elements, settings);\r\n        elementsToLoad.forEach((element) => {\r\n            unobserve(element, this);\r\n            load(element, settings, this);\r\n        });\r\n    },\r\n\r\n    restoreAll: function() {\r\n        const settings = this._settings;\r\n        queryElements(settings).forEach((element) => {\r\n            restore(element, settings);\r\n        });\r\n    }\r\n};\r\n\r\nLazyLoad.load = (element, customSettings) => {\r\n    const settings = getExtendedSettings(customSettings);\r\n    load(element, settings);\r\n};\r\n\r\nLazyLoad.resetStatus = (element) => {\r\n    resetStatus(element);\r\n};\r\n\r\n// Automatic instances creation if required (useful for async script loading)\r\nif (runningOnBrowser) {\r\n    autoInitialize(LazyLoad, window.lazyLoadOptions);\r\n}\r\n\r\nexport { LazyLoad as default };\r\n","// Robert Penner's easeInOutQuad\n\n// find the rest of his easing functions here: http://robertpenner.com/easing/\n// find them exported for ES6 consumption here: https://github.com/jaxgeller/ez.js\n\nvar easeInOutQuad = function easeInOutQuad(t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar jumper = function jumper() {\n  // private variable cache\n  // no variables are created during a jump, preventing memory leaks\n\n  var element = void 0; // element to scroll to                   (node)\n\n  var start = void 0; // where scroll starts                    (px)\n  var stop = void 0; // where scroll stops                     (px)\n\n  var offset = void 0; // adjustment from the stop position      (px)\n  var easing = void 0; // easing function                        (function)\n  var a11y = void 0; // accessibility support flag             (boolean)\n\n  var distance = void 0; // distance of scroll                     (px)\n  var duration = void 0; // scroll duration                        (ms)\n\n  var timeStart = void 0; // time scroll started                    (ms)\n  var timeElapsed = void 0; // time spent scrolling thus far          (ms)\n\n  var next = void 0; // next scroll position                   (px)\n\n  var callback = void 0; // to call when done scrolling            (function)\n\n  // scroll position helper\n\n  function location() {\n    return window.scrollY || window.pageYOffset;\n  }\n\n  // element offset helper\n\n  function top(element) {\n    return element.getBoundingClientRect().top + start;\n  }\n\n  // rAF loop helper\n\n  function loop(timeCurrent) {\n    // store time scroll started, if not started already\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    // determine time spent scrolling so far\n    timeElapsed = timeCurrent - timeStart;\n\n    // calculate next scroll position\n    next = easing(timeElapsed, start, distance, duration);\n\n    // scroll to it\n    window.scrollTo(0, next);\n\n    // check progress\n    timeElapsed < duration ? window.requestAnimationFrame(loop) // continue scroll loop\n    : done(); // scrolling is done\n  }\n\n  // scroll finished helper\n\n  function done() {\n    // account for rAF time rounding inaccuracies\n    window.scrollTo(0, start + distance);\n\n    // if scrolling to an element, and accessibility is enabled\n    if (element && a11y) {\n      // add tabindex indicating programmatic focus\n      element.setAttribute('tabindex', '-1');\n\n      // focus the element\n      element.focus();\n    }\n\n    // if it exists, fire the callback\n    if (typeof callback === 'function') {\n      callback();\n    }\n\n    // reset time for next jump\n    timeStart = false;\n  }\n\n  // API\n\n  function jump(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // resolve options, or use defaults\n    duration = options.duration || 1000;\n    offset = options.offset || 0;\n    callback = options.callback; // \"undefined\" is a suitable default, and won't be called\n    easing = options.easing || easeInOutQuad;\n    a11y = options.a11y || false;\n\n    // cache starting position\n    start = location();\n\n    // resolve target\n    switch (typeof target === 'undefined' ? 'undefined' : _typeof(target)) {\n      // scroll from current position\n      case 'number':\n        element = undefined; // no element to scroll to\n        a11y = false; // make sure accessibility is off\n        stop = start + target;\n        break;\n\n      // scroll to element (node)\n      // bounding rect is relative to the viewport\n      case 'object':\n        element = target;\n        stop = top(element);\n        break;\n\n      // scroll to element (selector)\n      // bounding rect is relative to the viewport\n      case 'string':\n        element = document.querySelector(target);\n        stop = top(element);\n        break;\n    }\n\n    // resolve scroll distance, accounting for offset\n    distance = stop - start + offset;\n\n    // resolve duration\n    switch (_typeof(options.duration)) {\n      // number in ms\n      case 'number':\n        duration = options.duration;\n        break;\n\n      // function passed the distance of the scroll\n      case 'function':\n        duration = options.duration(distance);\n        break;\n    }\n\n    // start the loop\n    window.requestAnimationFrame(loop);\n  }\n\n  // expose only the jump method\n  return jump;\n};\n\n// export singleton\n\nvar singleton = jumper();\n\nexport default singleton;\n","import jump from 'jump.js';\n\nexport default class LocalPageNavigation {\n  constructor(element) {\n    this.anchor = element;\n    this.targetID = this.anchor.getAttribute('href');\n\n    this.anchor.addEventListener('click', () => {\n      jump(this.targetID, {\n        // duration: distance => Math.abs(distance) / 2,\n        duration: 1000,\n        // offset: document.querySelector('[data-creepy-marquee]').offsetHeight * -1,\n        callback: undefined,\n        // easing: ez.easeInOutQuad,\n        a11y: false,\n      });\n    }, false);\n  }\n}\n","/*!\n * Copyright 2019 SmugMug, Inc.\n * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.\n * @license\n */\n\n/**\n * Row\n * Wrapper for each row in a justified layout.\n * Stores relevant values and provides methods for calculating layout of individual rows.\n *\n * @param {Object} layoutConfig - The same as that passed\n * @param {Object} Initialization parameters. The following are all required:\n * @param params.top {Number} Top of row, relative to container\n * @param params.left {Number} Left side of row relative to container (equal to container left padding)\n * @param params.width {Number} Width of row, not including container padding\n * @param params.spacing {Number} Horizontal spacing between items\n * @param params.targetRowHeight {Number} Layout algorithm will aim for this row height\n * @param params.targetRowHeightTolerance {Number} Row heights may vary +/- (`targetRowHeight` x `targetRowHeightTolerance`)\n * @param params.edgeCaseMinRowHeight {Number} Absolute minimum row height for edge cases that cannot be resolved within tolerance.\n * @param params.edgeCaseMaxRowHeight {Number} Absolute maximum row height for edge cases that cannot be resolved within tolerance.\n * @param params.isBreakoutRow {Boolean} Is this row in particular one of those breakout rows? Always false if it's not that kind of photo list\n * @param params.widowLayoutStyle {String} If widows are visible, how should they be laid out?\n * @constructor\n */\n\nvar Row = module.exports = function (params) {\n\n\t// Top of row, relative to container\n\tthis.top = params.top;\n\n\t// Left side of row relative to container (equal to container left padding)\n\tthis.left = params.left;\n\n\t// Width of row, not including container padding\n\tthis.width = params.width;\n\n\t// Horizontal spacing between items\n\tthis.spacing = params.spacing;\n\n\t// Row height calculation values\n\tthis.targetRowHeight = params.targetRowHeight;\n\tthis.targetRowHeightTolerance = params.targetRowHeightTolerance;\n\tthis.minAspectRatio = this.width / params.targetRowHeight * (1 - params.targetRowHeightTolerance);\n\tthis.maxAspectRatio = this.width / params.targetRowHeight * (1 + params.targetRowHeightTolerance);\n\n\t// Edge case row height minimum/maximum\n\tthis.edgeCaseMinRowHeight = params.edgeCaseMinRowHeight;\n\tthis.edgeCaseMaxRowHeight = params.edgeCaseMaxRowHeight;\n\n\t// Widow layout direction\n\tthis.widowLayoutStyle = params.widowLayoutStyle;\n\n\t// Full width breakout rows\n\tthis.isBreakoutRow = params.isBreakoutRow;\n\n\t// Store layout data for each item in row\n\tthis.items = [];\n\n\t// Height remains at 0 until it's been calculated\n\tthis.height = 0;\n\n};\n\nRow.prototype = {\n\n\t/**\n\t * Attempt to add a single item to the row.\n\t * This is the heart of the justified algorithm.\n\t * This method is direction-agnostic; it deals only with sizes, not positions.\n\t *\n\t * If the item fits in the row, without pushing row height beyond min/max tolerance,\n\t * the item is added and the method returns true.\n\t *\n\t * If the item leaves row height too high, there may be room to scale it down and add another item.\n\t * In this case, the item is added and the method returns true, but the row is incomplete.\n\t *\n\t * If the item leaves row height too short, there are too many items to fit within tolerance.\n\t * The method will either accept or reject the new item, favoring the resulting row height closest to within tolerance.\n\t * If the item is rejected, left/right padding will be required to fit the row height within tolerance;\n\t * if the item is accepted, top/bottom cropping will be required to fit the row height within tolerance.\n\t *\n\t * @method addItem\n\t * @param itemData {Object} Item layout data, containing item aspect ratio.\n\t * @return {Boolean} True if successfully added; false if rejected.\n\t */\n\n\taddItem: function (itemData) {\n\n\t\tvar newItems = this.items.concat(itemData),\n\t\t\t// Calculate aspect ratios for items only; exclude spacing\n\t\t\trowWidthWithoutSpacing = this.width - (newItems.length - 1) * this.spacing,\n\t\t\tnewAspectRatio = newItems.reduce(function (sum, item) {\n\t\t\t\treturn sum + item.aspectRatio;\n\t\t\t}, 0),\n\t\t\ttargetAspectRatio = rowWidthWithoutSpacing / this.targetRowHeight,\n\t\t\tpreviousRowWidthWithoutSpacing,\n\t\t\tpreviousAspectRatio,\n\t\t\tpreviousTargetAspectRatio;\n\n\t\t// Handle big full-width breakout photos if we're doing them\n\t\tif (this.isBreakoutRow) {\n\t\t\t// Only do it if there's no other items in this row\n\t\t\tif (this.items.length === 0) {\n\t\t\t\t// Only go full width if this photo is a square or landscape\n\t\t\t\tif (itemData.aspectRatio >= 1) {\n\t\t\t\t\t// Close out the row with a full width photo\n\t\t\t\t\tthis.items.push(itemData);\n\t\t\t\t\tthis.completeLayout(rowWidthWithoutSpacing / itemData.aspectRatio, 'justify');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (newAspectRatio < this.minAspectRatio) {\n\n\t\t\t// New aspect ratio is too narrow / scaled row height is too tall.\n\t\t\t// Accept this item and leave row open for more items.\n\n\t\t\tthis.items.push(Object.assign({}, itemData));\n\t\t\treturn true;\n\n\t\t} else if (newAspectRatio > this.maxAspectRatio) {\n\n\t\t\t// New aspect ratio is too wide / scaled row height will be too short.\n\t\t\t// Accept item if the resulting aspect ratio is closer to target than it would be without the item.\n\t\t\t// NOTE: Any row that falls into this block will require cropping/padding on individual items.\n\n\t\t\tif (this.items.length === 0) {\n\n\t\t\t\t// When there are no existing items, force acceptance of the new item and complete the layout.\n\t\t\t\t// This is the pano special case.\n\t\t\t\tthis.items.push(Object.assign({}, itemData));\n\t\t\t\tthis.completeLayout(rowWidthWithoutSpacing / newAspectRatio, 'justify');\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\t// Calculate width/aspect ratio for row before adding new item\n\t\t\tpreviousRowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing;\n\t\t\tpreviousAspectRatio = this.items.reduce(function (sum, item) {\n\t\t\t\treturn sum + item.aspectRatio;\n\t\t\t}, 0);\n\t\t\tpreviousTargetAspectRatio = previousRowWidthWithoutSpacing / this.targetRowHeight;\n\n\t\t\tif (Math.abs(newAspectRatio - targetAspectRatio) > Math.abs(previousAspectRatio - previousTargetAspectRatio)) {\n\n\t\t\t\t// Row with new item is us farther away from target than row without; complete layout and reject item.\n\t\t\t\tthis.completeLayout(previousRowWidthWithoutSpacing / previousAspectRatio, 'justify');\n\t\t\t\treturn false;\n\n\t\t\t} else {\n\n\t\t\t\t// Row with new item is us closer to target than row without;\n\t\t\t\t// accept the new item and complete the row layout.\n\t\t\t\tthis.items.push(Object.assign({}, itemData));\n\t\t\t\tthis.completeLayout(rowWidthWithoutSpacing / newAspectRatio, 'justify');\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// New aspect ratio / scaled row height is within tolerance;\n\t\t\t// accept the new item and complete the row layout.\n\t\t\tthis.items.push(Object.assign({}, itemData));\n\t\t\tthis.completeLayout(rowWidthWithoutSpacing / newAspectRatio, 'justify');\n\t\t\treturn true;\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Check if a row has completed its layout.\n\t *\n\t * @method isLayoutComplete\n\t * @return {Boolean} True if complete; false if not.\n\t */\n\n\tisLayoutComplete: function () {\n\t\treturn this.height > 0;\n\t},\n\n\t/**\n\t * Set row height and compute item geometry from that height.\n\t * Will justify items within the row unless instructed not to.\n\t *\n\t * @method completeLayout\n\t * @param newHeight {Number} Set row height to this value.\n\t * @param widowLayoutStyle {String} How should widows display? Supported: left | justify | center\n\t */\n\n\tcompleteLayout: function (newHeight, widowLayoutStyle) {\n\n\t\tvar itemWidthSum = this.left,\n\t\t\trowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing,\n\t\t\tclampedToNativeRatio,\n\t\t\tclampedHeight,\n\t\t\terrorWidthPerItem,\n\t\t\troundedCumulativeErrors,\n\t\t\tsingleItemGeometry,\n\t\t\tcenterOffset;\n\n\t\t// Justify unless explicitly specified otherwise.\n\t\tif (typeof widowLayoutStyle === 'undefined' || ['justify', 'center', 'left'].indexOf(widowLayoutStyle) < 0) {\n\t\t\twidowLayoutStyle = 'left';\n\t\t}\n\n\t\t// Clamp row height to edge case minimum/maximum.\n\t\tclampedHeight = Math.max(this.edgeCaseMinRowHeight, Math.min(newHeight, this.edgeCaseMaxRowHeight));\n\n\t\tif (newHeight !== clampedHeight) {\n\n\t\t\t// If row height was clamped, the resulting row/item aspect ratio will be off,\n\t\t\t// so force it to fit the width (recalculate aspectRatio to match clamped height).\n\t\t\t// NOTE: this will result in cropping/padding commensurate to the amount of clamping.\n\t\t\tthis.height = clampedHeight;\n\t\t\tclampedToNativeRatio = (rowWidthWithoutSpacing / clampedHeight) / (rowWidthWithoutSpacing / newHeight);\n\n\t\t} else {\n\n\t\t\t// If not clamped, leave ratio at 1.0.\n\t\t\tthis.height = newHeight;\n\t\t\tclampedToNativeRatio = 1.0;\n\n\t\t}\n\n\t\t// Compute item geometry based on newHeight.\n\t\tthis.items.forEach(function (item) {\n\n\t\t\titem.top = this.top;\n\t\t\titem.width = item.aspectRatio * this.height * clampedToNativeRatio;\n\t\t\titem.height = this.height;\n\n\t\t\t// Left-to-right.\n\t\t\t// TODO right to left\n\t\t\t// item.left = this.width - itemWidthSum - item.width;\n\t\t\titem.left = itemWidthSum;\n\n\t\t\t// Increment width.\n\t\t\titemWidthSum += item.width + this.spacing;\n\n\t\t}, this);\n\n\t\t// If specified, ensure items fill row and distribute error\n\t\t// caused by rounding width and height across all items.\n\t\tif (widowLayoutStyle === 'justify') {\n\n\t\t\titemWidthSum -= (this.spacing + this.left);\n\n\t\t\terrorWidthPerItem = (itemWidthSum - this.width) / this.items.length;\n\t\t\troundedCumulativeErrors = this.items.map(function (item, i) {\n\t\t\t\treturn Math.round((i + 1) * errorWidthPerItem);\n\t\t\t});\n\n\n\t\t\tif (this.items.length === 1) {\n\n\t\t\t\t// For rows with only one item, adjust item width to fill row.\n\t\t\t\tsingleItemGeometry = this.items[0];\n\t\t\t\tsingleItemGeometry.width -= Math.round(errorWidthPerItem);\n\n\t\t\t} else {\n\n\t\t\t\t// For rows with multiple items, adjust item width and shift items to fill the row,\n\t\t\t\t// while maintaining equal spacing between items in the row.\n\t\t\t\tthis.items.forEach(function (item, i) {\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\titem.left -= roundedCumulativeErrors[i - 1];\n\t\t\t\t\t\titem.width -= (roundedCumulativeErrors[i] - roundedCumulativeErrors[i - 1]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.width -= roundedCumulativeErrors[i];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t} else if (widowLayoutStyle === 'center') {\n\n\t\t\t// Center widows\n\t\t\tcenterOffset = (this.width - itemWidthSum) / 2;\n\n\t\t\tthis.items.forEach(function (item) {\n\t\t\t\titem.left += centerOffset + this.spacing;\n\t\t\t}, this);\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Force completion of row layout with current items.\n\t *\n\t * @method forceComplete\n\t * @param fitToWidth {Boolean} Stretch current items to fill the row width.\n\t *                             This will likely result in padding.\n\t * @param fitToWidth {Number}\n\t */\n\n\tforceComplete: function (fitToWidth, rowHeight) {\n\n\t\t// TODO Handle fitting to width\n\t\t// var rowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing,\n\t\t// \tcurrentAspectRatio = this.items.reduce(function (sum, item) {\n\t\t// \t\treturn sum + item.aspectRatio;\n\t\t// \t}, 0);\n\n\t\tif (typeof rowHeight === 'number') {\n\n\t\t\tthis.completeLayout(rowHeight, this.widowLayoutStyle);\n\n\t\t} else {\n\n\t\t\t// Complete using target row height.\n\t\t\tthis.completeLayout(this.targetRowHeight, this.widowLayoutStyle);\n\t\t}\n\n\t},\n\n\t/**\n\t * Return layout data for items within row.\n\t * Note: returns actual list, not a copy.\n\t *\n\t * @method getItems\n\t * @return Layout data for items within row.\n\t */\n\n\tgetItems: function () {\n\t\treturn this.items;\n\t}\n\n};\n","/*!\n * Copyright 2019 SmugMug, Inc.\n * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.\n * @license\n */\n\n'use strict';\n\nvar Row = require('./row');\n\n/**\n * Create a new, empty row.\n *\n * @method createNewRow\n * @param layoutConfig {Object} The layout configuration\n * @param layoutData {Object} The current state of the layout\n * @return A new, empty row of the type specified by this layout.\n */\n\nfunction createNewRow(layoutConfig, layoutData) {\n\n\tvar isBreakoutRow;\n\n\t// Work out if this is a full width breakout row\n\tif (layoutConfig.fullWidthBreakoutRowCadence !== false) {\n\t\tif (((layoutData._rows.length + 1) % layoutConfig.fullWidthBreakoutRowCadence) === 0) {\n\t\t\tisBreakoutRow = true;\n\t\t}\n\t}\n\n\treturn new Row({\n\t\ttop: layoutData._containerHeight,\n\t\tleft: layoutConfig.containerPadding.left,\n\t\twidth: layoutConfig.containerWidth - layoutConfig.containerPadding.left - layoutConfig.containerPadding.right,\n\t\tspacing: layoutConfig.boxSpacing.horizontal,\n\t\ttargetRowHeight: layoutConfig.targetRowHeight,\n\t\ttargetRowHeightTolerance: layoutConfig.targetRowHeightTolerance,\n\t\tedgeCaseMinRowHeight: 0.5 * layoutConfig.targetRowHeight,\n\t\tedgeCaseMaxRowHeight: 2 * layoutConfig.targetRowHeight,\n\t\trightToLeft: false,\n\t\tisBreakoutRow: isBreakoutRow,\n\t\twidowLayoutStyle: layoutConfig.widowLayoutStyle\n\t});\n}\n\n/**\n * Add a completed row to the layout.\n * Note: the row must have already been completed.\n *\n * @method addRow\n * @param layoutConfig {Object} The layout configuration\n * @param layoutData {Object} The current state of the layout\n * @param row {Row} The row to add.\n * @return {Array} Each item added to the row.\n */\n\nfunction addRow(layoutConfig, layoutData, row) {\n\n\tlayoutData._rows.push(row);\n\tlayoutData._layoutItems = layoutData._layoutItems.concat(row.getItems());\n\n\t// Increment the container height\n\tlayoutData._containerHeight += row.height + layoutConfig.boxSpacing.vertical;\n\n\treturn row.items;\n}\n\n/**\n * Calculate the current layout for all items in the list that require layout.\n * \"Layout\" means geometry: position within container and size\n *\n * @method computeLayout\n * @param layoutConfig {Object} The layout configuration\n * @param layoutData {Object} The current state of the layout\n * @param itemLayoutData {Array} Array of items to lay out, with data required to lay out each item\n * @return {Object} The newly-calculated layout, containing the new container height, and lists of layout items\n */\n\nfunction computeLayout(layoutConfig, layoutData, itemLayoutData) {\n\n\tvar laidOutItems = [],\n\t\titemAdded,\n\t\tcurrentRow,\n\t\tnextToLastRowHeight;\n\n\t// Apply forced aspect ratio if specified, and set a flag.\n\tif (layoutConfig.forceAspectRatio) {\n\t\titemLayoutData.forEach(function (itemData) {\n\t\t\titemData.forcedAspectRatio = true;\n\t\t\titemData.aspectRatio = layoutConfig.forceAspectRatio;\n\t\t});\n\t}\n\n\t// Loop through the items\n\titemLayoutData.some(function (itemData, i) {\n\n\t\tif (isNaN(itemData.aspectRatio)) {\n\t\t\tthrow new Error(\"Item \" + i + \" has an invalid aspect ratio\");\n\t\t}\n\n\t\t// If not currently building up a row, make a new one.\n\t\tif (!currentRow) {\n\t\t\tcurrentRow = createNewRow(layoutConfig, layoutData);\n\t\t}\n\n\t\t// Attempt to add item to the current row.\n\t\titemAdded = currentRow.addItem(itemData);\n\n\t\tif (currentRow.isLayoutComplete()) {\n\n\t\t\t// Row is filled; add it and start a new one\n\t\t\tlaidOutItems = laidOutItems.concat(addRow(layoutConfig, layoutData, currentRow));\n\n\t\t\tif (layoutData._rows.length >= layoutConfig.maxNumRows) {\n\t\t\t\tcurrentRow = null;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcurrentRow = createNewRow(layoutConfig, layoutData);\n\n\t\t\t// Item was rejected; add it to its own row\n\t\t\tif (!itemAdded) {\n\n\t\t\t\titemAdded = currentRow.addItem(itemData);\n\n\t\t\t\tif (currentRow.isLayoutComplete()) {\n\n\t\t\t\t\t// If the rejected item fills a row on its own, add the row and start another new one\n\t\t\t\t\tlaidOutItems = laidOutItems.concat(addRow(layoutConfig, layoutData, currentRow));\n\t\t\t\t\tif (layoutData._rows.length >= layoutConfig.maxNumRows) {\n\t\t\t\t\t\tcurrentRow = null;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentRow = createNewRow(layoutConfig, layoutData);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n\t// Handle any leftover content (orphans) depending on where they lie\n\t// in this layout update, and in the total content set.\n\tif (currentRow && currentRow.getItems().length && layoutConfig.showWidows) {\n\n\t\t// Last page of all content or orphan suppression is suppressed; lay out orphans.\n\t\tif (layoutData._rows.length) {\n\n\t\t\t// Only Match previous row's height if it exists and it isn't a breakout row\n\t\t\tif (layoutData._rows[layoutData._rows.length - 1].isBreakoutRow) {\n\t\t\t\tnextToLastRowHeight = layoutData._rows[layoutData._rows.length - 1].targetRowHeight;\n\t\t\t} else {\n\t\t\t\tnextToLastRowHeight = layoutData._rows[layoutData._rows.length - 1].height;\n\t\t\t}\n\n\t\t\tcurrentRow.forceComplete(false, nextToLastRowHeight);\n\n\t\t} else {\n\n\t\t\t// ...else use target height if there is no other row height to reference.\n\t\t\tcurrentRow.forceComplete(false);\n\n\t\t}\n\n\t\tlaidOutItems = laidOutItems.concat(addRow(layoutConfig, layoutData, currentRow));\n\t\tlayoutConfig._widowCount = currentRow.getItems().length;\n\n\t}\n\n\t// We need to clean up the bottom container padding\n\t// First remove the height added for box spacing\n\tlayoutData._containerHeight = layoutData._containerHeight - layoutConfig.boxSpacing.vertical;\n\t// Then add our bottom container padding\n\tlayoutData._containerHeight = layoutData._containerHeight + layoutConfig.containerPadding.bottom;\n\n\treturn {\n\t\tcontainerHeight: layoutData._containerHeight,\n\t\twidowCount: layoutConfig._widowCount,\n\t\tboxes: layoutData._layoutItems\n\t};\n\n}\n\n/**\n * Takes in a bunch of box data and config. Returns\n * geometry to lay them out in a justified view.\n *\n * @method covertSizesToAspectRatios\n * @param sizes {Array} Array of objects with widths and heights\n * @return {Array} A list of aspect ratios\n */\n\nmodule.exports = function (input, config) {\n\tvar layoutConfig = {};\n\tvar layoutData = {};\n\n\t// Defaults\n\tvar defaults = {\n\t\tcontainerWidth: 1060,\n\t\tcontainerPadding: 10,\n\t\tboxSpacing: 10,\n\t\ttargetRowHeight: 320,\n\t\ttargetRowHeightTolerance: 0.25,\n\t\tmaxNumRows: Number.POSITIVE_INFINITY,\n\t\tforceAspectRatio: false,\n\t\tshowWidows: true,\n\t\tfullWidthBreakoutRowCadence: false,\n\t\twidowLayoutStyle: 'left'\n\t};\n\n\tvar containerPadding = {};\n\tvar boxSpacing = {};\n\n\tconfig = config || {};\n\n\t// Merge defaults and config passed in\n\tlayoutConfig = Object.assign(defaults, config);\n\n\t// Sort out padding and spacing values\n\tcontainerPadding.top = (!isNaN(parseFloat(layoutConfig.containerPadding.top))) ? layoutConfig.containerPadding.top : layoutConfig.containerPadding;\n\tcontainerPadding.right = (!isNaN(parseFloat(layoutConfig.containerPadding.right))) ? layoutConfig.containerPadding.right : layoutConfig.containerPadding;\n\tcontainerPadding.bottom = (!isNaN(parseFloat(layoutConfig.containerPadding.bottom))) ? layoutConfig.containerPadding.bottom : layoutConfig.containerPadding;\n\tcontainerPadding.left = (!isNaN(parseFloat(layoutConfig.containerPadding.left))) ? layoutConfig.containerPadding.left : layoutConfig.containerPadding;\n\tboxSpacing.horizontal = (!isNaN(parseFloat(layoutConfig.boxSpacing.horizontal))) ? layoutConfig.boxSpacing.horizontal : layoutConfig.boxSpacing;\n\tboxSpacing.vertical = (!isNaN(parseFloat(layoutConfig.boxSpacing.vertical))) ? layoutConfig.boxSpacing.vertical : layoutConfig.boxSpacing;\n\n\tlayoutConfig.containerPadding = containerPadding;\n\tlayoutConfig.boxSpacing = boxSpacing;\n\n\t// Local\n\tlayoutData._layoutItems = [];\n\tlayoutData._awakeItems = [];\n\tlayoutData._inViewportItems = [];\n\tlayoutData._leadingOrphans = [];\n\tlayoutData._trailingOrphans = [];\n\tlayoutData._containerHeight = layoutConfig.containerPadding.top;\n\tlayoutData._rows = [];\n\tlayoutData._orphans = [];\n\tlayoutConfig._widowCount = 0;\n\n\t// Convert widths and heights to aspect ratios if we need to\n\treturn computeLayout(layoutConfig, layoutData, input.map(function (item) {\n\t\tif (item.width && item.height) {\n\t\t\treturn { aspectRatio: item.width / item.height };\n\t\t} else {\n\t\t\treturn { aspectRatio: item };\n\t\t}\n\t}));\n};\n","import justifiedLayout from 'justified-layout';\n\n// Justified Layout by Flickr\n// http://flickr.github.io/justified-layout/\n\n// const defaults = {\n//   containerWidth: 1060,\n//   containerPadding: 10,\n//   boxSpacing: 10,\n//   targetRowHeight: 320,\n//   targetRowHeightTolerance: 0.25,\n//   maxNumRows: Number.POSITIVE_INFINITY,\n//   forceAspectRatio: false,\n//   showWidows: true,\n//   fullWidthBreakoutRowCadence: false,\n// }\n\nexport default class JustifiedLayout {\n  constructor($container, config = {}) {\n    this.$container = $container;\n    this.$items = this.$container.querySelectorAll('[data-aspect-ratio]');\n    this.config = config;\n\n    this.init();\n  }\n\n  init() {\n    this.aspectRatiosArray = this.getAspectRatiosArray();\n    this.geometry = justifiedLayout(this.aspectRatiosArray, this.config);\n\n    this.generateLayout();\n  }\n\n  getAspectRatiosArray() {\n    return Array.from(this.$items).map($item => Number($item.dataset.aspectRatio));\n  }\n\n  generateLayout() {\n    this.$items.forEach(($item, index) => {\n      if (this.geometry.boxes[index]) {\n        $item.style.width = `${this.geometry.boxes[index].width}px`;\n        $item.style.height = `${this.geometry.boxes[index].height}px`;\n        $item.style.top = `${this.geometry.boxes[index].top}px`;\n        $item.style.left = `${this.geometry.boxes[index].left}px`;\n      } else {\n        $item.style.display = 'none';\n      }\n    });\n\n    this.$container.style.height = `${this.geometry.containerHeight}px`;\n    // this.$container.style.width = config.containerWidth + \"px\";\n  }\n}\n","export default class LightboxPresentation {\n  constructor($toggles) {\n    this.$lightbox = document.querySelector('[data-lightbox=\"lightbox\"]');\n    if (!this.$lightbox) return console.warn('No lightbox to toggle!');\n    this.$image = this.$lightbox.querySelector('[data-lightbox=\"item\"] img');\n    this.$closes = this.$lightbox.querySelectorAll('[data-lightbox=\"close\"]');\n    this.$previous = this.$lightbox.querySelector('[data-lightbox=\"<\"]');\n    this.$next = this.$lightbox.querySelector('[data-lightbox=\">\"]');\n    this.$loading = this.$lightbox.querySelector('[data-lightbox=\"loading\"]')\n\n    this.$body = document.body;\n    this.$toggles = $toggles;\n\n    this.images = [];\n    this.isActive = false;\n    this.currentIndex = 0;\n\n    this.loopToggles();\n    this.addEventListeners();\n  }\n\n  loopToggles() {\n    this.$toggles.forEach(($toggle, index) => {\n      this.addToggleImageToImagesArray($toggle);\n      this.addEventListenerToToggle($toggle, index);\n    });\n  }\n\n  addToggleImageToImagesArray($toggle) {\n    const image = $toggle.querySelector('img');\n\n    this.images.push({\n      src: image.getAttribute('data-src') || image.getAttribute('src'),\n      srcset: image.getAttribute('data-srcset') || image.getAttribute('srcset'),\n    });\n  }\n\n  toggleLoading(img = false) {\n    this.$lightbox.classList.toggle('is-loading', !img);\n  }\n\n  addImageProcess(src) {\n    return new Promise((resolve, reject) => {\n      let img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = reject;\n      img.src = src;\n    })\n  }\n\n  // inspired by https://github.com/fregante/image-promise\n  checkImage(input) {\n    return new Promise((resolve, reject) => {\n      let image;\n\n      if (typeof input === 'string') {\n        image = new Image();\n        // image.onload = () => resolve({src, status: 'ok'});\n        // image.onerror = () => resolve({src, status: 'error'});\n        image.src = input;\n      } else if (input instanceof HTMLImageElement) {\n        image = input;\n      }\n\n        if (image.naturalWidth) {\n          resolve(image);\n\n        } else if (image.complete) {\n          reject(image);\n\n        } else {\n\n          image.onload = () => {\n            if (image.naturalWidth) {\n              resolve(image);\n            } else {\n              reject(image);\n            }\n          };\n\n          image.onerror = () => {\n            if (image.naturalWidth) {\n              resolve(image);\n            } else {\n              reject(image);\n            }\n          };\n        }\n    });\n  }\n\n  getImages() {\n    this.toggleLoading(false);\n\n    const image = {\n      current: this.images[this.currentIndex],\n      previous: this.images[this.currentIndex - 1],\n      next: this.images[this.currentIndex + 1],\n    };\n\n    this.$image.setAttribute('sizes', '100vw');\n    this.$image.setAttribute('srcset', image.current.srcset);\n    this.$image.setAttribute('src', image.current.src);\n\n    this.$previous.style.display = image.previous ? '' : 'none';\n    this.$next.style.display = image.next ? '' : 'none';\n\n    setTimeout(() => {\n      this.checkImage(this.$image)\n        .then(image => this.toggleLoading(image))\n        .catch(image => console.error(image.src, 'Image failed to load :('));\n    }, 10);\n  }\n\n  addEventListenerToToggle($toggle, index){\n    $toggle.addEventListener('click', (event) => {\n      this.currentIndex = index;\n      this.isActive = true;\n\n      // this.$title.innerHTML = this.title;\n\n      // this.$lightbox.style.display = 'block';\n\n      this.getImages();\n\n      // setTimeout(() => {\n      this.$body.classList.toggle('lightbox-is-open');\n      this.$lightbox.classList.toggle('is-active');\n      // this.$lightbox.style.opacity = '1';\n      this.$lightbox.style.pointerEvents = '';\n        // if (this.carousel.disabled) {\n        //   this.carousel.enable();\n        // } else {\n        //   // first time\n        //   this.carousel.mount();\n        // }\n\n      // }, 30);\n\n      event.preventDefault();\n    });\n  }\n\n  closeLightbox() {\n    this.isActive = false;\n    this.$body.classList.remove('lightbox-is-open');\n    this.$lightbox.classList.remove('is-active');\n    // this.$lightbox.style.opacity = '0';\n    this.$lightbox.style.pointerEvents = 'none';\n\n    // clear the last shown image\n    this.$image.setAttribute('srcset', '');\n    this.$image.setAttribute('src', '');\n\n    // this.carousel.disable();\n  }\n\n  addEventListeners() {\n    this.$next.addEventListener('click', event => {\n      this.currentIndex += 1;\n      this.getImages(this.currentIndex);\n      event.preventDefault();\n    });\n    this.$previous.addEventListener('click', event => {\n      this.currentIndex -= 1;\n      this.getImages(this.currentIndex);\n      event.preventDefault();\n    });\n\n    this.$closes.forEach($close => {\n      $close.addEventListener('click', (event) => {\n        // this.$backdrop.addEventListener('transitionend', this.hide, true);\n        this.closeLightbox();\n        event.preventDefault();\n      });\n    });\n\n    document.addEventListener('keydown', (event) => {\n\n      if (this.isActive) {\n        switch (event.key) {\n          case 'Escape':\n            this.closeLightbox();\n            break;\n\n          case 'ArrowLeft':\n            this.currentIndex -= 1;\n            if (this.images[this.currentIndex]) {\n              this.getImages(this.currentIndex);\n            } else {\n              this.currentIndex += 1;\n            }\n            break;\n\n          case 'ArrowRight':\n            this.currentIndex += 1;\n            if (this.images[this.currentIndex]) {\n              this.getImages(this.currentIndex);\n            } else {\n              this.currentIndex -= 1;\n            }\n            break;\n\n          default:\n            break;\n        }\n      }\n\n    });\n  }\n}\n","import domLoad from './dom-load';\nimport windowLoad from './window-load';\n\n// The DOMContentLoaded event fires when parsing of the current page is complete. DOMContentLoaded is a great event to use to hookup UI functionality to complex web pages.\ndocument.addEventListener('DOMContentLoaded', domLoad, false);\n\n// The load event fires when all files have finished loading from all resources, including ads and images.\nwindow.addEventListener('load', windowLoad, false);\n","import LazyLoad from 'vanilla-lazyload';\nimport LocalPageNavigation from './localPageNavigation';\nimport JustifiedLayout from './justified-layout';\nimport LightboxPresentation from './lightbox-presentation';\nimport distributeOnCircle from './distribute-on-circle';\nimport idleTimer from './idle-timer';\nimport { _toggleState } from './utilities';\n\n\nconst domLoad = () => {\n  const $body = document.body;\n  // const windowWidth = window.outerWidth;\n  const $header = document.querySelector('#header');\n  const $menu = $header.querySelector('.main-menu');\n  const $mobileMenuToggle = $header.querySelector('#mobile-menu-toggle');\n\n   // https://github.com/verlok/lazyload\n   const lazyLoad = new LazyLoad({\n    elements_selector: '[data-lazy]',\n  });\n\n  // Mobile menu\n  $mobileMenuToggle.addEventListener('click', (event) => {\n    event.preventDefault();\n    _toggleState($menu, 'closed', 'open');\n  }, false);\n\n  // jump.js — Animated on page scroll\n  const $localPageAnchors = document.querySelectorAll('a[href^=\"#\"]');\n  if ($localPageAnchors.length > 0) {\n    $localPageAnchors.forEach($localPageAnchor => {\n      new LocalPageNavigation($localPageAnchor);\n    });\n  }\n\n  const styleLineHeight = parseFloat(\n    window.getComputedStyle($body).getPropertyValue('line-height')\n  );\n\n  // https://stackoverflow.com/a/13382873/2631749\n  function getScrollbarWidth() {\n    // Creating invisible container\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.overflow = 'scroll'; // forcing scrollbar to appear\n    outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n    document.body.appendChild(outer);\n\n    // Creating inner element and placing it in the container\n    const inner = document.createElement('div');\n    outer.appendChild(inner);\n\n    // Calculating difference between container's full width and the child width\n    const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n\n    // Removing temporary elements from the DOM\n    outer.parentNode.removeChild(outer);\n\n    return scrollbarWidth;\n\n  }\n\n  // http://flickr.github.io/justified-layout/\n  const $justifiedLayouts = document.querySelectorAll('[data-justified-layout]');\n  if ($justifiedLayouts.length > 0) {\n    $justifiedLayouts.forEach($justifiedLayout => {\n\n      const config = {\n        boxSpacing: styleLineHeight / 3,\n        containerPadding: styleLineHeight,\n        containerWidth: $justifiedLayout.clientWidth || document.documentElement.clientWidth,\n        targetRowHeight: 400,\n      };\n\n      switch ($justifiedLayout.dataset.justifiedLayout) {\n        case 'archive':\n          config.containerPadding = 0;\n          config.containerWidth = config.containerWidth - getScrollbarWidth();\n          break;\n\n        case 'project':\n          config.targetRowHeight = window.innerWidth / 3;\n          break;\n\n        default:\n          break;\n      }\n\n      new JustifiedLayout($justifiedLayout, config);\n    });\n  }\n\n  const $intros = document.querySelectorAll('[data-intro]');\n  if ($intros.length > 0) {\n\n    $intros.forEach($intro => {\n      const $introItems = $intro.children;\n\n      if ($introItems.length > 0)\n        distributeOnCircle(Array.from($introItems), 19, 1.7);\n    });\n  }\n\n  // const $pswp = document.querySelector('[data-pswp]');\n  // if ($pswp) {\n  //   new LightboxPhotoswipe($pswp);\n  // }\n\n  const $lightboxToggles = document.querySelectorAll('[data-toggle=\"lightbox\"]');\n  if ($lightboxToggles.length) {\n    new LightboxPresentation($lightboxToggles);\n\n    idleTimer({\n      // function to fire after idle\n      callback: () => $body.classList.add('is-idle'),\n      // function to fire when active\n      activeCallback: () => $body.classList.remove('is-idle'),\n      // Amount of time in milliseconds before becoming idle. default 60000\n      idleTime: 2000,\n    });\n  }\n};\n\nexport default domLoad;\n","export function _toggleState($element, stateOne, stateTwo) {\n  $element.setAttribute('data-state', $element.getAttribute('data-state') === stateOne ? stateTwo : stateOne);\n}\n","const distributeOnCircle = ($elements, radius = 19, modifier = 0) => {\n  const angle = (2 * Math.PI) / $elements.length;\n\n  $elements.forEach(($element, index) => {\n    const itemAngle = angle * (index - modifier);\n    const x = Math.cos(itemAngle) * radius;\n    const y = Math.sin(itemAngle) * radius;\n\n    $element.style.transform = `translate(calc(-50% + ${x}vmin), calc(-50% + ${y}vmin))`;\n\n    $element.addEventListener('mouseenter', () => {\n      $element.style.boxShadow = `${-x * .125}vmin ${-y * .125}vmin ${1.625 * 2}vmin rgba(0,0,0,.38)`;\n    });\n\n    $element.addEventListener('mouseleave', () => {\n      $element.style.boxShadow = `0 0 0 rgba(0,0,0,0)`;\n    });\n  });\n}\n\nexport default distributeOnCircle;\n","/* eslint-disable func-names */\n/**\n * idleTimer\n *\n * If user is idle for idleTime fire callback\n *\n * @param {object} options\n *    - {function} callback - fired when user is idle\n *    - {function} activeCallback - fired when user is active\n *    - {Number} idleTime - time in milliseconds\n *\n * https://www.npmjs.com/package/idle-timer\n */\n\nexport default function idleTimer(options) {\n  // eslint-disable-next-line no-param-reassign\n  options = options || {};\n  const callback = options.callback || function () {};\n  const activeCallback = options.activeCallback || function () {};\n  const idleTime = options.idleTime || 60000;\n  let isActive = true;\n  let timer;\n\n  function idle() {\n    if (!isActive) return;\n    isActive = false;\n    callback();\n  }\n  function activate() {\n    if (!isActive) {\n      isActive = true;\n      activeCallback();\n    }\n    clearTimeout(timer);\n    timer = setTimeout(idle, idleTime);\n  }\n\n  function addOrRemoveEvents(addOrRemove) {\n    window[addOrRemove]('load', activate);\n    document[addOrRemove]('mousemove', activate);\n    document[addOrRemove]('scroll', activate);\n    document[addOrRemove]('keypress', activate);\n    document[addOrRemove]('click', activate);\n  }\n\n  function destroy() {\n    clearTimeout(timer);\n    addOrRemoveEvents('removeEventListener');\n  }\n\n  addOrRemoveEvents('addEventListener');\n  activate();\n\n  return {\n    activate,\n    destroy,\n    idle,\n  };\n}\n","import footer from './footer';\n\nconst windowLoad = () => {\n\n  footer();\n\n  document.querySelector('.loading').classList.remove('loading');\n};\n\nexport default windowLoad;\n","const footer = () => {\n  const $footer = document.querySelector('#footer');\n  const footerDisplay = window.getComputedStyle($footer).getPropertyValue('display');\n\n  $footer.style.display = 'none';\n\n  const viewportHeight = document.documentElement.clientHeight;\n  const documentHeight = document.body.clientHeight;\n\n\n  if ((documentHeight - (viewportHeight * 0.25)) > viewportHeight) {\n    $footer.style.display = footerDisplay;\n  }\n\n};\n\nexport default footer;\n"],"names":["runningOnBrowser","window","isBot","navigator","test","userAgent","supportsIntersectionObserver","supportsClassList","document","createElement","isHiDpi","devicePixelRatio","defaultSettings","elements_selector","container","threshold","thresholds","data_src","data_srcset","data_sizes","data_bg","data_bg_hidpi","data_bg_multi","data_bg_multi_hidpi","data_poster","class_applied","class_loading","class_loaded","class_error","class_entered","class_exited","unobserve_completed","unobserve_entered","cancel_on_exit","callback_enter","callback_exit","callback_applied","callback_loading","callback_loaded","callback_error","callback_finish","callback_cancel","use_native","getExtendedSettings","customSettings","Object","assign","createInstance","classObj","options","event","eventString","instance","CustomEvent","detail","err","createEvent","initCustomEvent","dispatchEvent","SRC","SRCSET","SIZES","POSTER","ORIGINALS","statusLoading","statusLoaded","statusApplied","statusError","statusNative","dataPrefix","statusDataName","getData","element","attribute","getAttribute","getStatus","setStatus","status","value","attrName","setAttribute","removeAttribute","setData","resetStatus","hasEmptyStatus","hasStatusNative","statusesAfterLoading","safeCallback","callback","arg1","arg2","arg3","undefined","addClass","className","classList","add","removeClass","remove","replace","RegExp","getTempImage","llTempImage","unobserve","observer","_observer","updateLoadingCount","delta","loadingCount","setToLoadCount","toLoadCount","getSourceTags","parentTag","sourceTags","childTag","i","children","tagName","push","forEachPictureSource","fn","parent","parentNode","forEach","forEachVideoSource","attrsSrc","attrsSrcPoster","attrsSrcSrcsetSizes","hasOriginalAttrs","getOriginalAttrs","deleteOriginalAttrs","setOriginalsObject","attributes","originals","restoreOriginalAttrs","setOrResetAttribute","manageLoading","settings","setAttributeIfValue","setImageAttributes","setMultiBackground","bg1xValue","bgHiDpiValue","bgDataValue","style","backgroundImage","manageApplied","setSourcesFunctions","IMG","imgEl","sourceTag","IFRAME","iframe","VIDEO","videoEl","sourceEl","load","elementsWithLoadEvent","checkFinish","isSomethingLoading","haveElementsToLoad","addEventListener","eventName","handler","llEvLisnrs","removeEventListener","hasEventListeners","removeEventListeners","eventListeners","doneHandler","deleteTempImage","decreaseToLoadCount","addOneShotEventListeners","elementToListenTo","loadHandler","errorHandler","loadEventName","addEventListeners","goingNative","loadBackground","addTempImage","saveOriginalBackgroundStyle","setBackground","loadRegular","setSourcesFunction","setSources","indexOf","hasLoadEvent","loadNative","setSourcesNative","removeImageAttributes","restoreImg","restoreFunctions","iframeEl","restoreAttributes","restoreFunction","restoreOriginalBgImage","restore","resetClasses","cancelLoading","entry","hasStatusLoading","resetSourcesImg","onEnter","dontLoad","hadStartedLoading","unobserveEntered","tagsWithNativeLazy","shouldUseNative","HTMLImageElement","prototype","intersectionHandler","entries","isIntersecting","intersectionRatio","target","onExit","setObserver","IntersectionObserver","root","rootMargin","getObserverSettings","toArray","nodeSet","Array","slice","call","queryElements","querySelectorAll","hasError","hasStatusError","getElementsToLoad","elements","filter","excludeManagedElements","retryLazyLoad","update","LazyLoad","_settings","this","setOnlineCheck","givenNodeset","elementsToLoad","elementsToObserve","length","loadAllNative","disconnect","resetObserver","observe","observeElements","loadAll","destroy","restoreAll","optionsItem","autoInitialize","lazyLoadOptions","easeInOutQuad","t","b","c","d","_typeof","Symbol","iterator","obj","constructor","singleton","start","stop","offset","easing","a11y","distance","duration","timeStart","timeElapsed","next","location","scrollY","pageYOffset","top","getBoundingClientRect","loop","timeCurrent","scrollTo","requestAnimationFrame","focus","done","arguments","querySelector","jumper","LocalPageNavigation","anchor","targetID","jump","_this","rowModule","params","left","width","spacing","targetRowHeight","targetRowHeightTolerance","minAspectRatio","maxAspectRatio","edgeCaseMinRowHeight","edgeCaseMaxRowHeight","widowLayoutStyle","isBreakoutRow","items","height","addItem","itemData","previousRowWidthWithoutSpacing","previousAspectRatio","previousTargetAspectRatio","newItems","concat","rowWidthWithoutSpacing","newAspectRatio","reduce","sum","item","aspectRatio","targetAspectRatio","completeLayout","Math","abs","isLayoutComplete","newHeight","clampedToNativeRatio","clampedHeight","errorWidthPerItem","roundedCumulativeErrors","centerOffset","itemWidthSum","max","min","map","round","forceComplete","fitToWidth","rowHeight","getItems","Row","require$$0","createNewRow","layoutConfig","layoutData","fullWidthBreakoutRowCadence","_rows","_containerHeight","containerPadding","containerWidth","right","boxSpacing","horizontal","rightToLeft","addRow","row","_layoutItems","vertical","lib","input","config","defaults","maxNumRows","Number","POSITIVE_INFINITY","forceAspectRatio","showWidows","isNaN","parseFloat","bottom","_awakeItems","_inViewportItems","_leadingOrphans","_trailingOrphans","_orphans","_widowCount","itemLayoutData","itemAdded","currentRow","nextToLastRowHeight","laidOutItems","forcedAspectRatio","some","Error","containerHeight","widowCount","boxes","computeLayout","JustifiedLayout","$container","$items","init","aspectRatiosArray","getAspectRatiosArray","geometry","justifiedLayout","generateLayout","from","$item","dataset","index","display","LightboxPresentation","$toggles","$lightbox","console","warn","$image","$closes","$previous","$next","$loading","$body","body","images","isActive","currentIndex","loopToggles","$toggle","addToggleImageToImagesArray","addEventListenerToToggle","image","src","srcset","img","toggle","Promise","resolve","reject","Image","onload","onerror","naturalWidth","complete","toggleLoading","current","previous","setTimeout","_this2","checkImage","then","catch","error","_this3","getImages","pointerEvents","preventDefault","_this4","$close","closeLightbox","key","$header","$menu","$mobileMenuToggle","$element","stateOne","stateTwo","$localPageAnchors","$localPageAnchor","styleLineHeight","getComputedStyle","getPropertyValue","$justifiedLayouts","$justifiedLayout","clientWidth","documentElement","outer","visibility","overflow","msOverflowStyle","appendChild","inner","scrollbarWidth","offsetWidth","removeChild","getScrollbarWidth","innerWidth","$intros","$intro","$introItems","$elements","radius","modifier","angle","PI","itemAngle","x","cos","y","sin","transform","boxShadow","distributeOnCircle","$lightboxToggles","timer","activeCallback","idleTime","idle","activate","clearTimeout","addOrRemoveEvents","addOrRemove","idleTimer","$footer","footerDisplay","viewportHeight","clientHeight","footer"],"mappings":"yBAAA,MAAMA,EAAqC,oBAAXC,OAE1BC,EACDF,KAAsB,aAAcC,SACf,oBAAdE,WAA6B,gCAAgCC,KAAKD,UAAUE,WAElFC,EAA+BN,GAAoB,yBAA0BC,OAE7EM,EAAoBP,GAAoB,cAAeQ,SAASC,cAAc,KAE9EC,EAAUV,GAAoBC,OAAOU,iBAAmB,EAExDC,EAAkB,CACpBC,kBAAmB,QACnBC,UAAWZ,GAASF,EAAmBQ,SAAW,KAClDO,UAAW,IACXC,WAAY,KACZC,SAAU,MACVC,YAAa,SACbC,WAAY,QACZC,QAAS,KACTC,cAAe,WACfC,cAAe,WACfC,oBAAqB,iBACrBC,YAAa,SACbC,cAAe,UACfC,cAAe,UACfC,aAAc,SACdC,YAAa,QACbC,cAAe,UACfC,aAAc,SACdC,qBAAqB,EACrBC,mBAAmB,EACnBC,gBAAgB,EAChBC,eAAgB,KAChBC,cAAe,KACfC,iBAAkB,KAClBC,iBAAkB,KAClBC,gBAAiB,KACjBC,eAAgB,KAChBC,gBAAiB,KACjBC,gBAAiB,KACjBC,YAAY,GAGVC,EAAuBC,GAClBC,OAAOC,OAAO,GAAIlC,EAAiBgC,GAIxCG,EAAiB,SAASC,EAAUC,OAClCC,QACEC,EAAc,wBACdC,EAAW,IAAIJ,EAASC,OAG1BC,EAAQ,IAAIG,YAAYF,EAAa,CAAEG,OAAQ,CAAEF,SAAAA,KACnD,MAAOG,GAELL,EAAQ1C,SAASgD,YAAY,eAC7BN,EAAMO,gBAAgBN,GAAa,GAAO,EAAO,CAAEC,SAAAA,IAEvDnD,OAAOyD,cAAcR,IAoBnBS,EAAM,MACNC,EAAS,SACTC,EAAQ,QACRC,EAAS,SACTC,EAAY,kBAEZC,EAAgB,UAChBC,EAAe,SACfC,EAAgB,UAEhBC,EAAc,QACdC,EAAe,SAEfC,EAAa,QACbC,EAAiB,YAEjBC,EAAU,CAACC,EAASC,IACfD,EAAQE,aAAaL,EAAaI,GAYvCE,EAAaH,GAAYD,EAAQC,EAASF,GAC1CM,EAAY,CAACJ,EAASK,IAVZ,EAACL,EAASC,EAAWK,SAC7BC,EAAWV,EAAaI,EACd,OAAVK,EAIJN,EAAQQ,aAAaD,EAAUD,GAH3BN,EAAQS,gBAAgBF,IAOOG,CAAQV,EAASF,EAAgBO,GAClEM,EAAeX,GAAYI,EAAUJ,EAAS,MAE9CY,EAAkBZ,GAAmC,OAAvBG,EAAUH,GAGxCa,EAAmBb,GAAYG,EAAUH,KAAaJ,EAEtDkB,EAAuB,CAACtB,EAAeC,EAAcC,EAAeC,GAGpEoB,EAAe,CAACC,EAAUC,EAAMC,EAAMC,KACtCH,SAIQI,IAATD,OAISC,IAATF,EAIJF,EAASC,GAHRD,EAASC,EAAMC,GAJfF,EAASC,EAAMC,EAAMC,KAUjBE,EAAW,CAACrB,EAASsB,KACtBvF,EACHiE,EAAQuB,UAAUC,IAAIF,GAGvBtB,EAAQsB,YAActB,EAAQsB,UAAY,IAAM,IAAMA,GAGjDG,EAAc,CAACzB,EAASsB,KACzBvF,EACHiE,EAAQuB,UAAUG,OAAOJ,GAG1BtB,EAAQsB,UAAYtB,EAAQsB,UAC3BK,QAAQ,IAAIC,OAAO,WAAaN,EAAY,YAAa,KACzDK,QAAQ,OAAQ,IAChBA,QAAQ,OAAQ,KAWZE,EAAgB7B,GAAYA,EAAQ8B,YAEpCC,EAAY,CAAC/B,EAASpB,SACnBA,EAAU,aACToD,EAAWpD,EAASqD,UACrBD,GACLA,EAASD,UAAU/B,IAWjBkC,EAAqB,CAACtD,EAAUuD,KAC7BvD,IACLA,EAASwD,cAAgBD,IAQvBE,EAAiB,CAACzD,EAAU0B,KACzB1B,IACLA,EAAS0D,YAAchC,IAOrBiC,EAAiBC,QACjBC,EAAa,OACZ,IAAWC,EAAPC,EAAI,EAAcD,EAAWF,EAAUI,SAASD,GAAKA,GAAK,EACtC,WAArBD,EAASG,SACTJ,EAAWK,KAAKJ,UAGjBD,GAGHM,EAAuB,CAAC/C,EAASgD,WAC/BC,EAASjD,EAAQkD,eAClBD,GAA6B,YAAnBA,EAAOJ,eAGLN,EAAcU,GACpBE,QAAQH,IAGfI,EAAqB,CAACpD,EAASgD,KAClBT,EAAcvC,GACpBmD,QAAQH,IAGfK,EAAW,CAAClE,GACZmE,EAAiB,CAACnE,EAAKG,GACvBiE,EAAsB,CAACpE,EAAKC,EAAQC,GAEpCmE,EAAoBxD,KAAcA,EAAQT,GAC1CkE,EAAoBzD,GAAYA,EAAQT,GACxCmE,EAAuB1D,UAAmBA,EAAQT,GAIlDoE,EAAqB,CAAC3D,EAAS4D,QAC7BJ,EAAiBxD,gBAGf6D,EAAY,GAClBD,EAAWT,SAASlD,IAChB4D,EAAU5D,GAAaD,EAAQE,aAAaD,MAEhDD,EAAQT,GAAasE,GAoBnBC,EAAuB,CAAC9D,EAAS4D,SAC9BJ,EAAiBxD,gBAGhB6D,EAAYJ,EAAiBzD,GACnC4D,EAAWT,SAASlD,IAbI,EAACD,EAASO,EAAUD,KACvCA,EAILN,EAAQQ,aAAaD,EAAUD,GAH3BN,EAAQS,gBAAgBF,IAYxBwD,CAAoB/D,EAASC,EAAW4D,EAAU5D,QAwBpD+D,EAAgB,CAAChE,EAASiE,EAAUrF,KACtCyC,EAASrB,EAASiE,EAAS/G,eAC3BkD,EAAUJ,EAASR,GAEdZ,IACLsD,EAAmBtD,EAAU,GAC7BmC,EAAakD,EAASpG,iBAAkBmC,EAASpB,KAG/CsF,EAAsB,CAAClE,EAASO,EAAUD,KACvCA,GAGLN,EAAQQ,aAAaD,EAAUD,IAG7B6D,EAAqB,CAACnE,EAASiE,KACjCC,EAAoBlE,EAASX,EAAOU,EAAQC,EAASiE,EAAStH,aAC9DuH,EAAoBlE,EAASZ,EAAQW,EAAQC,EAASiE,EAASvH,cAC/DwH,EAAoBlE,EAASb,EAAKY,EAAQC,EAASiE,EAASxH,YA0C1D2H,EAAqB,CAACpE,EAASiE,EAAUrF,WACrCyF,EAAYtE,EAAQC,EAASiE,EAASnH,eACtCwH,EAAevE,EAAQC,EAASiE,EAASlH,qBACzCwH,EAAcrI,GAAWoI,EAAeA,EAAeD,EACxDE,IAGLvE,EAAQwE,MAAMC,gBAAkBF,EAhFd,EAACvE,EAASiE,EAAUrF,KACtCyC,EAASrB,EAASiE,EAAShH,eAC3BmD,EAAUJ,EAASN,GAEdd,IACDqF,EAAS1G,qBAETwE,EAAU/B,EAASiE,GAEvBlD,EAAakD,EAASrG,iBAAkBoC,EAASpB,KAwEjD8F,CAAc1E,EAASiE,EAAUrF,KAG/B+F,EAAsB,CACxBC,IAnDkB,CAACC,EAAOZ,KAC1BlB,EAAqB8B,GAAQC,IACzBnB,EAAmBmB,EAAWvB,GAC9BY,EAAmBW,EAAWb,MAElCN,EAAmBkB,EAAOtB,GAC1BY,EAAmBU,EAAOZ,IA8C1Bc,OA3CqB,CAACC,EAAQf,KAC9BN,EAAmBqB,EAAQ3B,GAC3Ba,EAAoBc,EAAQ7F,EAAKY,EAAQiF,EAAQf,EAASxH,YA0C1DwI,MAvCoB,CAACC,EAASjB,KAC9Bb,EAAmB8B,GAAUC,IACzBxB,EAAmBwB,EAAU9B,GAC7Ba,EAAoBiB,EAAUhG,EAAKY,EAAQoF,EAAUlB,EAASxH,cAElEkH,EAAmBuB,EAAS5B,GAE5BY,EAAoBgB,EAAS5F,EAAQS,EAAQmF,EAASjB,EAASjH,cAC/DkH,EAAoBgB,EAAS/F,EAAKY,EAAQmF,EAASjB,EAASxH,WAC5DyI,EAAQE,SAkDNC,EAAwB,CAAC,MAAO,SAAU,SAG1CC,EAAc,CAACrB,EAAUrF,MACvBA,GAnMoBA,CAAAA,GAAaA,EAASwD,aAAe,EAmM5CmD,CAAmB3G,IAjMZA,CAAAA,GAAaA,EAAS0D,YAAc,EAiMVkD,CAAmB5G,IACjEmC,EAAakD,EAASjG,gBAAiBY,IAIzC6G,EAAmB,CAACzF,EAAS0F,EAAWC,KAC1C3F,EAAQyF,iBAAiBC,EAAWC,GACpC3F,EAAQ4F,WAAWF,GAAaC,GAG9BE,EAAsB,CAAC7F,EAAS0F,EAAWC,KAC7C3F,EAAQ6F,oBAAoBH,EAAWC,IAGrCG,GAAqB9F,KACdA,EAAQ4F,WAUfG,GAAwB/F,QACrB8F,GAAkB9F,gBAGjBgG,EAAiBhG,EAAQ4F,eAC1B,IAAIF,KAAaM,EAAgB,OAC5BL,EAAUK,EAAeN,GAC/BG,EAAoB7F,EAAS0F,EAAWC,UAErC3F,EAAQ4F,YAGbK,GAAc,CAACjG,EAASiE,EAAUrF,KA5QfoB,CAAAA,WACdA,EAAQ8B,aA4QfoE,CAAgBlG,GAChBkC,EAAmBtD,GAAW,GApPLA,CAAAA,IACpBA,IACLA,EAAS0D,aAAe,IAmPxB6D,CAAoBvH,GACpB6C,EAAYzB,EAASiE,EAAS/G,eAC1B+G,EAAS1G,qBACTwE,EAAU/B,EAASpB,IAsBrBwH,GAA2B,CAACpG,EAASiE,EAAUrF,WAC3CyH,EAAoBxE,EAAa7B,IAAYA,KAC/C8F,GAAkBO,UAjDA,EAACrG,EAASsG,EAAaC,KACxCT,GAAkB9F,KAAUA,EAAQ4F,WAAa,UAChDY,EAAoC,UAApBxG,EAAQ6C,QAAsB,aAAe,OACnE4C,EAAiBzF,EAASwG,EAAeF,GACzCb,EAAiBzF,EAAS,QAASuG,IAyDnCE,CAAkBJ,GARI3H,IAxBN,EAACA,EAAOsB,EAASiE,EAAUrF,WACrC8H,EAAc7F,EAAgBb,GACpCiG,GAAYjG,EAASiE,EAAUrF,GAC/ByC,EAASrB,EAASiE,EAAS9G,cAC3BiD,EAAUJ,EAASP,GACnBsB,EAAakD,EAASnG,gBAAiBkC,EAASpB,GAC3C8H,GAAapB,EAAYrB,EAAUrF,IAmBpC0H,CAAY5H,EAAOsB,EAASiE,EAAUrF,GACtCmH,GAAqBM,MAEF3H,IAnBN,EAACA,EAAOsB,EAASiE,EAAUrF,WACtC8H,EAAc7F,EAAgBb,GACpCiG,GAAYjG,EAASiE,EAAUrF,GAC/ByC,EAASrB,EAASiE,EAAS7G,aAC3BgD,EAAUJ,EAASL,GACnBoB,EAAakD,EAASlG,eAAgBiC,EAASpB,GAC1C8H,GAAapB,EAAYrB,EAAUrF,IAcpC2H,CAAa7H,EAAOsB,EAASiE,EAAUrF,GACvCmH,GAAqBM,OAKvBM,GAAiB,CAAC3G,EAASiE,EAAUrF,KA7TrBoB,CAAAA,IAClBA,EAAQ8B,YAAc9F,SAASC,cAAc,QA6T7C2K,CAAa5G,GACboG,GAAyBpG,EAASiE,EAAUrF,GAtOXoB,CAAAA,IAC7BwD,EAAiBxD,KAGrBA,EAAQT,GAAa,CAAEkF,gBAAiBzE,EAAQwE,MAAMC,mBAmOtDoC,CAA4B7G,GAxIV,EAACA,EAASiE,EAAUrF,WAChCyF,EAAYtE,EAAQC,EAASiE,EAASrH,SACtC0H,EAAevE,EAAQC,EAASiE,EAASpH,eACzC0H,EAAcrI,GAAWoI,EAAeA,EAAeD,EACxDE,IACLvE,EAAQwE,MAAMC,gBAAmB,QAAOF,MACxC1C,EAAa7B,GAASQ,aAAarB,EAAKoF,GACxCP,EAAchE,EAASiE,EAAUrF,KAkIjCkI,CAAc9G,EAASiE,EAAUrF,GACjCwF,EAAmBpE,EAASiE,EAAUrF,IAGpCmI,GAAc,CAAC/G,EAASiE,EAAUrF,KACpCwH,GAAyBpG,EAASiE,EAAUrF,GAxG7B,EAACoB,EAASiE,EAAUrF,WAC7BoI,EAAqBrC,EAAoB3E,EAAQ6C,SAClDmE,IAGLA,EAAmBhH,EAASiE,GAC5BD,EAAchE,EAASiE,EAAUrF,KAmGjCqI,CAAWjH,EAASiE,EAAUrF,IAG5BwG,GAAO,CAACpF,EAASiE,EAAUrF,KAlGXoB,CAAAA,GAAYqF,EAAsB6B,QAAQlH,EAAQ6C,UAAY,EAmG5EsE,CAAanH,GACb+G,GAAY/G,EAASiE,EAAUrF,GAE/B+H,GAAe3G,EAASiE,EAAUrF,IAIpCwI,GAAa,CAACpH,EAASiE,EAAUrF,KACnCoB,EAAQQ,aAAa,UAAW,QAChC4F,GAAyBpG,EAASiE,EAAUrF,GA9HvB,EAACoB,EAASiE,WACzB+C,EAAqBrC,EAAoB3E,EAAQ6C,SAClDmE,GAGLA,EAAmBhH,EAASiE,IA0H5BoD,CAAiBrH,EAASiE,GAC1B7D,EAAUJ,EAASJ,IAGjB0H,GAAyBtH,IAC3BA,EAAQS,gBAAgBtB,GACxBa,EAAQS,gBAAgBrB,GACxBY,EAAQS,gBAAgBpB,IAUtBkI,GAAc1C,IAChB9B,EAAqB8B,GAAQM,IACzBrB,EAAqBqB,EAAU5B,MAEnCO,EAAqBe,EAAOtB,IAe1BiE,GAAmB,CACrB5C,IAAK2C,GACLxC,OANmB0C,IACnB3D,EAAqB2D,EAAUpE,IAM/B4B,MAfkBC,IAClB9B,EAAmB8B,GAAUC,IACzBrB,EAAqBqB,EAAU9B,MAEnCS,EAAqBoB,EAAS5B,GAC9B4B,EAAQE,SAaNsC,GAAqB1H,UACjB2H,EAAkBH,GAAiBxH,EAAQ6C,SAC5C8E,EAILA,EAAgB3H,GAjRYA,CAAAA,QACvBwD,EAAiBxD,gBAGhB6D,EAAYJ,EAAiBzD,GACnCA,EAAQwE,MAAMC,gBAAkBZ,EAAUY,iBAyQtCmD,CAAuB5H,IAkBzB6H,GAAU,CAAC7H,EAASiE,KACtByD,GAAkB1H,GAbD,EAACA,EAASiE,KACvBrD,EAAeZ,IAAYa,EAAgBb,KAG/CyB,EAAYzB,EAASiE,EAAS5G,eAC9BoE,EAAYzB,EAASiE,EAAS3G,cAC9BmE,EAAYzB,EAASiE,EAAShH,eAC9BwE,EAAYzB,EAASiE,EAAS/G,eAC9BuE,EAAYzB,EAASiE,EAAS9G,cAC9BsE,EAAYzB,EAASiE,EAAS7G,eAK9B0K,CAAa9H,EAASiE,GACtBtD,EAAYX,GACZ0D,EAAoB1D,IAGlB+H,GAAgB,CAAC/H,EAASgI,EAAO/D,EAAUrF,KACxCqF,EAASxG,gBAtcQuC,CAAAA,GAAYG,EAAUH,KAAaR,EAucpDyI,CAAiBjI,IACE,QAApBA,EAAQ6C,UACZkD,GAAqB/F,GAhEAA,CAAAA,IACrB+C,EAAqB/C,GAAU8E,IAC3BwC,GAAsBxC,MAE1BwC,GAAsBtH,IA6DtBkI,CAAgBlI,GAChBuH,GAAWvH,GACXyB,EAAYzB,EAASiE,EAAS/G,eAC9BgF,EAAmBtD,GAAW,GAC9B+B,EAAYX,GACZe,EAAakD,EAAShG,gBAAiB+B,EAASgI,EAAOpJ,KAGrDuJ,GAAU,CAACnI,EAASgI,EAAO/D,EAAUrF,WACjCwJ,EA9ciBpI,CAAAA,GAAYc,EAAqBoG,QAAQ/G,EAAUH,KAAa,EA8ctEqI,CAAkBrI,GAEnCI,EAAUJ,EA9eQ,WA+elBqB,EAASrB,EAASiE,EAAS5G,eAC3BoE,EAAYzB,EAASiE,EAAS3G,cAxZT,EAAC0C,EAASiE,EAAUrF,KACrCqF,EAASzG,mBAAmBuE,EAAU/B,EAASpB,IAwZnD0J,CAAiBtI,EAASiE,EAAUrF,GACpCmC,EAAakD,EAASvG,eAAgBsC,EAASgI,EAAOpJ,GAClDwJ,GACJhD,GAAKpF,EAASiE,EAAUrF,IAUtB2J,GAAqB,CAAC,MAAO,SAAU,SAEvCC,GAAmBvE,GACrBA,EAAS/F,YAAc,YAAauK,iBAAiBC,UAmBnDC,GAAsB,CAACC,EAAS3E,EAAUrF,KAC5CgK,EAAQzF,SAAS6E,GARGA,CAAAA,GAAUA,EAAMa,gBAAkBb,EAAMc,kBAAoB,EAS5ED,CAAeb,GACTG,GAAQH,EAAMe,OAAQf,EAAO/D,EAAUrF,GAhCtC,EAACoB,EAASgI,EAAO/D,EAAUrF,KAClCgC,EAAeZ,KACnBqB,EAASrB,EAASiE,EAAS3G,cAC3ByK,GAAc/H,EAASgI,EAAO/D,EAAUrF,GACxCmC,EAAakD,EAAStG,cAAeqC,EAASgI,EAAOpJ,KA6B3CoK,CAAOhB,EAAMe,OAAQf,EAAO/D,EAAUrF,MAe9CqK,GAAc,CAAChF,EAAUrF,KACtB9C,IAAgC0M,GAAgBvE,KAGrDrF,EAASqD,UAAY,IAAIiH,sBAAsBN,IAC3CD,GAAoBC,EAAS3E,EAAUrF,KA7BlBqF,CAAAA,KACzBkF,KAAMlF,EAAS3H,YAAcN,SAAW,KAAOiI,EAAS3H,UACxD8M,WAAYnF,EAASzH,YAAcyH,EAAS1H,UAAY,OA4BrD8M,CAAoBpF,MAGrBqF,GAAWC,GAAYC,MAAMd,UAAUe,MAAMC,KAAKH,GAElDI,GAAiB1F,GACnBA,EAAS3H,UAAUsN,iBAAiB3F,EAAS5H,mBAI3CwN,GAAY7J,GA7hBMA,CAAAA,GAAYG,EAAUH,KAAaL,EA6hB7BmK,CAAe9J,GAGvC+J,GAAoB,CAACC,EAAU/F,IALL+F,CAAAA,GAAaV,GAAQU,GAAUC,OAAOrJ,GAMlEsJ,CAAuBF,GAAYL,GAAc1F,IAE/CkG,GAAgB,CAAClG,EAAUrF,KALJoL,IAAAA,GAAAA,EAMiBL,GAAc1F,GANlBqF,GAAQU,GAAUC,OAAOJ,KAOjD1G,SAAQnD,IAClByB,EAAYzB,EAASiE,EAAS7G,aAC9BuD,EAAYX,MAEhBpB,EAASwL,UAYPC,GAAW,SAAUjM,EAAgB4L,SACjC/F,EAAW9F,EAAoBC,QAChCkM,UAAYrG,OACZ7B,aAAe,EACpB6G,GAAYhF,EAAUsG,MAbH,EAACtG,EAAUrF,KACzBpD,GAGLC,OAAOgK,iBAAiB,UAAU,KAC9B0E,GAAclG,EAAUrF,OAS5B4L,CAAevG,EAAUsG,WACpBH,OAAOJ,sUAGhBK,GAAS3B,UAAY,CACjB0B,OAAQ,SAAUK,SACRxG,EAAWsG,KAAKD,UAChBI,EAAiBX,GAAkBU,EAAcxG,GAzDxC,IAACjC,EAAU2I,GA0D1BtI,EAAekI,KAAMG,EAAeE,SAEhClP,GAAUI,GAIV0M,GAAgBvE,GA/FN,EAAC+F,EAAU/F,EAAUrF,KACvCoL,EAAS7G,SAASnD,KACuC,IAAjDuI,GAAmBrB,QAAQlH,EAAQ6C,UAGvCuE,GAAWpH,EAASiE,EAAUrF,MAElCyD,EAAezD,EAAU,IAyFjBiM,CAAcH,EAAgBzG,EAAUsG,OAjE5BvI,EAqEDuI,KAAKtI,UArEM0I,EAqEKD,EAnhBhB1I,CAAAA,IACnBA,EAAS8I,cA8cTC,CAAc/I,GAPM,EAACA,EAAUgI,KAC/BA,EAAS7G,SAASnD,IACdgC,EAASgJ,QAAQhL,OAMrBiL,CAAgBjJ,EAAU2I,SA2DbO,QAAQR,IAWrBS,QAAS,WAEDZ,KAAKtI,gBACAA,UAAU6I,aAGnBnB,GAAcY,KAAKD,WAAWnH,SAASnD,IACnC0D,EAAoB1D,aAGjBuK,KAAKtI,iBACLsI,KAAKD,iBACLC,KAAKnI,oBACLmI,KAAKjI,aAGhB4I,QAAS,SAAUlB,SACT/F,EAAWsG,KAAKD,UACCP,GAAkBC,EAAU/F,GACpCd,SAASnD,IACpB+B,EAAU/B,EAASuK,MACnBnF,GAAKpF,EAASiE,EAAUsG,UAIhCa,WAAY,iBACFnH,EAAWsG,KAAKD,UACtBX,GAAc1F,GAAUd,SAASnD,IAC7B6H,GAAQ7H,EAASiE,QAK7BoG,GAASjF,KAAO,CAACpF,EAAS5B,WAChB6F,EAAW9F,EAAoBC,GACrCgH,GAAKpF,EAASiE,IAGlBoG,GAAS1J,YAAeX,IACpBW,EAAYX,IAIZxE,GA7qBmB,EAACgD,EAAUC,QACzBA,KAGAA,EAAQmM,WAKJ,IAAWS,EAAP1I,EAAI,EAAiB0I,EAAc5M,EAAQkE,GAAKA,GAAK,EAC1DpE,EAAeC,EAAU6M,QAJ7B9M,EAAeC,EAAUC,IAwqB7B6M,CAAejB,GAAU5O,OAAO8P,iBC5uBpC,IAAIC,GAAgB,SAAuBC,EAAGC,EAAGC,EAAGC,UAClDH,GAAKG,EAAI,GACD,EAAUD,EAAI,EAAIF,EAAIA,EAAIC,GAE1BC,EAAI,KADZF,GACsBA,EAAI,GAAK,GAAKC,GAGlCG,GAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUC,iBAC9EA,GACZ,SAAUA,UACLA,GAAyB,mBAAXF,QAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOpD,UAAY,gBAAkBsD,GAqJvHE,GAlJS,eAIPlM,OAAU,EAEVmM,OAAQ,EACRC,OAAO,EAEPC,OAAS,EACTC,OAAS,EACTC,OAAO,EAEPC,OAAW,EACXC,OAAW,EAEXC,OAAY,EACZC,OAAc,EAEdC,OAAO,EAEP5L,OAAW,WAIN6L,WACApR,OAAOqR,SAAWrR,OAAOsR,qBAKzBC,EAAIhN,UACJA,EAAQiN,wBAAwBD,IAAMb,WAKtCe,EAAKC,GAEPT,IACHA,EAAYS,GAOdP,EAAON,EAHPK,EAAcQ,EAAcT,EAGDP,EAAOK,EAAUC,GAG5ChR,OAAO2R,SAAS,EAAGR,GAGnBD,EAAcF,EAAWhR,OAAO4R,sBAAsBH,cAQtDzR,OAAO2R,SAAS,EAAGjB,EAAQK,GAGvBxM,GAAWuM,IAEbvM,EAAQQ,aAAa,WAAY,MAGjCR,EAAQsN,SAIc,mBAAbtM,GACTA,IAIF0L,GAAY,EAxBVa,mBA6BUxE,OACRtK,EAAU+O,UAAU5C,OAAS,QAAsBxJ,IAAjBoM,UAAU,GAAmBA,UAAU,GAAK,UAGlFf,EAAWhO,EAAQgO,UAAY,IAC/BJ,EAAS5N,EAAQ4N,QAAU,EAC3BrL,EAAWvC,EAAQuC,SACnBsL,EAAS7N,EAAQ6N,QAAUd,GAC3Be,EAAO9N,EAAQ8N,OAAQ,EAGvBJ,EAAQU,SAGkB,IAAX9D,EAAyB,YAAc8C,GAAQ9C,QAEvD,SACH/I,OAAUoB,EACVmL,GAAO,EACPH,EAAOD,EAAQpD,YAKZ,SAEHqD,EAAOY,EADPhN,EAAU+I,aAMP,SACH/I,EAAUhE,SAASyR,cAAc1E,GACjCqD,EAAOY,EAAIhN,UAKfwM,EAAWJ,EAAOD,EAAQE,EAGlBR,GAAQpN,EAAQgO,eAEjB,SACHA,EAAWhO,EAAQgO,mBAIhB,WACHA,EAAWhO,EAAQgO,SAASD,GAKhC/Q,OAAO4R,sBAAsBH,IASjBQ,GClKKC,GACnB,WAAY3N,8BACL4N,OAAS5N,OACT6N,SAAWtD,KAAKqD,OAAO1N,aAAa,aAEpC0N,OAAOnI,iBAAiB,SAAS,WACpCqI,GAAKC,EAAKF,SAAU,CAElBpB,SAAU,IAEVzL,cAAUI,EAEVmL,MAAM,OAEP,qBCUGyB,WAAiB,SAAUC,QAG/BjB,IAAMiB,EAAOjB,SAGbkB,KAAOD,EAAOC,UAGdC,MAAQF,EAAOE,WAGfC,QAAUH,EAAOG,aAGjBC,gBAAkBJ,EAAOI,qBACzBC,yBAA2BL,EAAOK,8BAClCC,eAAiBhE,KAAK4D,MAAQF,EAAOI,iBAAmB,EAAIJ,EAAOK,+BACnEE,eAAiBjE,KAAK4D,MAAQF,EAAOI,iBAAmB,EAAIJ,EAAOK,+BAGnEG,qBAAuBR,EAAOQ,0BAC9BC,qBAAuBT,EAAOS,0BAG9BC,iBAAmBV,EAAOU,sBAG1BC,cAAgBX,EAAOW,mBAGvBC,MAAQ,QAGRC,OAAS,IAIXpG,UAAY,CAuBfqG,QAAS,SAAUC,OASjBC,EACAC,EACAC,EATGC,EAAW7E,KAAKsE,MAAMQ,OAAOL,GAEhCM,EAAyB/E,KAAK4D,OAASiB,EAASxE,OAAS,GAAKL,KAAK6D,QACnEmB,EAAiBH,EAASI,QAAO,SAAUC,EAAKC,UACxCD,EAAMC,EAAKC,cAChB,GACHC,EAAoBN,EAAyB/E,KAAK8D,uBAM/C9D,KAAKqE,eAEkB,IAAtBrE,KAAKsE,MAAMjE,QAEVoE,EAASW,aAAe,QAEtBd,MAAM/L,KAAKkM,QACXa,eAAeP,EAAyBN,EAASW,YAAa,YAC5D,GAKNJ,EAAiBhF,KAAKgE,qBAKpBM,MAAM/L,KAAKzE,OAAOC,OAAO,GAAI0Q,KAC3B,GAEGO,EAAiBhF,KAAKiE,eAMN,IAAtBjE,KAAKsE,MAAMjE,aAITiE,MAAM/L,KAAKzE,OAAOC,OAAO,GAAI0Q,SAC7Ba,eAAeP,EAAyBC,EAAgB,YACtD,IAKRN,EAAiC1E,KAAK4D,OAAS5D,KAAKsE,MAAMjE,OAAS,GAAKL,KAAK6D,QAC7Ec,EAAsB3E,KAAKsE,MAAMW,QAAO,SAAUC,EAAKC,UAC/CD,EAAMC,EAAKC,cAChB,GACHR,EAA4BF,EAAiC1E,KAAK8D,gBAE9DyB,KAAKC,IAAIR,EAAiBK,GAAqBE,KAAKC,IAAIb,EAAsBC,SAG5EU,eAAeZ,EAAiCC,EAAqB,YACnE,SAMFL,MAAM/L,KAAKzE,OAAOC,OAAO,GAAI0Q,SAC7Ba,eAAeP,EAAyBC,EAAgB,YACtD,UAQHV,MAAM/L,KAAKzE,OAAOC,OAAO,GAAI0Q,SAC7Ba,eAAeP,EAAyBC,EAAgB,YACtD,IAaTS,iBAAkB,kBACVzF,KAAKuE,OAAS,GAYtBe,eAAgB,SAAUI,EAAWtB,OAInCuB,EACAC,EACAC,EACAC,EAEAC,EAPGC,EAAehG,KAAK2D,KACvBoB,EAAyB/E,KAAK4D,OAAS5D,KAAKsE,MAAMjE,OAAS,GAAKL,KAAK6D,cAStC,IAArBO,GAAoC,CAAC,UAAW,SAAU,QAAQzH,QAAQyH,GAAoB,KACxGA,EAAmB,QAMhBsB,KAFJE,EAAgBL,KAAKU,IAAIjG,KAAKkE,qBAAsBqB,KAAKW,IAAIR,EAAW1F,KAAKmE,8BAOvEI,OAASqB,EACdD,EAAwBZ,EAAyBa,GAAkBb,EAAyBW,UAKvFnB,OAASmB,EACdC,EAAuB,QAKnBrB,MAAM1L,SAAQ,SAAUuM,GAE5BA,EAAK1C,IAAMzC,KAAKyC,IAChB0C,EAAKvB,MAAQuB,EAAKC,YAAcpF,KAAKuE,OAASoB,EAC9CR,EAAKZ,OAASvE,KAAKuE,OAKnBY,EAAKxB,KAAOqC,EAGZA,GAAgBb,EAAKvB,MAAQ5D,KAAK6D,UAEhC7D,MAIsB,YAArBoE,GAEH4B,GAAiBhG,KAAK6D,QAAU7D,KAAK2D,KAErCkC,GAAqBG,EAAehG,KAAK4D,OAAS5D,KAAKsE,MAAMjE,OAC7DyF,EAA0B9F,KAAKsE,MAAM6B,KAAI,SAAUhB,EAAM/M,UACjDmN,KAAKa,OAAOhO,EAAI,GAAKyN,MAIH,IAAtB7F,KAAKsE,MAAMjE,OAGOL,KAAKsE,MAAM,GACbV,OAAS2B,KAAKa,MAAMP,QAMlCvB,MAAM1L,SAAQ,SAAUuM,EAAM/M,GAC9BA,EAAI,GACP+M,EAAKxB,MAAQmC,EAAwB1N,EAAI,GACzC+M,EAAKvB,OAAUkC,EAAwB1N,GAAK0N,EAAwB1N,EAAI,IAExE+M,EAAKvB,OAASkC,EAAwB1N,OAMV,WAArBgM,IAGV2B,GAAgB/F,KAAK4D,MAAQoC,GAAgB,OAExC1B,MAAM1L,SAAQ,SAAUuM,GAC5BA,EAAKxB,MAAQoC,EAAe/F,KAAK6D,UAC/B7D,QAeLqG,cAAe,SAAUC,EAAYC,GAQX,iBAAdA,OAELjB,eAAeiB,EAAWvG,KAAKoE,uBAK/BkB,eAAetF,KAAK8D,gBAAiB9D,KAAKoE,mBAajDoC,SAAU,kBACFxG,KAAKsE;;;;;;ACjUd,IAAImC,GAAMC,WAWV,SAASC,GAAaC,EAAcC,OAE/BxC,SAG6C,IAA7CuC,EAAaE,8BACVD,EAAWE,MAAM1G,OAAS,GAAKuG,EAAaE,6BAAiC,IAClFzC,GAAgB,GAIX,IAAIoC,GAAI,CACdhE,IAAKoE,EAAWG,iBAChBrD,KAAMiD,EAAaK,iBAAiBtD,KACpCC,MAAOgD,EAAaM,eAAiBN,EAAaK,iBAAiBtD,KAAOiD,EAAaK,iBAAiBE,MACxGtD,QAAS+C,EAAaQ,WAAWC,WACjCvD,gBAAiB8C,EAAa9C,gBAC9BC,yBAA0B6C,EAAa7C,yBACvCG,qBAAsB,GAAM0C,EAAa9C,gBACzCK,qBAAsB,EAAIyC,EAAa9C,gBACvCwD,aAAa,EACbjD,cAAeA,EACfD,iBAAkBwC,EAAaxC,mBAejC,SAASmD,GAAOX,EAAcC,EAAYW,UAEzCX,EAAWE,MAAMxO,KAAKiP,GACtBX,EAAWY,aAAeZ,EAAWY,aAAa3C,OAAO0C,EAAIhB,YAG7DK,EAAWG,kBAAoBQ,EAAIjD,OAASqC,EAAaQ,WAAWM,SAE7DF,EAAIlD,UA+HZqD,GAAiB,SAAUC,EAAOC,OAC7BjB,EAAe,GACfC,EAAa,GAGbiB,EAAW,CACdZ,eAAgB,KAChBD,iBAAkB,GAClBG,WAAY,GACZtD,gBAAiB,IACjBC,yBAA0B,IAC1BgE,WAAYC,OAAOC,kBACnBC,kBAAkB,EAClBC,YAAY,EACZrB,6BAA6B,EAC7B1C,iBAAkB,QAGf6C,EAAmB,GACnBG,EAAa,UAEjBS,EAASA,GAAU,GAGnBjB,EAAe9S,OAAOC,OAAO+T,EAAUD,GAGvCZ,EAAiBxE,IAAQ2F,MAAMC,WAAWzB,EAAaK,iBAAiBxE,MAA6CmE,EAAaK,iBAAjDL,EAAaK,iBAAiBxE,IAC/GwE,EAAiBE,MAAUiB,MAAMC,WAAWzB,EAAaK,iBAAiBE,QAAiDP,EAAaK,iBAAnDL,EAAaK,iBAAiBE,MACnHF,EAAiBqB,OAAWF,MAAMC,WAAWzB,EAAaK,iBAAiBqB,SAAmD1B,EAAaK,iBAApDL,EAAaK,iBAAiBqB,OACrHrB,EAAiBtD,KAASyE,MAAMC,WAAWzB,EAAaK,iBAAiBtD,OAA+CiD,EAAaK,iBAAlDL,EAAaK,iBAAiBtD,KACjHyD,EAAWC,WAAee,MAAMC,WAAWzB,EAAaQ,WAAWC,aAAqDT,EAAaQ,WAAlDR,EAAaQ,WAAWC,WAC3GD,EAAWM,SAAaU,MAAMC,WAAWzB,EAAaQ,WAAWM,WAAiDd,EAAaQ,WAAhDR,EAAaQ,WAAWM,SAEvGd,EAAaK,iBAAmBA,EAChCL,EAAaQ,WAAaA,EAG1BP,EAAWY,aAAe,GAC1BZ,EAAW0B,YAAc,GACzB1B,EAAW2B,iBAAmB,GAC9B3B,EAAW4B,gBAAkB,GAC7B5B,EAAW6B,iBAAmB,GAC9B7B,EAAWG,iBAAmBJ,EAAaK,iBAAiBxE,IAC5DoE,EAAWE,MAAQ,GACnBF,EAAW8B,SAAW,GACtB/B,EAAagC,YAAc,EA/J5B,SAAuBhC,EAAcC,EAAYgC,OAG/CC,EACAC,EACAC,EAHGC,EAAe,UAMfrC,EAAasB,kBAChBW,EAAejQ,SAAQ,SAAU6L,GAChCA,EAASyE,mBAAoB,EAC7BzE,EAASW,YAAcwB,EAAasB,oBAKtCW,EAAeM,MAAK,SAAU1E,EAAUrM,MAEnCgQ,MAAM3D,EAASW,mBACZ,IAAIgE,MAAM,QAAUhR,EAAI,mCAI1B2Q,IACJA,EAAapC,GAAaC,EAAcC,IAIzCiC,EAAYC,EAAWvE,QAAQC,GAE3BsE,EAAWtD,mBAAoB,IAGlCwD,EAAeA,EAAanE,OAAOyC,GAAOX,EAAcC,EAAYkC,IAEhElC,EAAWE,MAAM1G,QAAUuG,EAAamB,kBAC3CgB,EAAa,MACN,KAGRA,EAAapC,GAAaC,EAAcC,IAGnCiC,IAEJA,EAAYC,EAAWvE,QAAQC,GAE3BsE,EAAWtD,oBAAoB,IAGlCwD,EAAeA,EAAanE,OAAOyC,GAAOX,EAAcC,EAAYkC,IAChElC,EAAWE,MAAM1G,QAAUuG,EAAamB,kBAC3CgB,EAAa,MACN,EAERA,EAAapC,GAAaC,EAAcC,QASxCkC,GAAcA,EAAWvC,WAAWnG,QAAUuG,EAAauB,aAG1DtB,EAAWE,MAAM1G,QAInB2I,EADGnC,EAAWE,MAAMF,EAAWE,MAAM1G,OAAS,GAAGgE,cAC3BwC,EAAWE,MAAMF,EAAWE,MAAM1G,OAAS,GAAGyD,gBAE9C+C,EAAWE,MAAMF,EAAWE,MAAM1G,OAAS,GAAGkE,OAGrEwE,EAAW1C,eAAc,EAAO2C,IAKhCD,EAAW1C,eAAc,GAI1B4C,EAAeA,EAAanE,OAAOyC,GAAOX,EAAcC,EAAYkC,IACpEnC,EAAagC,YAAcG,EAAWvC,WAAWnG,QAMlDwG,EAAWG,iBAAmBH,EAAWG,iBAAmBJ,EAAaQ,WAAWM,SAEpFb,EAAWG,iBAAmBH,EAAWG,iBAAmBJ,EAAaK,iBAAiBqB,OAEnF,CACNe,gBAAiBxC,EAAWG,iBAC5BsC,WAAY1C,EAAagC,YACzBW,MAAO1C,EAAWY,cA+DZ+B,CAAc5C,EAAcC,EAAYe,EAAMzB,KAAI,SAAUhB,UAC9DA,EAAKvB,OAASuB,EAAKZ,OACf,CAAEa,YAAaD,EAAKvB,MAAQuB,EAAKZ,QAEjC,CAAEa,YAAaD,QCnOJsE,yBACPC,OAAY7B,yDAAS,mBAC1B6B,WAAaA,OACbC,OAAS3J,KAAK0J,WAAWrK,iBAAiB,4BAC1CwI,OAASA,OAET+B,sCAGP,gBACOC,kBAAoB7J,KAAK8J,4BACzBC,SAAWC,GAAgBhK,KAAK6J,kBAAmB7J,KAAK6H,aAExDoC,qDAGP,kBACShL,MAAMiL,KAAKlK,KAAK2J,QAAQxD,KAAI,SAAAgE,UAASnC,OAAOmC,EAAMC,QAAQhF,8CAGnE,2BACOuE,OAAO/Q,SAAQ,SAACuR,EAAOE,GACtB7G,EAAKuG,SAASR,MAAMc,IACtBF,EAAMlQ,MAAM2J,gBAAWJ,EAAKuG,SAASR,MAAMc,GAAOzG,YAClDuG,EAAMlQ,MAAMsK,iBAAYf,EAAKuG,SAASR,MAAMc,GAAO9F,aACnD4F,EAAMlQ,MAAMwI,cAASe,EAAKuG,SAASR,MAAMc,GAAO5H,UAChD0H,EAAMlQ,MAAM0J,eAAUH,EAAKuG,SAASR,MAAMc,GAAO1G,YAEjDwG,EAAMlQ,MAAMqQ,QAAU,eAIrBZ,WAAWzP,MAAMsK,iBAAYvE,KAAK+J,SAASV,+BCjD/BkB,yBACPC,sBACLC,UAAYhZ,SAASyR,cAAc,+BACnClD,KAAKyK,UAAW,OAAOC,QAAQC,KAAK,+BACpCC,OAAS5K,KAAKyK,UAAUvH,cAAc,mCACtC2H,QAAU7K,KAAKyK,UAAUpL,iBAAiB,gCAC1CyL,UAAY9K,KAAKyK,UAAUvH,cAAc,4BACzC6H,MAAQ/K,KAAKyK,UAAUvH,cAAc,4BACrC8H,SAAWhL,KAAKyK,UAAUvH,cAAc,kCAExC+H,MAAQxZ,SAASyZ,UACjBV,SAAWA,OAEXW,OAAS,QACTC,UAAW,OACXC,aAAe,OAEfC,mBACApP,0DAGP,2BACOsO,SAAS5R,SAAQ,SAAC2S,EAASlB,GAC9B7G,EAAKgI,4BAA4BD,GACjC/H,EAAKiI,yBAAyBF,EAASlB,iDAI3C,SAA4BkB,OACpBG,EAAQH,EAAQrI,cAAc,YAE/BiI,OAAO5S,KAAK,CACfoT,IAAKD,EAAM/V,aAAa,aAAe+V,EAAM/V,aAAa,OAC1DiW,OAAQF,EAAM/V,aAAa,gBAAkB+V,EAAM/V,aAAa,yCAIpE,eAAckW,+DACPpB,UAAUzT,UAAU8U,OAAO,cAAeD,kCAGjD,SAAgBF,UACP,IAAII,SAAQ,SAACC,EAASC,OACvBJ,EAAM,IAAIK,MACdL,EAAIM,OAAS,kBAAMH,EAAQH,IAC3BA,EAAIO,QAAUH,EACdJ,EAAIF,IAAMA,+BAKd,SAAW/D,UACF,IAAImE,SAAQ,SAACC,EAASC,OACvBP,EAEiB,iBAAV9D,GACT8D,EAAQ,IAAIQ,OAGNP,IAAM/D,EACHA,aAAiB1J,mBAC1BwN,EAAQ9D,GAGJ8D,EAAMW,aACRL,EAAQN,GAECA,EAAMY,SACfL,EAAOP,IAIPA,EAAMS,OAAS,WACTT,EAAMW,aACRL,EAAQN,GAERO,EAAOP,IAIXA,EAAMU,QAAU,WACVV,EAAMW,aACRL,EAAQN,GAERO,EAAOP,iCAOnB,2BACOa,eAAc,OAEbb,EAAQ,CACZc,QAASxM,KAAKmL,OAAOnL,KAAKqL,cAC1BoB,SAAUzM,KAAKmL,OAAOnL,KAAKqL,aAAe,GAC1ChJ,KAAMrC,KAAKmL,OAAOnL,KAAKqL,aAAe,SAGnCT,OAAO3U,aAAa,QAAS,cAC7B2U,OAAO3U,aAAa,SAAUyV,EAAMc,QAAQZ,aAC5ChB,OAAO3U,aAAa,MAAOyV,EAAMc,QAAQb,UAEzCb,UAAU7Q,MAAMqQ,QAAUoB,EAAMe,SAAW,GAAK,YAChD1B,MAAM9Q,MAAMqQ,QAAUoB,EAAMrJ,KAAO,GAAK,OAE7CqK,YAAW,WACTC,EAAKC,WAAWD,EAAK/B,QAClBiC,MAAK,SAAAnB,UAASiB,EAAKJ,cAAcb,MACjCoB,OAAM,SAAApB,UAAShB,QAAQqC,MAAMrB,EAAMC,IAAK,gCAC1C,4CAGL,SAAyBJ,EAASlB,cAChCkB,EAAQrQ,iBAAiB,SAAS,SAAC/G,GACjC6Y,EAAK3B,aAAehB,EACpB2C,EAAK5B,UAAW,EAMhB4B,EAAKC,YAGLD,EAAK/B,MAAMjU,UAAU8U,OAAO,oBAC5BkB,EAAKvC,UAAUzT,UAAU8U,OAAO,aAEhCkB,EAAKvC,UAAUxQ,MAAMiT,cAAgB,GAUrC/Y,EAAMgZ,iDAIV,gBACO/B,UAAW,OACXH,MAAMjU,UAAUG,OAAO,yBACvBsT,UAAUzT,UAAUG,OAAO,kBAE3BsT,UAAUxQ,MAAMiT,cAAgB,YAGhCtC,OAAO3U,aAAa,SAAU,SAC9B2U,OAAO3U,aAAa,MAAO,qCAKlC,2BACO8U,MAAM7P,iBAAiB,SAAS,SAAA/G,GACnCiZ,EAAK/B,cAAgB,EACrB+B,EAAKH,UAAUG,EAAK/B,cACpBlX,EAAMgZ,yBAEHrC,UAAU5P,iBAAiB,SAAS,SAAA/G,GACvCiZ,EAAK/B,cAAgB,EACrB+B,EAAKH,UAAUG,EAAK/B,cACpBlX,EAAMgZ,yBAGHtC,QAAQjS,SAAQ,SAAAyU,GACnBA,EAAOnS,iBAAiB,SAAS,SAAC/G,GAEhCiZ,EAAKE,gBACLnZ,EAAMgZ,uBAIV1b,SAASyJ,iBAAiB,WAAW,SAAC/G,MAEhCiZ,EAAKhC,gBACCjX,EAAMoZ,SACP,SACHH,EAAKE,0BAGF,YACHF,EAAK/B,cAAgB,EACjB+B,EAAKjC,OAAOiC,EAAK/B,cACnB+B,EAAKH,UAAUG,EAAK/B,cAEpB+B,EAAK/B,cAAgB,YAIpB,aACH+B,EAAK/B,cAAgB,EACjB+B,EAAKjC,OAAOiC,EAAK/B,cACnB+B,EAAKH,UAAUG,EAAK/B,cAEpB+B,EAAK/B,cAAgB,eCnMnC5Z,SAASyJ,iBAAiB,oBCKV,eACR+P,EAAQxZ,SAASyZ,KAEjBsC,EAAU/b,SAASyR,cAAc,WACjCuK,EAAQD,EAAQtK,cAAc,cAC9BwK,EAAoBF,EAAQtK,cAAc,uBAG9B,IAAIpD,GAAS,CAC7BhO,kBAAmB,gBAIrB4b,EAAkBxS,iBAAiB,SAAS,SAAC/G,GCtBxC,IAAsBwZ,EAAUC,EAAUC,EDuB7C1Z,EAAMgZ,iBCvB6BS,EDwBf,SCxByBC,EDwBf,QCxBLF,EDwBZF,GCvBNxX,aAAa,aAAc0X,EAAShY,aAAa,gBAAkBiY,EAAWC,EAAWD,MDwB/F,OAGGE,EAAoBrc,SAAS4N,iBAAiB,gBAChDyO,EAAkBzN,OAAS,GAC7ByN,EAAkBlV,SAAQ,SAAAmV,OACpB3K,GAAoB2K,UAItBC,EAAkB3F,WACtBnX,OAAO+c,iBAAiBhD,GAAOiD,iBAAiB,oBA2B5CC,EAAoB1c,SAAS4N,iBAAiB,2BAChD8O,EAAkB9N,OAAS,GAC7B8N,EAAkBvV,SAAQ,SAAAwV,OAElBvG,EAAS,CACbT,WAAY4G,EAAkB,EAC9B/G,iBAAkB+G,EAClB9G,eAAgBkH,EAAiBC,aAAe5c,SAAS6c,gBAAgBD,YACzEvK,gBAAiB,YAGXsK,EAAiBhE,QAAQJ,qBAC1B,UACHnC,EAAOZ,iBAAmB,EAC1BY,EAAOX,eAAiBW,EAAOX,8BAnC/BqH,EAAQ9c,SAASC,cAAc,OACrC6c,EAAMtU,MAAMuU,WAAa,SACzBD,EAAMtU,MAAMwU,SAAW,SACvBF,EAAMtU,MAAMyU,gBAAkB,YAC9Bjd,SAASyZ,KAAKyD,YAAYJ,OAGpBK,EAAQnd,SAASC,cAAc,OACrC6c,EAAMI,YAAYC,OAGZC,EAAkBN,EAAMO,YAAcF,EAAME,mBAGlDP,EAAM5V,WAAWoW,YAAYR,GAEtBM,EAmB+CG,aAG7C,UACHnH,EAAO/D,gBAAkB5S,OAAO+d,WAAa,MAO7CxF,GAAgB2E,EAAkBvG,UAIpCqH,EAAUzd,SAAS4N,iBAAiB,gBACtC6P,EAAQ7O,OAAS,GAEnB6O,EAAQtW,SAAQ,SAAAuW,OACRC,EAAcD,EAAO9W,SAEvB+W,EAAY/O,OAAS,GElGJ,SAACgP,OAAWC,yDAAS,GAAIC,yDAAW,EACvDC,EAAS,EAAIjK,KAAKkK,GAAMJ,EAAUhP,OAExCgP,EAAUzW,SAAQ,SAAC+U,EAAUtD,OACrBqF,EAAYF,GAASnF,EAAQkF,GAC7BI,EAAIpK,KAAKqK,IAAIF,GAAaJ,EAC1BO,EAAItK,KAAKuK,IAAIJ,GAAaJ,EAEhC3B,EAAS1T,MAAM8V,0CAAqCJ,gCAAuBE,YAE3ElC,EAASzS,iBAAiB,cAAc,WACtCyS,EAAS1T,MAAM+V,oBAAoB,MAAJL,kBAAqB,MAAJE,kBAAgB,gCAGlElC,EAASzS,iBAAiB,cAAc,WACtCyS,EAAS1T,MAAM+V,sCFoFbC,CAAmBhR,MAAMiL,KAAKkF,GAAc,GAAI,YAShDc,EAAmBze,SAAS4N,iBAAiB,4BAC/C6Q,EAAiB7P,aACfkK,GAAqB2F,GGhGd,SAAmBhc,OAO5Bic,EAJE1Z,GADNvC,EAAUA,GAAW,IACIuC,UAAY,aAC/B2Z,EAAiBlc,EAAQkc,gBAAkB,aAC3CC,EAAWnc,EAAQmc,UAAY,IACjCjF,GAAW,WAGNkF,IACFlF,IACLA,GAAW,EACX3U,cAEO8Z,IACFnF,IACHA,GAAW,EACXgF,KAEFI,aAAaL,GACbA,EAAQzD,WAAW4D,EAAMD,YAGlBI,EAAkBC,GACzBxf,OAAOwf,GAAa,OAAQH,GAC5B9e,SAASif,GAAa,YAAaH,GACnC9e,SAASif,GAAa,SAAUH,GAChC9e,SAASif,GAAa,WAAYH,GAClC9e,SAASif,GAAa,QAASH,GAQjCE,EAAkB,oBAClBF,IH6DEI,CAAU,CAERla,SAAU,kBAAMwU,EAAMjU,UAAUC,IAAI,YAEpCmZ,eAAgB,kBAAMnF,EAAMjU,UAAUG,OAAO,YAE7CkZ,SAAU,UDlHuC,GAGvDnf,OAAOgK,iBAAiB,QKLL,YCFJ,eACP0V,EAAUnf,SAASyR,cAAc,WACjC2N,EAAgB3f,OAAO+c,iBAAiB2C,GAAS1C,iBAAiB,WAExE0C,EAAQ3W,MAAMqQ,QAAU,WAElBwG,EAAiBrf,SAAS6c,gBAAgByC,aACzBtf,SAASyZ,KAAK6F,aAGG,IAAjBD,EAA0BA,IAC/CF,EAAQ3W,MAAMqQ,QAAUuG,GDP1BG,GAEAvf,SAASyR,cAAc,YAAYlM,UAAUG,OAAO,cLCV"}